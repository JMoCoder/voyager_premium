# Voyager Premium 🌍✈️

Voyager Premium 是一个现代化的智能旅行追踪与规划应用。利用 AI 驱动的功能，帮助您轻松记录足迹、规划行程，并在交互式世界地图上可视化您的旅行经历。

## 🔗 在线演示

👉 **立即访问：[https://jmocoder.github.io/voyager_premium/](https://jmocoder.github.io/voyager_premium/)**

> **提示**：手机端直接点击上方链接，即可体验完整功能。推荐按照下方的“手机端使用说明”将其安装为本地程序，体验更佳。

## ✨ 主要功能

- **交互式世界地图**：基于 D3.js 和 TopoJSON 构建的高性能地图，直观展示您的旅行足迹。
- **智能行程规划**：集成 Google Gemini AI，为您提供智能的行程建议和内容生成。
- **可视化数据**：通过精美的图表和卡片视图管理您的旅行数据。
- **本地化存储**：数据安全存储在本地，保护您的隐私。
- **响应式设计**：完美适配桌面端和移动端设备。

## 🛠️ 技术栈

- **前端框架**: React 19 + TypeScript
- **构建工具**: Vite
- **地图渲染**: D3-geo, TopoJSON
- **UI 组件**: Lucide React
- **AI 集成**: Google GenAI SDK
- **工具库**: Papaparse (CSV解析), Html-to-image

## 🚀 快速开始

### 重要提示：关于 API Key

⚠️ **注意**：本项目集成了 Google Gemini AI 功能。为了使用这些功能（如 AI 行程建议、图片生成等），您必须配置自己的 API Key。

**官方提供的在线演示版本不提供 API 服务**，仅用于展示 UI 和基础交互。如果您克隆本项目进行二次开发或本地部署，请务必按照以下步骤配置您的 Key。

### 前提条件

- Node.js (推荐 v18 或更高版本)
- npm 或 yarn

### 安装与运行

1. **克隆项目或下载源码**

2. **安装依赖**
   ```bash
   npm install
   ```

3. **配置环境变量**
   在项目根目录找到 `.env.local` 文件（如果没有则创建），并填入您的 Gemini API Key：
   ```env
   VITE_GEMINI_API_KEY=your_api_key_here
   ```

4. **启动开发服务器**
   ```bash
   npm run dev
   ```
   打开浏览器访问 http://localhost:5173 即可看到应用。

## 💾 数据安全与备份 (重要)

本应用目前采用 **本地存储 (LocalStorage)** 技术。

- **优势**：数据完全存储在您的设备上，隐私性极高，无需注册账号。
- **风险**：**数据容易丢失！** 如果您清除浏览器缓存、卸载浏览器或重置手机，所有旅行记录都将**永久丢失**且无法找回。

**强烈建议：**
1. 定期进入 **设置 (Settings)** -> **CSV 导入/导出**。
2. 点击 **导出 CSV** 将数据备份文件保存到您的电脑或云盘中。
3. 即使更换设备，也可以通过 **导入 CSV** 功能轻松恢复所有数据。

## 📱 手机端使用说明 (构建本地程序)

本应用设计为**渐进式 Web 应用 (PWA)**，您可以直接通过手机浏览器打开，并将其“构建”/安装为本地原生体验的程序，无需通过应用商店下载。

### 局域网访问（本地开发模式）

如果您是在电脑上运行开发服务器，并希望在手机上预览：
1. 确保手机和电脑连接到**同一个 Wi-Fi 网络**。
2. 使用以下命令启动服务以暴露局域网地址：
   ```bash
   npm run dev -- --host
   ```
3. 终端会显示类似 `Network: http://192.168.x.x:5173/` 的地址，在手机浏览器中输入该地址。

### 安装到主屏幕 (构建本地程序)

本应用支持 PWA (Progressive Web App) 技术。在手机浏览器中打开应用后，您可以按照以下步骤将其添加到桌面，获得全屏、流畅的类原生 App 体验：

**🤖 Android (Chrome 浏览器)**
1. 点击浏览器右上角的菜单按钮 (三个点 `⋮`)。
2. 在菜单中找到并点击 **"添加到主屏幕" (Add to Home Screen)** 或 **"安装应用" (Install App)**。
3. 点击确认。应用图标将出现在您的手机桌面上。

**🍎 iOS (Safari 浏览器)**
1. 点击底部工具栏中间的 **"分享" (Share)** 按钮 (带向上箭头的方框图标)。
2. 在弹出的面板中向下滑动，找到并点击 **"添加到主屏幕" (Add to Home Screen)**。
3. 点击右上角的 "添加" (Add)。应用图标将出现在您的手机桌面上。

**🌐 其他浏览器 (Edge / Firefox 等)**
- **Edge (Android/iOS)**: 点击底部菜单 `···` -> 选择 "添加到主屏幕"。
- **Samsung Internet**: 点击底部菜单 `≡` -> "添加页面到" -> "主屏幕"。
- **Firefox (Android)**: 点击底部菜单 `⋮` -> "安装" 或 "添加到主屏幕"。

现在，您可以直接点击桌面图标启动 Voyager Premium，享受全屏沉浸式体验！

## 📄 许可证

本项目采用 [MIT 许可证](LICENSE) 开源。
