(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();function gy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dc={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function rE(){if(Om)return Ql;Om=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:n,type:l,key:f,ref:a!==void 0?a:null,props:u}}return Ql.Fragment=e,Ql.jsx=o,Ql.jsxs=o,Ql}var Bm;function uE(){return Bm||(Bm=1,Dc.exports=rE()),Dc.exports}var T=uE(),Ic={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function cE(){if(Fm)return Re;Fm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(N,q,Y){this.props=N,this.context=q,this.refs=M,this.updater=Y||b}k.prototype.isReactComponent={},k.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=k.prototype;function z(N,q,Y){this.props=N,this.context=q,this.refs=M,this.updater=Y||b}var O=z.prototype=new $;O.constructor=z,D(O,k.prototype),O.isPureReactComponent=!0;var Z=Array.isArray;function F(){}var V={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(N,q,Y){var H=Y.ref;return{$$typeof:n,type:N,key:q,ref:H!==void 0?H:null,props:Y}}function I(N,q){return A(N.type,q,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function j(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return q[Y]})}var ne=/\/+/g;function oe(N,q){return typeof N=="object"&&N!==null&&N.key!=null?j(""+N.key):q.toString(36)}function K(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(F,F):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function L(N,q,Y,H,te){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var de=!1;if(N===null)de=!0;else switch(se){case"bigint":case"string":case"number":de=!0;break;case"object":switch(N.$$typeof){case n:case e:de=!0;break;case v:return de=N._init,L(de(N._payload),q,Y,H,te)}}if(de)return te=te(N),de=H===""?"."+oe(N,0):H,Z(te)?(Y="",de!=null&&(Y=de.replace(ne,"$&/")+"/"),L(te,q,Y,"",function(be){return be})):te!=null&&(P(te)&&(te=I(te,Y+(te.key==null||N&&N.key===te.key?"":(""+te.key).replace(ne,"$&/")+"/")+de)),q.push(te)),1;de=0;var he=H===""?".":H+":";if(Z(N))for(var pe=0;pe<N.length;pe++)H=N[pe],se=he+oe(H,pe),de+=L(H,q,Y,se,te);else if(pe=x(N),typeof pe=="function")for(N=pe.call(N),pe=0;!(H=N.next()).done;)H=H.value,se=he+oe(H,pe++),de+=L(H,q,Y,se,te);else if(se==="object"){if(typeof N.then=="function")return L(K(N),q,Y,H,te);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(N,q,Y){if(N==null)return N;var H=[],te=0;return L(N,H,"","",function(se){return q.call(Y,se,te++)}),H}function re(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ue=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},_e={map:X,forEach:function(N,q,Y){X(N,function(){q.apply(this,arguments)},Y)},count:function(N){var q=0;return X(N,function(){q++}),q},toArray:function(N){return X(N,function(q){return q})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Re.Activity=S,Re.Children=_e,Re.Component=k,Re.Fragment=o,Re.Profiler=a,Re.PureComponent=z,Re.StrictMode=l,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return V.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(N,q,Y){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var H=D({},N.props),te=N.key;if(q!=null)for(se in q.key!==void 0&&(te=""+q.key),q)!R.call(q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&q.ref===void 0||(H[se]=q[se]);var se=arguments.length-2;if(se===1)H.children=Y;else if(1<se){for(var de=Array(se),he=0;he<se;he++)de[he]=arguments[he+2];H.children=de}return A(N.type,te,H)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,q,Y){var H,te={},se=null;if(q!=null)for(H in q.key!==void 0&&(se=""+q.key),q)R.call(q,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(te[H]=q[H]);var de=arguments.length-2;if(de===1)te.children=Y;else if(1<de){for(var he=Array(de),pe=0;pe<de;pe++)he[pe]=arguments[pe+2];te.children=he}if(N&&N.defaultProps)for(H in de=N.defaultProps,de)te[H]===void 0&&(te[H]=de[H]);return A(N,se,te)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:p,render:N}},Re.isValidElement=P,Re.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:re}},Re.memo=function(N,q){return{$$typeof:m,type:N,compare:q===void 0?null:q}},Re.startTransition=function(N){var q=V.T,Y={};V.T=Y;try{var H=N(),te=V.S;te!==null&&te(Y,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(F,ue)}catch(se){ue(se)}finally{q!==null&&Y.types!==null&&(q.types=Y.types),V.T=q}},Re.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Re.use=function(N){return V.H.use(N)},Re.useActionState=function(N,q,Y){return V.H.useActionState(N,q,Y)},Re.useCallback=function(N,q){return V.H.useCallback(N,q)},Re.useContext=function(N){return V.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,q){return V.H.useDeferredValue(N,q)},Re.useEffect=function(N,q){return V.H.useEffect(N,q)},Re.useEffectEvent=function(N){return V.H.useEffectEvent(N)},Re.useId=function(){return V.H.useId()},Re.useImperativeHandle=function(N,q,Y){return V.H.useImperativeHandle(N,q,Y)},Re.useInsertionEffect=function(N,q){return V.H.useInsertionEffect(N,q)},Re.useLayoutEffect=function(N,q){return V.H.useLayoutEffect(N,q)},Re.useMemo=function(N,q){return V.H.useMemo(N,q)},Re.useOptimistic=function(N,q){return V.H.useOptimistic(N,q)},Re.useReducer=function(N,q,Y){return V.H.useReducer(N,q,Y)},Re.useRef=function(N){return V.H.useRef(N)},Re.useState=function(N){return V.H.useState(N)},Re.useSyncExternalStore=function(N,q,Y){return V.H.useSyncExternalStore(N,q,Y)},Re.useTransition=function(){return V.H.useTransition()},Re.version="19.2.3",Re}var Ym;function Nf(){return Ym||(Ym=1,Ic.exports=cE()),Ic.exports}var ce=Nf();const fE=gy(ce);var kc={exports:{}},Zl={},Uc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function dE(){return Jm||(Jm=1,(function(n){function e(L,X){var re=L.length;L.push(X);e:for(;0<re;){var ue=re-1>>>1,_e=L[ue];if(0<a(_e,X))L[ue]=X,L[re]=_e,re=ue;else break e}}function o(L){return L.length===0?null:L[0]}function l(L){if(L.length===0)return null;var X=L[0],re=L.pop();if(re!==X){L[0]=re;e:for(var ue=0,_e=L.length,N=_e>>>1;ue<N;){var q=2*(ue+1)-1,Y=L[q],H=q+1,te=L[H];if(0>a(Y,re))H<_e&&0>a(te,Y)?(L[ue]=te,L[H]=re,ue=H):(L[ue]=Y,L[q]=re,ue=q);else if(H<_e&&0>a(te,re))L[ue]=te,L[H]=re,ue=H;else break e}}return X}function a(L,X){var re=L.sortIndex-X.sortIndex;return re!==0?re:L.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,S=null,_=3,x=!1,b=!1,D=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function O(L){for(var X=o(m);X!==null;){if(X.callback===null)l(m);else if(X.startTime<=L)l(m),X.sortIndex=X.expirationTime,e(y,X);else break;X=o(m)}}function Z(L){if(D=!1,O(L),!b)if(o(y)!==null)b=!0,F||(F=!0,j());else{var X=o(m);X!==null&&K(Z,X.startTime-L)}}var F=!1,V=-1,R=5,A=-1;function I(){return M?!0:!(n.unstable_now()-A<R)}function P(){if(M=!1,F){var L=n.unstable_now();A=L;var X=!0;try{e:{b=!1,D&&(D=!1,$(V),V=-1),x=!0;var re=_;try{t:{for(O(L),S=o(y);S!==null&&!(S.expirationTime>L&&I());){var ue=S.callback;if(typeof ue=="function"){S.callback=null,_=S.priorityLevel;var _e=ue(S.expirationTime<=L);if(L=n.unstable_now(),typeof _e=="function"){S.callback=_e,O(L),X=!0;break t}S===o(y)&&l(y),O(L)}else l(y);S=o(y)}if(S!==null)X=!0;else{var N=o(m);N!==null&&K(Z,N.startTime-L),X=!1}}break e}finally{S=null,_=re,x=!1}X=void 0}}finally{X?j():F=!1}}}var j;if(typeof z=="function")j=function(){z(P)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=P,j=function(){oe.postMessage(null)}}else j=function(){k(P,0)};function K(L,X){V=k(function(){L(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(L){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var re=_;_=X;try{return L()}finally{_=re}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=_;_=L;try{return X()}finally{_=re}},n.unstable_scheduleCallback=function(L,X,re){var ue=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,L){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,L={id:v++,callback:X,priorityLevel:L,startTime:re,expirationTime:_e,sortIndex:-1},re>ue?(L.sortIndex=re,e(m,L),o(y)===null&&L===o(m)&&(D?($(V),V=-1):D=!0,K(Z,re-ue))):(L.sortIndex=_e,e(y,L),b||x||(b=!0,F||(F=!0,j()))),L},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(L){var X=_;return function(){var re=_;_=X;try{return L.apply(this,arguments)}finally{_=re}}}})(Lc)),Lc}var Km;function hE(){return Km||(Km=1,Uc.exports=dE()),Uc.exports}var zc={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function pE(){if(Xm)return Nt;Xm=1;var n=Nf();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:y,containerInfo:m,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Nt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},Nt.flushSync=function(y){var m=f.T,v=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=m,l.p=v,l.d.f()}},Nt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(y,m))},Nt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Nt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?l.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:x}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(y)},Nt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);l.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(y)},Nt.requestFormReset=function(y){l.d.r(y)},Nt.unstable_batchedUpdates=function(y,m){return y(m)},Nt.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},Nt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nt.version="19.2.3",Nt}var $m;function mE(){if($m)return zc.exports;$m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zc.exports=pE(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function gE(){if(Qm)return Zl;Qm=1;var n=hE(),e=Nf(),o=mE();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(l(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(l(188));return i!==t?null:t}for(var s=t,r=i;;){var h=s.return;if(h===null)break;var g=h.alternate;if(g===null){if(r=h.return,r!==null){s=r;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===s)return y(h),t;if(g===r)return y(h),i;g=g.sibling}throw Error(l(188))}if(s.return!==r.return)s=h,r=g;else{for(var E=!1,C=h.child;C;){if(C===s){E=!0,s=h,r=g;break}if(C===r){E=!0,r=h,s=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===s){E=!0,s=g,r=h;break}if(C===r){E=!0,r=g,s=h;break}C=C.sibling}if(!E)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ne?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case Z:return"Suspense";case F:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case z:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:oe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return oe(t(i))}catch{}}return null}var K=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],_e=-1;function N(t){return{current:t}}function q(t){0>_e||(t.current=ue[_e],ue[_e]=null,_e--)}function Y(t,i){_e++,ue[_e]=t.current,t.current=i}var H=N(null),te=N(null),se=N(null),de=N(null);function he(t,i){switch(Y(se,i),Y(te,t),Y(H,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fm(i),t=dm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(H),Y(H,t)}function pe(){q(H),q(te),q(se)}function be(t){t.memoizedState!==null&&Y(de,t);var i=H.current,s=dm(i,t.type);i!==s&&(Y(te,t),Y(H,s))}function ae(t){te.current===t&&(q(H),q(te)),de.current===t&&(q(de),Jl._currentValue=re)}var ve,Te;function me(t){if(ve===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ve=i&&i[1]||"",Te=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+t+Te}var fe=!1;function Ee(t,i){if(!t||fe)return"";fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(W){var Q=W}Reflect.construct(t,[],le)}else{try{le.call()}catch(W){Q=W}t.call(le.prototype)}}else{try{throw Error()}catch(W){Q=W}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),E=g[0],C=g[1];if(E&&C){var w=E.split(`
`),J=C.split(`
`);for(h=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(r===w.length||h===J.length)for(r=w.length-1,h=J.length-1;1<=r&&0<=h&&w[r]!==J[h];)h--;for(;1<=r&&0<=h;r--,h--)if(w[r]!==J[h]){if(r!==1||h!==1)do if(r--,h--,0>h||w[r]!==J[h]){var ee=`
`+w[r].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=r&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?me(s):""}function Fe(t,i){switch(t.tag){case 26:case 27:case 5:return me(t.type);case 16:return me("Lazy");case 13:return t.child!==i&&i!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return me("Activity");default:return""}}function De(t){try{var i="",s=null;do i+=Fe(t,s),s=t,t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Pe=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,bn=n.unstable_cancelCallback,jt=n.unstable_shouldYield,Ui=n.unstable_requestPaint,Je=n.unstable_now,en=n.unstable_getCurrentPriorityLevel,at=n.unstable_ImmediatePriority,_t=n.unstable_UserBlockingPriority,Ut=n.unstable_NormalPriority,il=n.unstable_LowPriority,ol=n.unstable_IdlePriority,ni=n.log,tn=n.unstable_setDisableYieldValue,vn=null,Rt=null;function ii(t){if(typeof ni=="function"&&tn(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(vn,t)}catch{}}var Bt=Math.clz32?Math.clz32:Xv,Jv=Math.log,Kv=Math.LN2;function Xv(t){return t>>>=0,t===0?32:31-(Jv(t)/Kv|0)|0}var cs=256,fs=262144,ds=4194304;function Li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hs(t,i,s){var r=t.pendingLanes;if(r===0)return 0;var h=0,g=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var C=r&134217727;return C!==0?(r=C&~g,r!==0?h=Li(r):(E&=C,E!==0?h=Li(E):s||(s=C&~t,s!==0&&(h=Li(s))))):(C=r&~g,C!==0?h=Li(C):E!==0?h=Li(E):s||(s=r&~t,s!==0&&(h=Li(s)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,s=i&-i,g>=s||g===32&&(s&4194048)!==0)?i:h}function ll(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $v(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(){var t=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),t}function Sr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function sl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qv(t,i,s,r,h,g){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var C=t.entanglements,w=t.expirationTimes,J=t.hiddenUpdates;for(s=E&~s;0<s;){var ee=31-Bt(s),le=1<<ee;C[ee]=0,w[ee]=-1;var Q=J[ee];if(Q!==null)for(J[ee]=null,ee=0;ee<Q.length;ee++){var W=Q[ee];W!==null&&(W.lane&=-536870913)}s&=~le}r!==0&&Kf(t,r,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(E&~i))}function Kf(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-Bt(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|s&261930}function Xf(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var r=31-Bt(s),h=1<<r;h&i|t[r]&i&&(t[r]|=i),s&=~h}}function $f(t,i){var s=i&-i;return s=(s&42)!==0?1:_r(s),(s&(t.suspendedLanes|i))!==0?0:s}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qf(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Lm(t.type))}function Zf(t,i){var s=X.p;try{return X.p=t,i()}finally{X.p=s}}var oi=Math.random().toString(36).slice(2),Et="__reactFiber$"+oi,Lt="__reactProps$"+oi,io="__reactContainer$"+oi,Tr="__reactEvents$"+oi,Zv="__reactListeners$"+oi,Wv="__reactHandles$"+oi,Wf="__reactResources$"+oi,al="__reactMarker$"+oi;function xr(t){delete t[Et],delete t[Lt],delete t[Tr],delete t[Zv],delete t[Wv]}function oo(t){var i=t[Et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[io]||s[Et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Sm(t);t!==null;){if(s=t[Et])return s;t=Sm(t)}return i}t=s,s=t.parentNode}return null}function lo(t){if(t=t[Et]||t[io]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function rl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function so(t){var i=t[Wf];return i||(i=t[Wf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(t){t[al]=!0}var jf=new Set,ed={};function zi(t,i){ao(t,i),ao(t+"Capture",i)}function ao(t,i){for(ed[t]=i,t=0;t<i.length;t++)jf.add(i[t])}var jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function eS(t){return Pe.call(nd,t)?!0:Pe.call(td,t)?!1:jv.test(t)?nd[t]=!0:(td[t]=!0,!1)}function ps(t,i,s){if(eS(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ms(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function kn(t,i,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+r)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function id(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tS(t,i,s){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,g=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){s=""+E,g.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Cr(t){if(!t._valueTracker){var i=id(t)?"checked":"value";t._valueTracker=tS(t,i,""+t[i])}}function od(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return t&&(r=id(t)?t.checked?"true":"false":t.value),t=r,t!==s?(i.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nS=/[\n"\\]/g;function on(t){return t.replace(nS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(t,i,s,r,h,g,E,C){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?br(t,E,nn(i)):s!=null?br(t,E,nn(s)):r!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+nn(C):t.removeAttribute("name")}function ld(t,i,s,r,h,g,E,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Cr(t);return}s=s!=null?""+nn(s):"",i=i!=null?""+nn(i):s,C||i===t.value||(t.value=i),t.defaultValue=i}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=C?t.checked:!!r,t.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Cr(t)}function br(t,i,s){i==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ro(t,i,s,r){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&r&&(t[s].defaultSelected=!0)}else{for(s=""+nn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function sd(t,i,s){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+nn(s):""}function ad(t,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(l(92));if(K(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=nn(i),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r),Cr(t)}function uo(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var iS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(t,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,s):typeof s!="number"||s===0||iS.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function ud(t,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in i)r=i[h],i.hasOwnProperty(h)&&s[h]!==r&&rd(t,h,r)}else for(var g in i)i.hasOwnProperty(g)&&rd(t,g,i[g])}function Rr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ys(t){return lS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Nr=null;function Mr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var co=null,fo=null;function cd(t){var i=lo(t);if(i&&(t=i.stateNode)){var s=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ar(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==t&&r.form===t.form){var h=r[Lt]||null;if(!h)throw Error(l(90));Ar(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===t.form&&od(r)}break e;case"textarea":sd(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ro(t,!!s.multiple,i,!1)}}}var wr=!1;function fd(t,i,s){if(wr)return t(i,s);wr=!0;try{var r=t(i);return r}finally{if(wr=!1,(co!==null||fo!==null)&&(oa(),co&&(i=co,t=fo,fo=co=null,cd(i),t)))for(i=0;i<t.length;i++)cd(t[i])}}function ul(t,i){var s=t.stateNode;if(s===null)return null;var r=s[Lt]||null;if(r===null)return null;s=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Ln)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Dr=!1}var li=null,Ir=null,vs=null;function dd(){if(vs)return vs;var t,i=Ir,s=i.length,r,h="value"in li?li.value:li.textContent,g=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(r=1;r<=E&&i[s-r]===h[g-r];r++);return vs=h.slice(t,1<r?1-r:void 0)}function Ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function hd(){return!1}function zt(t){function i(s,r,h,g,E){this._reactName=s,this._targetInst=h,this.type=r,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(s=t[C],this[C]=s?s(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_s:hd,this.isPropagationStopped=hd,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=zt(Hi),fl=S({},Hi,{view:0,detail:0}),sS=zt(fl),kr,Ur,dl,Ts=S({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(kr=t.screenX-dl.screenX,Ur=t.screenY-dl.screenY):Ur=kr=0,dl=t),kr)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),pd=zt(Ts),aS=S({},Ts,{dataTransfer:0}),rS=zt(aS),uS=S({},fl,{relatedTarget:0}),Lr=zt(uS),cS=S({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=zt(cS),dS=S({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hS=zt(dS),pS=S({},Hi,{data:0}),md=zt(pS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yS[t])?!!i[t]:!1}function zr(){return vS}var SS=S({},fl,{key:function(t){if(t.key){var i=mS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_S=zt(SS),ES=S({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=zt(ES),TS=S({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),xS=zt(TS),CS=S({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=zt(CS),bS=S({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RS=zt(bS),NS=S({},Hi,{newState:0,oldState:0}),MS=zt(NS),wS=[9,13,27,32],Hr=Ln&&"CompositionEvent"in window,hl=null;Ln&&"documentMode"in document&&(hl=document.documentMode);var DS=Ln&&"TextEvent"in window&&!hl,yd=Ln&&(!Hr||hl&&8<hl&&11>=hl),vd=" ",Sd=!1;function _d(t,i){switch(t){case"keyup":return wS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function IS(t,i){switch(t){case"compositionend":return Ed(i);case"keypress":return i.which!==32?null:(Sd=!0,vd);case"textInput":return t=i.data,t===vd&&Sd?null:t;default:return null}}function kS(t,i){if(ho)return t==="compositionend"||!Hr&&_d(t,i)?(t=dd(),vs=Ir=li=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yd&&i.locale!=="ko"?null:i.data;default:return null}}var US={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!US[t.type]:i==="textarea"}function xd(t,i,s,r){co?fo?fo.push(r):fo=[r]:co=r,i=fa(i,"onChange"),0<i.length&&(s=new Es("onChange","change",null,s,r),t.push({event:s,listeners:i}))}var pl=null,ml=null;function LS(t){lm(t,0)}function xs(t){var i=rl(t);if(od(i))return t}function Cd(t,i){if(t==="change")return i}var Ad=!1;if(Ln){var Gr;if(Ln){var Pr="oninput"in document;if(!Pr){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Pr=typeof bd.oninput=="function"}Gr=Pr}else Gr=!1;Ad=Gr&&(!document.documentMode||9<document.documentMode)}function Rd(){pl&&(pl.detachEvent("onpropertychange",Nd),ml=pl=null)}function Nd(t){if(t.propertyName==="value"&&xs(ml)){var i=[];xd(i,ml,t,Mr(t)),fd(LS,i)}}function zS(t,i,s){t==="focusin"?(Rd(),pl=i,ml=s,pl.attachEvent("onpropertychange",Nd)):t==="focusout"&&Rd()}function HS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xs(ml)}function GS(t,i){if(t==="click")return xs(i)}function PS(t,i){if(t==="input"||t==="change")return xs(i)}function VS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ft=typeof Object.is=="function"?Object.is:VS;function gl(t,i){if(Ft(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var h=s[r];if(!Pe.call(i,h)||!Ft(t[h],i[h]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wd(t,i){var s=Md(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=i&&r>=i)return{node:s,offset:i-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Md(s)}}function Dd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Id(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gs(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=gs(t.document)}return i}function Vr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var qS=Ln&&"documentMode"in document&&11>=document.documentMode,po=null,qr=null,yl=null,Or=!1;function kd(t,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Or||po==null||po!==gs(r)||(r=po,"selectionStart"in r&&Vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&gl(yl,r)||(yl=r,r=fa(qr,"onSelect"),0<r.length&&(i=new Es("onSelect","select",null,i,s),t.push({event:i,listeners:r}),i.target=po)))}function Gi(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var mo={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Br={},Ud={};Ln&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Pi(t){if(Br[t])return Br[t];if(!mo[t])return t;var i=mo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ud)return Br[t]=i[s];return t}var Ld=Pi("animationend"),zd=Pi("animationiteration"),Hd=Pi("animationstart"),OS=Pi("transitionrun"),BS=Pi("transitionstart"),FS=Pi("transitioncancel"),Gd=Pi("transitionend"),Pd=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fr.push("scrollEnd");function Sn(t,i){Pd.set(t,i),zi(i,[t])}var Cs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ln=[],go=0,Yr=0;function As(){for(var t=go,i=Yr=go=0;i<t;){var s=ln[i];ln[i++]=null;var r=ln[i];ln[i++]=null;var h=ln[i];ln[i++]=null;var g=ln[i];if(ln[i++]=null,r!==null&&h!==null){var E=r.pending;E===null?h.next=h:(h.next=E.next,E.next=h),r.pending=h}g!==0&&Vd(s,h,g)}}function bs(t,i,s,r){ln[go++]=t,ln[go++]=i,ln[go++]=s,ln[go++]=r,Yr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Jr(t,i,s,r){return bs(t,i,s,r),Rs(t)}function Vi(t,i){return bs(t,null,null,i),Rs(t)}function Vd(t,i,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var h=!1,g=t.return;g!==null;)g.childLanes|=s,r=g.alternate,r!==null&&(r.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&i!==null&&(h=31-Bt(s),t=g.hiddenUpdates,r=t[h],r===null?t[h]=[i]:r.push(i),i.lane=s|536870912),g):null}function Rs(t){if(50<Pl)throw Pl=0,tc=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var yo={};function YS(t,i,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,i,s,r){return new YS(t,i,s,r)}function Kr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,i){var s=t.alternate;return s===null?(s=Yt(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function qd(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ns(t,i,s,r,h,g){var E=0;if(r=t,typeof t=="function")Kr(t)&&(E=1);else if(typeof t=="string")E=Q_(t,s,H.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=Yt(31,s,i,h),t.elementType=A,t.lanes=g,t;case D:return qi(s.children,h,g,i);case M:E=8,h|=24;break;case k:return t=Yt(12,s,i,h|2),t.elementType=k,t.lanes=g,t;case Z:return t=Yt(13,s,i,h),t.elementType=Z,t.lanes=g,t;case F:return t=Yt(19,s,i,h),t.elementType=F,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:E=10;break e;case $:E=9;break e;case O:E=11;break e;case V:E=14;break e;case R:E=16,r=null;break e}E=29,s=Error(l(130,t===null?"null":typeof t,"")),r=null}return i=Yt(E,s,i,h),i.elementType=t,i.type=r,i.lanes=g,i}function qi(t,i,s,r){return t=Yt(7,t,r,i),t.lanes=s,t}function Xr(t,i,s){return t=Yt(6,t,null,i),t.lanes=s,t}function Od(t){var i=Yt(18,null,null,0);return i.stateNode=t,i}function $r(t,i,s){return i=Yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bd=new WeakMap;function sn(t,i){if(typeof t=="object"&&t!==null){var s=Bd.get(t);return s!==void 0?s:(i={value:t,source:i,stack:De(i)},Bd.set(t,i),i)}return{value:t,source:i,stack:De(i)}}var vo=[],So=0,Ms=null,vl=0,an=[],rn=0,si=null,Rn=1,Nn="";function Hn(t,i){vo[So++]=vl,vo[So++]=Ms,Ms=t,vl=i}function Fd(t,i,s){an[rn++]=Rn,an[rn++]=Nn,an[rn++]=si,si=t;var r=Rn;t=Nn;var h=32-Bt(r)-1;r&=~(1<<h),s+=1;var g=32-Bt(i)+h;if(30<g){var E=h-h%5;g=(r&(1<<E)-1).toString(32),r>>=E,h-=E,Rn=1<<32-Bt(i)+h|s<<h|r,Nn=g+t}else Rn=1<<g|s<<h|r,Nn=t}function Qr(t){t.return!==null&&(Hn(t,1),Fd(t,1,0))}function Zr(t){for(;t===Ms;)Ms=vo[--So],vo[So]=null,vl=vo[--So],vo[So]=null;for(;t===si;)si=an[--rn],an[rn]=null,Nn=an[--rn],an[rn]=null,Rn=an[--rn],an[rn]=null}function Yd(t,i){an[rn++]=Rn,an[rn++]=Nn,an[rn++]=si,Rn=i.id,Nn=i.overflow,si=t}var Tt=null,nt=null,ze=!1,ai=null,un=!1,Wr=Error(l(519));function ri(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(sn(i,t)),Wr}function Jd(t){var i=t.stateNode,s=t.type,r=t.memoizedProps;switch(i[Et]=t,i[Lt]=r,s){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(s=0;s<ql.length;s++)ke(ql[s],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ld(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ad(i,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||um(i.textContent,s)?(r.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),r.onScroll!=null&&ke("scroll",i),r.onScrollEnd!=null&&ke("scrollend",i),r.onClick!=null&&(i.onclick=Un),i=!0):i=!1,i||ri(t,!0)}function Kd(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Tt=Tt.return}}function _o(t){if(t!==Tt)return!1;if(!ze)return Kd(t),ze=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gc(t.type,t.memoizedProps)),s=!s),s&&nt&&ri(t),Kd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));nt=vm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));nt=vm(t)}else i===27?(i=nt,Ti(t.type)?(t=Ec,Ec=null,nt=t):nt=i):nt=Tt?fn(t.stateNode.nextSibling):null;return!0}function Oi(){nt=Tt=null,ze=!1}function jr(){var t=ai;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),ai=null),t}function Sl(t){ai===null?ai=[t]:ai.push(t)}var eu=N(null),Bi=null,Gn=null;function ui(t,i,s){Y(eu,i._currentValue),i._currentValue=s}function Pn(t){t._currentValue=eu.current,q(eu)}function tu(t,i,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===s)break;t=t.return}}function nu(t,i,s,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=h;for(var w=0;w<i.length;w++)if(C.context===i[w]){g.lanes|=s,C=g.alternate,C!==null&&(C.lanes|=s),tu(g.return,s,t),r||(E=null);break e}g=C.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(l(341));E.lanes|=s,g=E.alternate,g!==null&&(g.lanes|=s),tu(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Eo(t,i,s,r){t=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var C=h.type;Ft(h.pendingProps.value,E.value)||(t!==null?t.push(C):t=[C])}}else if(h===de.current){if(E=h.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}h=h.return}t!==null&&nu(i,t,s,r),i.flags|=262144}function ws(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fi(t){Bi=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xt(t){return Xd(Bi,t)}function Ds(t,i){return Bi===null&&Fi(t),Xd(t,i)}function Xd(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Gn===null){if(t===null)throw Error(l(308));Gn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gn=Gn.next=i;return s}var JS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},KS=n.unstable_scheduleCallback,XS=n.unstable_NormalPriority,ft={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iu(){return{controller:new JS,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&KS(XS,function(){t.controller.abort()})}var El=null,ou=0,To=0,xo=null;function $S(t,i){if(El===null){var s=El=[];ou=0,To=ac(),xo={status:"pending",value:void 0,then:function(r){s.push(r)}}}return ou++,i.then($d,$d),i}function $d(){if(--ou===0&&El!==null){xo!==null&&(xo.status="fulfilled");var t=El;El=null,To=0,xo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function QS(t,i){var s=[],r={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(r.status="rejected",r.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),r}var Qd=L.S;L.S=function(t,i){kp=Je(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(t,i),Qd!==null&&Qd(t,i)};var Yi=N(null);function lu(){var t=Yi.current;return t!==null?t:je.pooledCache}function Is(t,i){i===null?Y(Yi,Yi.current):Y(Yi,i.pool)}function Zd(){var t=lu();return t===null?null:{parent:ft._currentValue,pool:t}}var Co=Error(l(460)),su=Error(l(474)),ks=Error(l(542)),Us={then:function(){}};function Wd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jd(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Un,Un),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,th(t),t;default:if(typeof i.status=="string")i.then(Un,Un);else{if(t=je,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=r}},function(r){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,th(t),t}throw Ki=i,Co}}function Ji(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ki=s,Co):s}}var Ki=null;function eh(){if(Ki===null)throw Error(l(459));var t=Ki;return Ki=null,t}function th(t){if(t===Co||t===ks)throw Error(l(483))}var Ao=null,Tl=0;function Ls(t){var i=Tl;return Tl+=1,Ao===null&&(Ao=[]),jd(Ao,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function zs(t,i){throw i.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function nh(t){function i(G,U){if(t){var B=G.deletions;B===null?(G.deletions=[U],G.flags|=16):B.push(U)}}function s(G,U){if(!t)return null;for(;U!==null;)i(G,U),U=U.sibling;return null}function r(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function h(G,U){return G=zn(G,U),G.index=0,G.sibling=null,G}function g(G,U,B){return G.index=B,t?(B=G.alternate,B!==null?(B=B.index,B<U?(G.flags|=67108866,U):B):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function E(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function C(G,U,B,ie){return U===null||U.tag!==6?(U=Xr(B,G.mode,ie),U.return=G,U):(U=h(U,B),U.return=G,U)}function w(G,U,B,ie){var xe=B.type;return xe===D?ee(G,U,B.props.children,ie,B.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Ji(xe)===U.type)?(U=h(U,B.props),xl(U,B),U.return=G,U):(U=Ns(B.type,B.key,B.props,null,G.mode,ie),xl(U,B),U.return=G,U)}function J(G,U,B,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==B.containerInfo||U.stateNode.implementation!==B.implementation?(U=$r(B,G.mode,ie),U.return=G,U):(U=h(U,B.children||[]),U.return=G,U)}function ee(G,U,B,ie,xe){return U===null||U.tag!==7?(U=qi(B,G.mode,ie,xe),U.return=G,U):(U=h(U,B),U.return=G,U)}function le(G,U,B){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xr(""+U,G.mode,B),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return B=Ns(U.type,U.key,U.props,null,G.mode,B),xl(B,U),B.return=G,B;case b:return U=$r(U,G.mode,B),U.return=G,U;case R:return U=Ji(U),le(G,U,B)}if(K(U)||j(U))return U=qi(U,G.mode,B,null),U.return=G,U;if(typeof U.then=="function")return le(G,Ls(U),B);if(U.$$typeof===z)return le(G,Ds(G,U),B);zs(G,U)}return null}function Q(G,U,B,ie){var xe=U!==null?U.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return xe!==null?null:C(G,U,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return B.key===xe?w(G,U,B,ie):null;case b:return B.key===xe?J(G,U,B,ie):null;case R:return B=Ji(B),Q(G,U,B,ie)}if(K(B)||j(B))return xe!==null?null:ee(G,U,B,ie,null);if(typeof B.then=="function")return Q(G,U,Ls(B),ie);if(B.$$typeof===z)return Q(G,U,Ds(G,B),ie);zs(G,B)}return null}function W(G,U,B,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(B)||null,C(U,G,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return G=G.get(ie.key===null?B:ie.key)||null,w(U,G,ie,xe);case b:return G=G.get(ie.key===null?B:ie.key)||null,J(U,G,ie,xe);case R:return ie=Ji(ie),W(G,U,B,ie,xe)}if(K(ie)||j(ie))return G=G.get(B)||null,ee(U,G,ie,xe,null);if(typeof ie.then=="function")return W(G,U,B,Ls(ie),xe);if(ie.$$typeof===z)return W(G,U,B,Ds(U,ie),xe);zs(U,ie)}return null}function ye(G,U,B,ie){for(var xe=null,qe=null,Se=U,Me=U=0,Le=null;Se!==null&&Me<B.length;Me++){Se.index>Me?(Le=Se,Se=null):Le=Se.sibling;var Oe=Q(G,Se,B[Me],ie);if(Oe===null){Se===null&&(Se=Le);break}t&&Se&&Oe.alternate===null&&i(G,Se),U=g(Oe,U,Me),qe===null?xe=Oe:qe.sibling=Oe,qe=Oe,Se=Le}if(Me===B.length)return s(G,Se),ze&&Hn(G,Me),xe;if(Se===null){for(;Me<B.length;Me++)Se=le(G,B[Me],ie),Se!==null&&(U=g(Se,U,Me),qe===null?xe=Se:qe.sibling=Se,qe=Se);return ze&&Hn(G,Me),xe}for(Se=r(Se);Me<B.length;Me++)Le=W(Se,G,Me,B[Me],ie),Le!==null&&(t&&Le.alternate!==null&&Se.delete(Le.key===null?Me:Le.key),U=g(Le,U,Me),qe===null?xe=Le:qe.sibling=Le,qe=Le);return t&&Se.forEach(function(Ri){return i(G,Ri)}),ze&&Hn(G,Me),xe}function Ce(G,U,B,ie){if(B==null)throw Error(l(151));for(var xe=null,qe=null,Se=U,Me=U=0,Le=null,Oe=B.next();Se!==null&&!Oe.done;Me++,Oe=B.next()){Se.index>Me?(Le=Se,Se=null):Le=Se.sibling;var Ri=Q(G,Se,Oe.value,ie);if(Ri===null){Se===null&&(Se=Le);break}t&&Se&&Ri.alternate===null&&i(G,Se),U=g(Ri,U,Me),qe===null?xe=Ri:qe.sibling=Ri,qe=Ri,Se=Le}if(Oe.done)return s(G,Se),ze&&Hn(G,Me),xe;if(Se===null){for(;!Oe.done;Me++,Oe=B.next())Oe=le(G,Oe.value,ie),Oe!==null&&(U=g(Oe,U,Me),qe===null?xe=Oe:qe.sibling=Oe,qe=Oe);return ze&&Hn(G,Me),xe}for(Se=r(Se);!Oe.done;Me++,Oe=B.next())Oe=W(Se,G,Me,Oe.value,ie),Oe!==null&&(t&&Oe.alternate!==null&&Se.delete(Oe.key===null?Me:Oe.key),U=g(Oe,U,Me),qe===null?xe=Oe:qe.sibling=Oe,qe=Oe);return t&&Se.forEach(function(aE){return i(G,aE)}),ze&&Hn(G,Me),xe}function We(G,U,B,ie){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case x:e:{for(var xe=B.key;U!==null;){if(U.key===xe){if(xe=B.type,xe===D){if(U.tag===7){s(G,U.sibling),ie=h(U,B.props.children),ie.return=G,G=ie;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Ji(xe)===U.type){s(G,U.sibling),ie=h(U,B.props),xl(ie,B),ie.return=G,G=ie;break e}s(G,U);break}else i(G,U);U=U.sibling}B.type===D?(ie=qi(B.props.children,G.mode,ie,B.key),ie.return=G,G=ie):(ie=Ns(B.type,B.key,B.props,null,G.mode,ie),xl(ie,B),ie.return=G,G=ie)}return E(G);case b:e:{for(xe=B.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===B.containerInfo&&U.stateNode.implementation===B.implementation){s(G,U.sibling),ie=h(U,B.children||[]),ie.return=G,G=ie;break e}else{s(G,U);break}else i(G,U);U=U.sibling}ie=$r(B,G.mode,ie),ie.return=G,G=ie}return E(G);case R:return B=Ji(B),We(G,U,B,ie)}if(K(B))return ye(G,U,B,ie);if(j(B)){if(xe=j(B),typeof xe!="function")throw Error(l(150));return B=xe.call(B),Ce(G,U,B,ie)}if(typeof B.then=="function")return We(G,U,Ls(B),ie);if(B.$$typeof===z)return We(G,U,Ds(G,B),ie);zs(G,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,U!==null&&U.tag===6?(s(G,U.sibling),ie=h(U,B),ie.return=G,G=ie):(s(G,U),ie=Xr(B,G.mode,ie),ie.return=G,G=ie),E(G)):s(G,U)}return function(G,U,B,ie){try{Tl=0;var xe=We(G,U,B,ie);return Ao=null,xe}catch(Se){if(Se===Co||Se===ks)throw Se;var qe=Yt(29,Se,null,G.mode);return qe.lanes=ie,qe.return=G,qe}finally{}}}var Xi=nh(!0),ih=nh(!1),ci=!1;function au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,i,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ye&2)!==0){var h=r.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),r.pending=i,i=Rs(t),Vd(t,null,s),i}return bs(t,r,i,s),Rs(t)}function Cl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,s|=r,i.lanes=s,Xf(t,s)}}function uu(t,i){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var h=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,s=s.next}while(s!==null);g===null?h=g=i:g=g.next=i}else h=g=i;s={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var cu=!1;function Al(){if(cu){var t=xo;if(t!==null)throw t}}function bl(t,i,s,r){cu=!1;var h=t.updateQueue;ci=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var w=C,J=w.next;w.next=null,E===null?g=J:E.next=J,E=w;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==E&&(C===null?ee.firstBaseUpdate=J:C.next=J,ee.lastBaseUpdate=w))}if(g!==null){var le=h.baseState;E=0,ee=J=w=null,C=g;do{var Q=C.lane&-536870913,W=Q!==C.lane;if(W?(Ue&Q)===Q:(r&Q)===Q){Q!==0&&Q===To&&(cu=!0),ee!==null&&(ee=ee.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=t,Ce=C;Q=i;var We=s;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){le=ye.call(We,le,Q);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,Q=typeof ye=="function"?ye.call(We,le,Q):ye,Q==null)break e;le=S({},le,Q);break e;case 2:ci=!0}}Q=C.callback,Q!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(J=ee=W,w=le):ee=ee.next=W,E|=Q;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;W=C,C=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ee===null&&(w=le),h.baseState=w,h.firstBaseUpdate=J,h.lastBaseUpdate=ee,g===null&&(h.shared.lanes=0),yi|=E,t.lanes=E,t.memoizedState=le}}function oh(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function lh(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)oh(s[t],i)}var bo=N(null),Hs=N(0);function sh(t,i){t=Xn,Y(Hs,t),Y(bo,i),Xn=t|i.baseLanes}function fu(){Y(Hs,Xn),Y(bo,bo.current)}function du(){Xn=Hs.current,q(bo),q(Hs)}var Jt=N(null),cn=null;function hi(t){var i=t.alternate;Y(rt,rt.current&1),Y(Jt,t),cn===null&&(i===null||bo.current!==null||i.memoizedState!==null)&&(cn=t)}function hu(t){Y(rt,rt.current),Y(Jt,t),cn===null&&(cn=t)}function ah(t){t.tag===22?(Y(rt,rt.current),Y(Jt,t),cn===null&&(cn=t)):pi()}function pi(){Y(rt,rt.current),Y(Jt,Jt.current)}function Kt(t){q(Jt),cn===t&&(cn=null),q(rt)}var rt=N(0);function Gs(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sc(s)||_c(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vn=0,Ne=null,Qe=null,dt=null,Ps=!1,Ro=!1,$i=!1,Vs=0,Rl=0,No=null,ZS=0;function lt(){throw Error(l(321))}function pu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Ft(t[s],i[s]))return!1;return!0}function mu(t,i,s,r,h,g){return Vn=g,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Fh:wu,$i=!1,g=s(r,h),$i=!1,Ro&&(g=uh(i,s,r,h)),rh(t),g}function rh(t){L.H=wl;var i=Qe!==null&&Qe.next!==null;if(Vn=0,dt=Qe=Ne=null,Ps=!1,Rl=0,No=null,i)throw Error(l(300));t===null||ht||(t=t.dependencies,t!==null&&ws(t)&&(ht=!0))}function uh(t,i,s,r){Ne=t;var h=0;do{if(Ro&&(No=null),Rl=0,Ro=!1,25<=h)throw Error(l(301));if(h+=1,dt=Qe=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=Yh,g=i(s,r)}while(Ro);return g}function WS(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?Nl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function gu(){var t=Vs!==0;return Vs=0,t}function yu(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function vu(t){if(Ps){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ps=!1}Vn=0,dt=Qe=Ne=null,Ro=!1,Rl=Vs=0,No=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ne.memoizedState=dt=t:dt=dt.next=t,dt}function ut(){if(Qe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=dt===null?Ne.memoizedState:dt.next;if(i!==null)dt=i,Qe=t;else{if(t===null)throw Ne.alternate===null?Error(l(467)):Error(l(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},dt===null?Ne.memoizedState=dt=t:dt=dt.next=t}return dt}function qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var i=Rl;return Rl+=1,No===null&&(No=[]),t=jd(No,t,i),i=Ne,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Fh:wu),t}function Os(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===z)return xt(t)}throw Error(l(438,String(t)))}function Su(t){var i=null,s=Ne.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=Ne.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qs(),Ne.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),r=0;r<t;r++)s[r]=I;return i.index++,s}function qn(t,i){return typeof i=="function"?i(t):i}function Bs(t){var i=ut();return _u(i,Qe,t)}function _u(t,i,s){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var h=t.baseQueue,g=r.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}i.baseQueue=h=g,r.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{i=h.next;var C=E=null,w=null,J=i,ee=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Ue&le)===le:(Vn&le)===le){var Q=J.revertLane;if(Q===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===To&&(ee=!0);else if((Vn&Q)===Q){J=J.next,Q===To&&(ee=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},w===null?(C=w=le,E=g):w=w.next=le,Ne.lanes|=Q,yi|=Q;le=J.action,$i&&s(g,le),g=J.hasEagerState?J.eagerState:s(g,le)}else Q={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},w===null?(C=w=Q,E=g):w=w.next=Q,Ne.lanes|=le,yi|=le;J=J.next}while(J!==null&&J!==i);if(w===null?E=g:w.next=C,!Ft(g,t.memoizedState)&&(ht=!0,ee&&(s=xo,s!==null)))throw s;t.memoizedState=g,t.baseState=E,t.baseQueue=w,r.lastRenderedState=g}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Eu(t){var i=ut(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var r=s.dispatch,h=s.pending,g=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do g=t(g,E.action),E=E.next;while(E!==h);Ft(g,i.memoizedState)||(ht=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),s.lastRenderedState=g}return[g,r]}function ch(t,i,s){var r=Ne,h=ut(),g=ze;if(g){if(s===void 0)throw Error(l(407));s=s()}else s=i();var E=!Ft((Qe||h).memoizedState,s);if(E&&(h.memoizedState=s,ht=!0),h=h.queue,Cu(hh.bind(null,r,h,t),[t]),h.getSnapshot!==i||E||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,Mo(9,{destroy:void 0},dh.bind(null,r,h,s,i),null),je===null)throw Error(l(349));g||(Vn&127)!==0||fh(r,i,s)}return s}function fh(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ne.updateQueue,i===null?(i=qs(),Ne.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function dh(t,i,s,r){i.value=s,i.getSnapshot=r,ph(i)&&mh(t)}function hh(t,i,s){return s(function(){ph(i)&&mh(t)})}function ph(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Ft(t,s)}catch{return!0}}function mh(t){var i=Vi(t,2);i!==null&&qt(i,t,2)}function Tu(t){var i=Dt();if(typeof t=="function"){var s=t;if(t=s(),$i){ii(!0);try{s()}finally{ii(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},i}function gh(t,i,s,r){return t.baseState=s,_u(t,Qe,typeof r=="function"?r:qn)}function jS(t,i,s,r,h){if(Js(t))throw Error(l(485));if(t=i.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};L.T!==null?s(!0):g.isTransition=!1,r(g),s=i.pending,s===null?(g.next=i.pending=g,yh(i,g)):(g.next=s.next,i.pending=s.next=g)}}function yh(t,i){var s=i.action,r=i.payload,h=t.state;if(i.isTransition){var g=L.T,E={};L.T=E;try{var C=s(h,r),w=L.S;w!==null&&w(E,C),vh(t,i,C)}catch(J){xu(t,i,J)}finally{g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}else try{g=s(h,r),vh(t,i,g)}catch(J){xu(t,i,J)}}function vh(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Sh(t,i,r)},function(r){return xu(t,i,r)}):Sh(t,i,s)}function Sh(t,i,s){i.status="fulfilled",i.value=s,_h(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,yh(t,s)))}function xu(t,i,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,_h(i),i=i.next;while(i!==r)}t.action=null}function _h(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Eh(t,i){return i}function Th(t,i){if(ze){var s=je.formState;if(s!==null){e:{var r=Ne;if(ze){if(nt){t:{for(var h=nt,g=un;h.nodeType!==8;){if(!g){h=null;break t}if(h=fn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){nt=fn(h.nextSibling),r=h.data==="F!";break e}}ri(r)}r=!1}r&&(i=s[0])}}return s=Dt(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:i},s.queue=r,s=qh.bind(null,Ne,r),r.dispatch=s,r=Tu(!1),g=Mu.bind(null,Ne,!1,r.queue),r=Dt(),h={state:i,dispatch:null,action:t,pending:null},r.queue=h,s=jS.bind(null,Ne,h,g,s),h.dispatch=s,r.memoizedState=t,[i,s,!1]}function xh(t){var i=ut();return Ch(i,Qe,t)}function Ch(t,i,s){if(i=_u(t,i,Eh)[0],t=Bs(qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Nl(i)}catch(E){throw E===Co?ks:E}else r=i;i=ut();var h=i.queue,g=h.dispatch;return s!==i.memoizedState&&(Ne.flags|=2048,Mo(9,{destroy:void 0},e_.bind(null,h,s),null)),[r,g,t]}function e_(t,i){t.action=i}function Ah(t){var i=ut(),s=Qe;if(s!==null)return Ch(i,s,t);ut(),i=i.memoizedState,s=ut();var r=s.queue.dispatch;return s.memoizedState=t,[i,r,!1]}function Mo(t,i,s,r){return t={tag:t,create:s,deps:r,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=qs(),Ne.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,i.lastEffect=t),t}function bh(){return ut().memoizedState}function Fs(t,i,s,r){var h=Dt();Ne.flags|=t,h.memoizedState=Mo(1|i,{destroy:void 0},s,r===void 0?null:r)}function Ys(t,i,s,r){var h=ut();r=r===void 0?null:r;var g=h.memoizedState.inst;Qe!==null&&r!==null&&pu(r,Qe.memoizedState.deps)?h.memoizedState=Mo(i,g,s,r):(Ne.flags|=t,h.memoizedState=Mo(1|i,g,s,r))}function Rh(t,i){Fs(8390656,8,t,i)}function Cu(t,i){Ys(2048,8,t,i)}function t_(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=qs(),Ne.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Nh(t){var i=ut().memoizedState;return t_({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Mh(t,i){return Ys(4,2,t,i)}function wh(t,i){return Ys(4,4,t,i)}function Dh(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ih(t,i,s){s=s!=null?s.concat([t]):null,Ys(4,4,Dh.bind(null,i,t),s)}function Au(){}function kh(t,i){var s=ut();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&pu(i,r[1])?r[0]:(s.memoizedState=[t,i],t)}function Uh(t,i){var s=ut();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&pu(i,r[1]))return r[0];if(r=t(),$i){ii(!0);try{t()}finally{ii(!1)}}return s.memoizedState=[r,i],r}function bu(t,i,s){return s===void 0||(Vn&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Lp(),Ne.lanes|=t,yi|=t,s)}function Lh(t,i,s,r){return Ft(s,i)?s:bo.current!==null?(t=bu(t,s,r),Ft(t,i)||(ht=!0),t):(Vn&42)===0||(Vn&1073741824)!==0&&(Ue&261930)===0?(ht=!0,t.memoizedState=s):(t=Lp(),Ne.lanes|=t,yi|=t,i)}function zh(t,i,s,r,h){var g=X.p;X.p=g!==0&&8>g?g:8;var E=L.T,C={};L.T=C,Mu(t,!1,i,s);try{var w=h(),J=L.S;if(J!==null&&J(C,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var ee=QS(w,r);Ml(t,i,ee,Qt(t))}else Ml(t,i,r,Qt(t))}catch(le){Ml(t,i,{then:function(){},status:"rejected",reason:le},Qt())}finally{X.p=g,E!==null&&C.types!==null&&(E.types=C.types),L.T=E}}function n_(){}function Ru(t,i,s,r){if(t.tag!==5)throw Error(l(476));var h=Hh(t).queue;zh(t,h,i,re,s===null?n_:function(){return Gh(t),s(r)})}function Hh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:re},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gh(t){var i=Hh(t);i.next===null&&(i=t.alternate.memoizedState),Ml(t,i.next.queue,{},Qt())}function Nu(){return xt(Jl)}function Ph(){return ut().memoizedState}function Vh(){return ut().memoizedState}function i_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Qt();t=fi(s);var r=di(i,t,s);r!==null&&(qt(r,i,s),Cl(r,i,s)),i={cache:iu()},t.payload=i;return}i=i.return}}function o_(t,i,s){var r=Qt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Js(t)?Oh(i,s):(s=Jr(t,i,s,r),s!==null&&(qt(s,t,r),Bh(s,i,r)))}function qh(t,i,s){var r=Qt();Ml(t,i,s,r)}function Ml(t,i,s,r){var h={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Js(t))Oh(i,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,C=g(E,s);if(h.hasEagerState=!0,h.eagerState=C,Ft(C,E))return bs(t,i,h,0),je===null&&As(),!1}catch{}finally{}if(s=Jr(t,i,h,r),s!==null)return qt(s,t,r),Bh(s,i,r),!0}return!1}function Mu(t,i,s,r){if(r={lane:2,revertLane:ac(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Js(t)){if(i)throw Error(l(479))}else i=Jr(t,s,r,2),i!==null&&qt(i,t,2)}function Js(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Oh(t,i){Ro=Ps=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Bh(t,i,s){if((s&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,s|=r,i.lanes=s,Xf(t,s)}}var wl={readContext:xt,use:Os,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};wl.useEffectEvent=lt;var Fh={readContext:xt,use:Os,useCallback:function(t,i){return Dt().memoizedState=[t,i===void 0?null:i],t},useContext:xt,useEffect:Rh,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Fs(4194308,4,Dh.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Fs(4194308,4,t,i)},useInsertionEffect:function(t,i){Fs(4,2,t,i)},useMemo:function(t,i){var s=Dt();i=i===void 0?null:i;var r=t();if($i){ii(!0);try{t()}finally{ii(!1)}}return s.memoizedState=[r,i],r},useReducer:function(t,i,s){var r=Dt();if(s!==void 0){var h=s(i);if($i){ii(!0);try{s(i)}finally{ii(!1)}}}else h=i;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=o_.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var i=Dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Tu(t);var i=t.queue,s=qh.bind(null,Ne,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Au,useDeferredValue:function(t,i){var s=Dt();return bu(s,t,i)},useTransition:function(){var t=Tu(!1);return t=zh.bind(null,Ne,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var r=Ne,h=Dt();if(ze){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),je===null)throw Error(l(349));(Ue&127)!==0||fh(r,i,s)}h.memoizedState=s;var g={value:s,getSnapshot:i};return h.queue=g,Rh(hh.bind(null,r,g,t),[t]),r.flags|=2048,Mo(9,{destroy:void 0},dh.bind(null,r,g,s,i),null),s},useId:function(){var t=Dt(),i=je.identifierPrefix;if(ze){var s=Nn,r=Rn;s=(r&~(1<<32-Bt(r)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Vs++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=ZS++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Nu,useFormState:Th,useActionState:Th,useOptimistic:function(t){var i=Dt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Mu.bind(null,Ne,!0,s),s.dispatch=i,[t,i]},useMemoCache:Su,useCacheRefresh:function(){return Dt().memoizedState=i_.bind(null,Ne)},useEffectEvent:function(t){var i=Dt(),s={impl:t};return i.memoizedState=s,function(){if((Ye&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},wu={readContext:xt,use:Os,useCallback:kh,useContext:xt,useEffect:Cu,useImperativeHandle:Ih,useInsertionEffect:Mh,useLayoutEffect:wh,useMemo:Uh,useReducer:Bs,useRef:bh,useState:function(){return Bs(qn)},useDebugValue:Au,useDeferredValue:function(t,i){var s=ut();return Lh(s,Qe.memoizedState,t,i)},useTransition:function(){var t=Bs(qn)[0],i=ut().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:ch,useId:Ph,useHostTransitionStatus:Nu,useFormState:xh,useActionState:xh,useOptimistic:function(t,i){var s=ut();return gh(s,Qe,t,i)},useMemoCache:Su,useCacheRefresh:Vh};wu.useEffectEvent=Nh;var Yh={readContext:xt,use:Os,useCallback:kh,useContext:xt,useEffect:Cu,useImperativeHandle:Ih,useInsertionEffect:Mh,useLayoutEffect:wh,useMemo:Uh,useReducer:Eu,useRef:bh,useState:function(){return Eu(qn)},useDebugValue:Au,useDeferredValue:function(t,i){var s=ut();return Qe===null?bu(s,t,i):Lh(s,Qe.memoizedState,t,i)},useTransition:function(){var t=Eu(qn)[0],i=ut().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:ch,useId:Ph,useHostTransitionStatus:Nu,useFormState:Ah,useActionState:Ah,useOptimistic:function(t,i){var s=ut();return Qe!==null?gh(s,Qe,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Su,useCacheRefresh:Vh};Yh.useEffectEvent=Nh;function Du(t,i,s,r){i=t.memoizedState,s=s(r,i),s=s==null?i:S({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Iu={enqueueSetState:function(t,i,s){t=t._reactInternals;var r=Qt(),h=fi(r);h.payload=i,s!=null&&(h.callback=s),i=di(t,h,r),i!==null&&(qt(i,t,r),Cl(i,t,r))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var r=Qt(),h=fi(r);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=di(t,h,r),i!==null&&(qt(i,t,r),Cl(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Qt(),r=fi(s);r.tag=2,i!=null&&(r.callback=i),i=di(t,r,s),i!==null&&(qt(i,t,s),Cl(i,t,s))}};function Jh(t,i,s,r,h,g,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,g,E):i.prototype&&i.prototype.isPureReactComponent?!gl(s,r)||!gl(h,g):!0}function Kh(t,i,s,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==t&&Iu.enqueueReplaceState(i,i.state,null)}function Qi(t,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(t=t.defaultProps){s===i&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Xh(t){Cs(t)}function $h(t){console.error(t)}function Qh(t){Cs(t)}function Ks(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Zh(t,i,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ku(t,i,s){return s=fi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ks(t,i)},s}function Wh(t){return t=fi(t),t.tag=3,t}function jh(t,i,s,r){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=r.value;t.payload=function(){return h(g)},t.callback=function(){Zh(i,s,r)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Zh(i,s,r),typeof h!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function l_(t,i,s,r,h){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&Eo(i,s,h,!0),s=Jt.current,s!==null){switch(s.tag){case 31:case 13:return cn===null?la():s.alternate===null&&st===0&&(st=3),s.flags&=-257,s.flags|=65536,s.lanes=h,r===Us?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),oc(t,r,h)),!1;case 22:return s.flags|=65536,r===Us?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),oc(t,r,h)),!1}throw Error(l(435,s.tag))}return oc(t,r,h),la(),!1}if(ze)return i=Jt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,r!==Wr&&(t=Error(l(422),{cause:r}),Sl(sn(t,s)))):(r!==Wr&&(i=Error(l(423),{cause:r}),Sl(sn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=sn(r,s),h=ku(t.stateNode,r,h),uu(t,h),st!==4&&(st=2)),!1;var g=Error(l(520),{cause:r});if(g=sn(g,s),Gl===null?Gl=[g]:Gl.push(g),st!==4&&(st=2),i===null)return!0;r=sn(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ku(s.stateNode,r,t),uu(s,t),!1;case 1:if(i=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vi===null||!vi.has(g))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wh(h),jh(h,t,s,r),uu(s,h),!1}s=s.return}while(s!==null);return!1}var Uu=Error(l(461)),ht=!1;function Ct(t,i,s,r){i.child=t===null?ih(i,null,s,r):Xi(i,t.child,s,r)}function ep(t,i,s,r,h){s=s.render;var g=i.ref;if("ref"in r){var E={};for(var C in r)C!=="ref"&&(E[C]=r[C])}else E=r;return Fi(i),r=mu(t,i,s,E,g,h),C=gu(),t!==null&&!ht?(yu(t,i,h),On(t,i,h)):(ze&&C&&Qr(i),i.flags|=1,Ct(t,i,r,h),i.child)}function tp(t,i,s,r,h){if(t===null){var g=s.type;return typeof g=="function"&&!Kr(g)&&g.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=g,np(t,i,g,r,h)):(t=Ns(s.type,null,r,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Ou(t,h)){var E=g.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(E,r)&&t.ref===i.ref)return On(t,i,h)}return i.flags|=1,t=zn(g,r),t.ref=i.ref,t.return=i,i.child=t}function np(t,i,s,r,h){if(t!==null){var g=t.memoizedProps;if(gl(g,r)&&t.ref===i.ref)if(ht=!1,i.pendingProps=r=g,Ou(t,h))(t.flags&131072)!==0&&(ht=!0);else return i.lanes=t.lanes,On(t,i,h)}return Lu(t,i,s,r,h)}function ip(t,i,s,r){var h=r.children,g=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,t!==null){for(r=i.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~g}else r=0,i.child=null;return op(t,i,g,s,r)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Is(i,g!==null?g.cachePool:null),g!==null?sh(i,g):fu(),ah(i);else return r=i.lanes=536870912,op(t,i,g!==null?g.baseLanes|s:s,s,r)}else g!==null?(Is(i,g.cachePool),sh(i,g),pi(),i.memoizedState=null):(t!==null&&Is(i,null),fu(),pi());return Ct(t,i,h,s),i.child}function Dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function op(t,i,s,r,h){var g=lu();return g=g===null?null:{parent:ft._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},t!==null&&Is(i,null),fu(),ah(i),t!==null&&Eo(t,i,r,!0),i.childLanes=h,null}function Xs(t,i){return i=Qs({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function lp(t,i,s){return Xi(i,t.child,null,s),t=Xs(i,i.pendingProps),t.flags|=2,Kt(i),i.memoizedState=null,t}function s_(t,i,s){var r=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(r.mode==="hidden")return t=Xs(i,r),i.lanes=536870912,Dl(null,t);if(hu(i),(t=nt)?(t=ym(t,un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:si!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},s=Od(t),s.return=i,i.child=s,Tt=i,nt=null)):t=null,t===null)throw ri(i);return i.lanes=536870912,null}return Xs(i,r)}var g=t.memoizedState;if(g!==null){var E=g.dehydrated;if(hu(i),h)if(i.flags&256)i.flags&=-257,i=lp(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(ht||Eo(t,i,s,!1),h=(s&t.childLanes)!==0,ht||h){if(r=je,r!==null&&(E=$f(r,s),E!==0&&E!==g.retryLane))throw g.retryLane=E,Vi(t,E),qt(r,t,E),Uu;la(),i=lp(t,i,s)}else t=g.treeContext,nt=fn(E.nextSibling),Tt=i,ze=!0,ai=null,un=!1,t!==null&&Yd(i,t),i=Xs(i,r),i.flags|=4096;return i}return t=zn(t.child,{mode:r.mode,children:r.children}),t.ref=i.ref,i.child=t,t.return=i,t}function $s(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Lu(t,i,s,r,h){return Fi(i),s=mu(t,i,s,r,void 0,h),r=gu(),t!==null&&!ht?(yu(t,i,h),On(t,i,h)):(ze&&r&&Qr(i),i.flags|=1,Ct(t,i,s,h),i.child)}function sp(t,i,s,r,h,g){return Fi(i),i.updateQueue=null,s=uh(i,r,s,h),rh(t),r=gu(),t!==null&&!ht?(yu(t,i,g),On(t,i,g)):(ze&&r&&Qr(i),i.flags|=1,Ct(t,i,s,g),i.child)}function ap(t,i,s,r,h){if(Fi(i),i.stateNode===null){var g=yo,E=s.contextType;typeof E=="object"&&E!==null&&(g=xt(E)),g=new s(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Iu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},au(i),E=s.contextType,g.context=typeof E=="object"&&E!==null?xt(E):yo,g.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Du(i,s,E,r),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Iu.enqueueReplaceState(g,g.state,null),bl(i,r,g,h),Al(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){g=i.stateNode;var C=i.memoizedProps,w=Qi(s,C);g.props=w;var J=g.context,ee=s.contextType;E=yo,typeof ee=="object"&&ee!==null&&(E=xt(ee));var le=s.getDerivedStateFromProps;ee=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||J!==E)&&Kh(i,g,r,E),ci=!1;var Q=i.memoizedState;g.state=Q,bl(i,r,g,h),Al(),J=i.memoizedState,C||Q!==J||ci?(typeof le=="function"&&(Du(i,s,le,r),J=i.memoizedState),(w=ci||Jh(i,s,w,r,Q,J,E))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=J),g.props=r,g.state=J,g.context=E,r=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,ru(t,i),E=i.memoizedProps,ee=Qi(s,E),g.props=ee,le=i.pendingProps,Q=g.context,J=s.contextType,w=yo,typeof J=="object"&&J!==null&&(w=xt(J)),C=s.getDerivedStateFromProps,(J=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==le||Q!==w)&&Kh(i,g,r,w),ci=!1,Q=i.memoizedState,g.state=Q,bl(i,r,g,h),Al();var W=i.memoizedState;E!==le||Q!==W||ci||t!==null&&t.dependencies!==null&&ws(t.dependencies)?(typeof C=="function"&&(Du(i,s,C,r),W=i.memoizedState),(ee=ci||Jh(i,s,ee,r,Q,W,w)||t!==null&&t.dependencies!==null&&ws(t.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,W,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,W,w)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=W),g.props=r,g.state=W,g.context=w,r=ee):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),r=!1)}return g=r,$s(t,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&r?(i.child=Xi(i,t.child,null,h),i.child=Xi(i,null,s,h)):Ct(t,i,s,h),i.memoizedState=g.state,t=i.child):t=On(t,i,h),t}function rp(t,i,s,r){return Oi(),i.flags|=256,Ct(t,i,s,r),i.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hu(t){return{baseLanes:t,cachePool:Zd()}}function Gu(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=$t),t}function up(t,i,s){var r=i.pendingProps,h=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?hi(i):pi(),(t=nt)?(t=ym(t,un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:si!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},s=Od(t),s.return=i,i.child=s,Tt=i,nt=null)):t=null,t===null)throw ri(i);return _c(t)?i.lanes=32:i.lanes=536870912,null}var C=r.children;return r=r.fallback,h?(pi(),h=i.mode,C=Qs({mode:"hidden",children:C},h),r=qi(r,h,s,null),C.return=i,r.return=i,C.sibling=r,i.child=C,r=i.child,r.memoizedState=Hu(s),r.childLanes=Gu(t,E,s),i.memoizedState=zu,Dl(null,r)):(hi(i),Pu(i,C))}var w=t.memoizedState;if(w!==null&&(C=w.dehydrated,C!==null)){if(g)i.flags&256?(hi(i),i.flags&=-257,i=Vu(t,i,s)):i.memoizedState!==null?(pi(),i.child=t.child,i.flags|=128,i=null):(pi(),C=r.fallback,h=i.mode,r=Qs({mode:"visible",children:r.children},h),C=qi(C,h,s,null),C.flags|=2,r.return=i,C.return=i,r.sibling=C,i.child=r,Xi(i,t.child,null,s),r=i.child,r.memoizedState=Hu(s),r.childLanes=Gu(t,E,s),i.memoizedState=zu,i=Dl(null,r));else if(hi(i),_c(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var J=E.dgst;E=J,r=Error(l(419)),r.stack="",r.digest=E,Sl({value:r,source:null,stack:null}),i=Vu(t,i,s)}else if(ht||Eo(t,i,s,!1),E=(s&t.childLanes)!==0,ht||E){if(E=je,E!==null&&(r=$f(E,s),r!==0&&r!==w.retryLane))throw w.retryLane=r,Vi(t,r),qt(E,t,r),Uu;Sc(C)||la(),i=Vu(t,i,s)}else Sc(C)?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,nt=fn(C.nextSibling),Tt=i,ze=!0,ai=null,un=!1,t!==null&&Yd(i,t),i=Pu(i,r.children),i.flags|=4096);return i}return h?(pi(),C=r.fallback,h=i.mode,w=t.child,J=w.sibling,r=zn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,J!==null?C=zn(J,C):(C=qi(C,h,s,null),C.flags|=2),C.return=i,r.return=i,r.sibling=C,i.child=r,Dl(null,r),r=i.child,C=t.child.memoizedState,C===null?C=Hu(s):(h=C.cachePool,h!==null?(w=ft._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Zd(),C={baseLanes:C.baseLanes|s,cachePool:h}),r.memoizedState=C,r.childLanes=Gu(t,E,s),i.memoizedState=zu,Dl(t.child,r)):(hi(i),s=t.child,t=s.sibling,s=zn(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Pu(t,i){return i=Qs({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qs(t,i){return t=Yt(22,t,null,i),t.lanes=0,t}function Vu(t,i,s){return Xi(i,t.child,null,s),t=Pu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cp(t,i,s){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),tu(t.return,i,s)}function qu(t,i,s,r,h,g){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:h,treeForkCount:g}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=s,E.tailMode=h,E.treeForkCount=g)}function fp(t,i,s){var r=i.pendingProps,h=r.revealOrder,g=r.tail;r=r.children;var E=rt.current,C=(E&2)!==0;if(C?(E=E&1|2,i.flags|=128):E&=1,Y(rt,E),Ct(t,i,r,s),r=ze?vl:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cp(t,s,i);else if(t.tag===19)cp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Gs(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),qu(i,!1,h,s,g,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Gs(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}qu(i,!0,s,null,g,r);break;case"together":qu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function On(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),yi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Eo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,s=zn(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=zn(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ou(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ws(t)))}function a_(t,i,s){switch(i.tag){case 3:he(i,i.stateNode.containerInfo),ui(i,ft,t.memoizedState.cache),Oi();break;case 27:case 5:be(i);break;case 4:he(i,i.stateNode.containerInfo);break;case 10:ui(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,hu(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(hi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?up(t,i,s):(hi(i),t=On(t,i,s),t!==null?t.sibling:null);hi(i);break;case 19:var h=(t.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(Eo(t,i,s,!1),r=(s&i.childLanes)!==0),h){if(r)return fp(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(rt,rt.current),r)break;return null;case 22:return i.lanes=0,ip(t,i,s,i.pendingProps);case 24:ui(i,ft,t.memoizedState.cache)}return On(t,i,s)}function dp(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)ht=!0;else{if(!Ou(t,s)&&(i.flags&128)===0)return ht=!1,a_(t,i,s);ht=(t.flags&131072)!==0}else ht=!1,ze&&(i.flags&1048576)!==0&&Fd(i,vl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(t=Ji(i.elementType),i.type=t,typeof t=="function")Kr(t)?(r=Qi(t,r),i.tag=1,i=ap(null,i,t,r,s)):(i.tag=0,i=Lu(null,i,t,r,s));else{if(t!=null){var h=t.$$typeof;if(h===O){i.tag=11,i=ep(null,i,t,r,s);break e}else if(h===V){i.tag=14,i=tp(null,i,t,r,s);break e}}throw i=oe(t)||t,Error(l(306,i,""))}}return i;case 0:return Lu(t,i,i.type,i.pendingProps,s);case 1:return r=i.type,h=Qi(r,i.pendingProps),ap(t,i,r,h,s);case 3:e:{if(he(i,i.stateNode.containerInfo),t===null)throw Error(l(387));r=i.pendingProps;var g=i.memoizedState;h=g.element,ru(t,i),bl(i,r,null,s);var E=i.memoizedState;if(r=E.cache,ui(i,ft,r),r!==g.cache&&nu(i,[ft],s,!0),Al(),r=E.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=rp(t,i,r,s);break e}else if(r!==h){h=sn(Error(l(424)),i),Sl(h),i=rp(t,i,r,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=fn(t.firstChild),Tt=i,ze=!0,ai=null,un=!0,s=ih(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oi(),r===h){i=On(t,i,s);break e}Ct(t,i,r,s)}i=i.child}return i;case 26:return $s(t,i),t===null?(s=xm(i.type,null,i.pendingProps,null))?i.memoizedState=s:ze||(s=i.type,t=i.pendingProps,r=da(se.current).createElement(s),r[Et]=i,r[Lt]=t,At(r,s,t),gt(r),i.stateNode=r):i.memoizedState=xm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return be(i),t===null&&ze&&(r=i.stateNode=_m(i.type,i.pendingProps,se.current),Tt=i,un=!0,h=nt,Ti(i.type)?(Ec=h,nt=fn(r.firstChild)):nt=h),Ct(t,i,i.pendingProps.children,s),$s(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=r=nt)&&(r=H_(r,i.type,i.pendingProps,un),r!==null?(i.stateNode=r,Tt=i,nt=fn(r.firstChild),un=!1,h=!0):h=!1),h||ri(i)),be(i),h=i.type,g=i.pendingProps,E=t!==null?t.memoizedProps:null,r=g.children,gc(h,g)?r=null:E!==null&&gc(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=mu(t,i,WS,null,null,s),Jl._currentValue=h),$s(t,i),Ct(t,i,r,s),i.child;case 6:return t===null&&ze&&((t=s=nt)&&(s=G_(s,i.pendingProps,un),s!==null?(i.stateNode=s,Tt=i,nt=null,t=!0):t=!1),t||ri(i)),null;case 13:return up(t,i,s);case 4:return he(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=Xi(i,null,r,s):Ct(t,i,r,s),i.child;case 11:return ep(t,i,i.type,i.pendingProps,s);case 7:return Ct(t,i,i.pendingProps,s),i.child;case 8:return Ct(t,i,i.pendingProps.children,s),i.child;case 12:return Ct(t,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,ui(i,i.type,r.value),Ct(t,i,r.children,s),i.child;case 9:return h=i.type._context,r=i.pendingProps.children,Fi(i),h=xt(h),r=r(h),i.flags|=1,Ct(t,i,r,s),i.child;case 14:return tp(t,i,i.type,i.pendingProps,s);case 15:return np(t,i,i.type,i.pendingProps,s);case 19:return fp(t,i,s);case 31:return s_(t,i,s);case 22:return ip(t,i,s,i.pendingProps);case 24:return Fi(i),r=xt(ft),t===null?(h=lu(),h===null&&(h=je,g=iu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=s),h=g),i.memoizedState={parent:r,cache:h},au(i),ui(i,ft,h)):((t.lanes&s)!==0&&(ru(t,i),bl(i,null,null,s),Al()),h=t.memoizedState,g=i.memoizedState,h.parent!==r?(h={parent:r,cache:r},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ui(i,ft,r)):(r=g.cache,ui(i,ft,r),r!==h.cache&&nu(i,[ft],s,!0))),Ct(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Bn(t){t.flags|=4}function Bu(t,i,s,r,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Pp())t.flags|=8192;else throw Ki=Us,su}else t.flags&=-16777217}function hp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nm(i))if(Pp())t.flags|=8192;else throw Ki=Us,su}function Zs(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jf():536870912,t.lanes|=i,ko|=i)}function Il(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=s,i}function r_(t,i,s){var r=i.pendingProps;switch(Zr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return s=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Pn(ft),pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_o(i)?Bn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jr())),it(i),null;case 26:var h=i.type,g=i.memoizedState;return t===null?(Bn(i),g!==null?(it(i),hp(i,g)):(it(i),Bu(i,h,null,r,s))):g?g!==t.memoizedState?(Bn(i),it(i),hp(i,g)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==r&&Bn(i),it(i),Bu(i,h,t,r,s)),null;case 27:if(ae(i),s=se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Bn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return it(i),null}t=H.current,_o(i)?Jd(i):(t=_m(h,r,s),i.stateNode=t,Bn(i))}return it(i),null;case 5:if(ae(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&Bn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return it(i),null}if(g=H.current,_o(i))Jd(i);else{var E=da(se.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?g.multiple=!0:r.size&&(g.size=r.size);break;default:g=typeof r.is=="string"?E.createElement(h,{is:r.is}):E.createElement(h)}}g[Et]=i,g[Lt]=r;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=g;e:switch(At(g,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Bn(i)}}return it(i),Bu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&Bn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(t=se.current,_o(i)){if(t=i.stateNode,s=i.memoizedProps,r=null,h=Tt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||um(t.nodeValue,s)),t||ri(i,!0)}else t=da(t).createTextNode(r),t[Et]=i,i.stateNode=t}return it(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(r=_o(i),s!==null){if(t===null){if(!r)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Et]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else s=jr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Kt(i),i):(Kt(i),null);if((i.flags&128)!==0)throw Error(l(558))}return it(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_o(i),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Et]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=jr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kt(i),i):(Kt(i),null)}return Kt(i),(i.flags&128)!==0?(i.lanes=s,i):(s=r!==null,t=t!==null&&t.memoizedState!==null,s&&(r=i.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),g=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==h&&(r.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Zs(i,i.updateQueue),it(i),null);case 4:return pe(),t===null&&fc(i.stateNode.containerInfo),it(i),null;case 10:return Pn(i.type),it(i),null;case 19:if(q(rt),r=i.memoizedState,r===null)return it(i),null;if(h=(i.flags&128)!==0,g=r.rendering,g===null)if(h)Il(r,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Gs(t),g!==null){for(i.flags|=128,Il(r,!1),t=g.updateQueue,i.updateQueue=t,Zs(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)qd(s,t),s=s.sibling;return Y(rt,rt.current&1|2),ze&&Hn(i,r.treeForkCount),i.child}t=t.sibling}r.tail!==null&&Je()>na&&(i.flags|=128,h=!0,Il(r,!1),i.lanes=4194304)}else{if(!h)if(t=Gs(g),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Zs(i,t),Il(r,!0),r.tail===null&&r.tailMode==="hidden"&&!g.alternate&&!ze)return it(i),null}else 2*Je()-r.renderingStartTime>na&&s!==536870912&&(i.flags|=128,h=!0,Il(r,!1),i.lanes=4194304);r.isBackwards?(g.sibling=i.child,i.child=g):(t=r.last,t!==null?t.sibling=g:i.child=g,r.last=g)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Je(),t.sibling=null,s=rt.current,Y(rt,h?s&1|2:s&1),ze&&Hn(i,r.treeForkCount),t):(it(i),null);case 22:case 23:return Kt(i),du(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),s=i.updateQueue,s!==null&&Zs(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),t!==null&&q(Yi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Pn(ft),it(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function u_(t,i){switch(Zr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pn(ft),pe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ae(i),null;case 31:if(i.memoizedState!==null){if(Kt(i),i.alternate===null)throw Error(l(340));Oi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Kt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Oi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return q(rt),null;case 4:return pe(),null;case 10:return Pn(i.type),null;case 22:case 23:return Kt(i),du(),t!==null&&q(Yi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pn(ft),null;case 25:return null;default:return null}}function pp(t,i){switch(Zr(i),i.tag){case 3:Pn(ft),pe();break;case 26:case 27:case 5:ae(i);break;case 4:pe();break;case 31:i.memoizedState!==null&&Kt(i);break;case 13:Kt(i);break;case 19:q(rt);break;case 10:Pn(i.type);break;case 22:case 23:Kt(i),du(),t!==null&&q(Yi);break;case 24:Pn(ft)}}function kl(t,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var h=r.next;s=h;do{if((s.tag&t)===t){r=void 0;var g=s.create,E=s.inst;r=g(),E.destroy=r}s=s.next}while(s!==h)}}catch(C){$e(i,i.return,C)}}function mi(t,i,s){try{var r=i.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var g=h.next;r=g;do{if((r.tag&t)===t){var E=r.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,h=i;var w=s,J=C;try{J()}catch(ee){$e(h,w,ee)}}}r=r.next}while(r!==g)}}catch(ee){$e(i,i.return,ee)}}function mp(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{lh(i,s)}catch(r){$e(t,t.return,r)}}}function gp(t,i,s){s.props=Qi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){$e(t,i,r)}}function Ul(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(h){$e(t,i,h)}}function Mn(t,i){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$e(t,i,h)}else s.current=null}function yp(t){var i=t.type,s=t.memoizedProps,r=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(h){$e(t,t.return,h)}}function Fu(t,i,s){try{var r=t.stateNode;D_(r,t.type,s,i),r[Lt]=i}catch(h){$e(t,t.return,h)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ti(t.type)||t.tag===4}function Yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ti(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ju(t,i,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Un));else if(r!==4&&(r===27&&Ti(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Ju(t,i,s),t=t.sibling;t!==null;)Ju(t,i,s),t=t.sibling}function Ws(t,i,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(r!==4&&(r===27&&Ti(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ws(t,i,s),t=t.sibling;t!==null;)Ws(t,i,s),t=t.sibling}function Sp(t){var i=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);At(i,r,s),i[Et]=t,i[Lt]=s}catch(g){$e(t,t.return,g)}}var Fn=!1,pt=!1,Ku=!1,_p=typeof WeakSet=="function"?WeakSet:Set,yt=null;function c_(t,i){if(t=t.containerInfo,pc=Sa,t=Id(t),Vr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var h=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var E=0,C=-1,w=-1,J=0,ee=0,le=t,Q=null;t:for(;;){for(var W;le!==s||h!==0&&le.nodeType!==3||(C=E+h),le!==g||r!==0&&le.nodeType!==3||(w=E+r),le.nodeType===3&&(E+=le.nodeValue.length),(W=le.firstChild)!==null;)Q=le,le=W;for(;;){if(le===t)break t;if(Q===s&&++J===h&&(C=E),Q===g&&++ee===r&&(w=E),(W=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=W}s=C===-1||w===-1?null:{start:C,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(mc={focusedElem:t,selectionRange:s},Sa=!1,yt=i;yt!==null;)if(i=yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,yt=t;else for(;yt!==null;){switch(i=yt,g=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=i,h=g.memoizedProps,g=g.memoizedState,r=s.stateNode;try{var ye=Qi(s.type,h);t=r.getSnapshotBeforeUpdate(ye,g),r.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){$e(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)vc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,yt=t;break}yt=i.return}}function Ep(t,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Jn(t,s),r&4&&kl(5,s);break;case 1:if(Jn(t,s),r&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){$e(s,s.return,E)}else{var h=Qi(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){$e(s,s.return,E)}}r&64&&mp(s),r&512&&Ul(s,s.return);break;case 3:if(Jn(t,s),r&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{lh(t,i)}catch(E){$e(s,s.return,E)}}break;case 27:i===null&&r&4&&Sp(s);case 26:case 5:Jn(t,s),i===null&&r&4&&yp(s),r&512&&Ul(s,s.return);break;case 12:Jn(t,s);break;case 31:Jn(t,s),r&4&&Cp(t,s);break;case 13:Jn(t,s),r&4&&Ap(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=S_.bind(null,s),P_(t,s))));break;case 22:if(r=s.memoizedState!==null||Fn,!r){i=i!==null&&i.memoizedState!==null||pt,h=Fn;var g=pt;Fn=r,(pt=i)&&!g?Kn(t,s,(s.subtreeFlags&8772)!==0):Jn(t,s),Fn=h,pt=g}break;case 30:break;default:Jn(t,s)}}function Tp(t){var i=t.alternate;i!==null&&(t.alternate=null,Tp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,Ht=!1;function Yn(t,i,s){for(s=s.child;s!==null;)xp(t,i,s),s=s.sibling}function xp(t,i,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(vn,s)}catch{}switch(s.tag){case 26:pt||Mn(s,i),Yn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pt||Mn(s,i);var r=ot,h=Ht;Ti(s.type)&&(ot=s.stateNode,Ht=!1),Yn(t,i,s),Bl(s.stateNode),ot=r,Ht=h;break;case 5:pt||Mn(s,i);case 6:if(r=ot,h=Ht,ot=null,Yn(t,i,s),ot=r,Ht=h,ot!==null)if(Ht)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(g){$e(s,i,g)}else try{ot.removeChild(s.stateNode)}catch(g){$e(s,i,g)}break;case 18:ot!==null&&(Ht?(t=ot,mm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qo(t)):mm(ot,s.stateNode));break;case 4:r=ot,h=Ht,ot=s.stateNode.containerInfo,Ht=!0,Yn(t,i,s),ot=r,Ht=h;break;case 0:case 11:case 14:case 15:mi(2,s,i),pt||mi(4,s,i),Yn(t,i,s);break;case 1:pt||(Mn(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&gp(s,i,r)),Yn(t,i,s);break;case 21:Yn(t,i,s);break;case 22:pt=(r=pt)||s.memoizedState!==null,Yn(t,i,s),pt=r;break;default:Yn(t,i,s)}}function Cp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qo(t)}catch(s){$e(i,i.return,s)}}}function Ap(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qo(t)}catch(s){$e(i,i.return,s)}}function f_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _p),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _p),i;default:throw Error(l(435,t.tag))}}function js(t,i){var s=f_(t);i.forEach(function(r){if(!s.has(r)){s.add(r);var h=__.bind(null,t,r);r.then(h,h)}})}function Gt(t,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var h=s[r],g=t,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Ti(C.type)){ot=C.stateNode,Ht=!1;break e}break;case 5:ot=C.stateNode,Ht=!1;break e;case 3:case 4:ot=C.stateNode.containerInfo,Ht=!0;break e}C=C.return}if(ot===null)throw Error(l(160));xp(g,E,h),ot=null,Ht=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)bp(i,t),i=i.sibling}var _n=null;function bp(t,i){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(i,t),Pt(t),r&4&&(mi(3,t,t.return),kl(3,t),mi(5,t,t.return));break;case 1:Gt(i,t),Pt(t),r&512&&(pt||s===null||Mn(s,s.return)),r&64&&Fn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var h=_n;if(Gt(i,t),Pt(t),r&512&&(pt||s===null||Mn(s,s.return)),r&4){var g=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){e:{r=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":g=h.getElementsByTagName("title")[0],(!g||g[al]||g[Et]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(r),h.head.insertBefore(g,h.querySelector("head > title"))),At(g,r,s),g[Et]=t,gt(g),r=g;break e;case"link":var E=bm("link","href",h).get(r+(s.href||""));if(E){for(var C=0;C<E.length;C++)if(g=E[C],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(C,1);break t}}g=h.createElement(r),At(g,r,s),h.head.appendChild(g);break;case"meta":if(E=bm("meta","content",h).get(r+(s.content||""))){for(C=0;C<E.length;C++)if(g=E[C],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(C,1);break t}}g=h.createElement(r),At(g,r,s),h.head.appendChild(g);break;default:throw Error(l(468,r))}g[Et]=t,gt(g),r=g}t.stateNode=r}else Rm(h,t.type,t.stateNode);else t.stateNode=Am(h,r,t.memoizedProps);else g!==r?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,r===null?Rm(h,t.type,t.stateNode):Am(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Fu(t,t.memoizedProps,s.memoizedProps)}break;case 27:Gt(i,t),Pt(t),r&512&&(pt||s===null||Mn(s,s.return)),s!==null&&r&4&&Fu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Gt(i,t),Pt(t),r&512&&(pt||s===null||Mn(s,s.return)),t.flags&32){h=t.stateNode;try{uo(h,"")}catch(ye){$e(t,t.return,ye)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Fu(t,h,s!==null?s.memoizedProps:h)),r&1024&&(Ku=!0);break;case 6:if(Gt(i,t),Pt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(ye){$e(t,t.return,ye)}}break;case 3:if(ma=null,h=_n,_n=ha(i.containerInfo),Gt(i,t),_n=h,Pt(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{qo(i.containerInfo)}catch(ye){$e(t,t.return,ye)}Ku&&(Ku=!1,Rp(t));break;case 4:r=_n,_n=ha(t.stateNode.containerInfo),Gt(i,t),Pt(t),_n=r;break;case 12:Gt(i,t),Pt(t);break;case 31:Gt(i,t),Pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,js(t,r)));break;case 13:Gt(i,t),Pt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ta=Je()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,js(t,r)));break;case 22:h=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,J=Fn,ee=pt;if(Fn=J||h,pt=ee||w,Gt(i,t),pt=ee,Fn=J,Pt(t),r&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||w||Fn||pt||Zi(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){w=s=i;try{if(g=w.stateNode,h)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=w.stateNode;var le=w.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){$e(w,w.return,ye)}}}else if(i.tag===6){if(s===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ye){$e(w,w.return,ye)}}}else if(i.tag===18){if(s===null){w=i;try{var W=w.stateNode;h?gm(W,!0):gm(w.stateNode,!1)}catch(ye){$e(w,w.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,js(t,s))));break;case 19:Gt(i,t),Pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,js(t,r)));break;case 30:break;case 21:break;default:Gt(i,t),Pt(t)}}function Pt(t){var i=t.flags;if(i&2){try{for(var s,r=t.return;r!==null;){if(vp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var h=s.stateNode,g=Yu(t);Ws(t,g,h);break;case 5:var E=s.stateNode;s.flags&32&&(uo(E,""),s.flags&=-33);var C=Yu(t);Ws(t,C,E);break;case 3:case 4:var w=s.stateNode.containerInfo,J=Yu(t);Ju(t,J,w);break;default:throw Error(l(161))}}catch(ee){$e(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Rp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Jn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ep(t,i.alternate,i),i=i.sibling}function Zi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:mi(4,i,i.return),Zi(i);break;case 1:Mn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&gp(i,i.return,s),Zi(i);break;case 27:Bl(i.stateNode);case 26:case 5:Mn(i,i.return),Zi(i);break;case 22:i.memoizedState===null&&Zi(i);break;case 30:Zi(i);break;default:Zi(i)}t=t.sibling}}function Kn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,h=t,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Kn(h,g,s),kl(4,g);break;case 1:if(Kn(h,g,s),r=g,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){$e(r,r.return,J)}if(r=g,h=r.updateQueue,h!==null){var C=r.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)oh(w[h],C)}catch(J){$e(r,r.return,J)}}s&&E&64&&mp(g),Ul(g,g.return);break;case 27:Sp(g);case 26:case 5:Kn(h,g,s),s&&r===null&&E&4&&yp(g),Ul(g,g.return);break;case 12:Kn(h,g,s);break;case 31:Kn(h,g,s),s&&E&4&&Cp(h,g);break;case 13:Kn(h,g,s),s&&E&4&&Ap(h,g);break;case 22:g.memoizedState===null&&Kn(h,g,s),Ul(g,g.return);break;case 30:break;default:Kn(h,g,s)}i=i.sibling}}function Xu(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&_l(s))}function $u(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t))}function En(t,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Np(t,i,s,r),i=i.sibling}function Np(t,i,s,r){var h=i.flags;switch(i.tag){case 0:case 11:case 15:En(t,i,s,r),h&2048&&kl(9,i);break;case 1:En(t,i,s,r);break;case 3:En(t,i,s,r),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t)));break;case 12:if(h&2048){En(t,i,s,r),t=i.stateNode;try{var g=i.memoizedProps,E=g.id,C=g.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$e(i,i.return,w)}}else En(t,i,s,r);break;case 31:En(t,i,s,r);break;case 13:En(t,i,s,r);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?En(t,i,s,r):Ll(t,i):g._visibility&2?En(t,i,s,r):(g._visibility|=2,wo(t,i,s,r,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Xu(E,i);break;case 24:En(t,i,s,r),h&2048&&$u(i.alternate,i);break;default:En(t,i,s,r)}}function wo(t,i,s,r,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=t,E=i,C=s,w=r,J=E.flags;switch(E.tag){case 0:case 11:case 15:wo(g,E,C,w,h),kl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?wo(g,E,C,w,h):Ll(g,E):(ee._visibility|=2,wo(g,E,C,w,h)),h&&J&2048&&Xu(E.alternate,E);break;case 24:wo(g,E,C,w,h),h&&J&2048&&$u(E.alternate,E);break;default:wo(g,E,C,w,h)}i=i.sibling}}function Ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,r=i,h=r.flags;switch(r.tag){case 22:Ll(s,r),h&2048&&Xu(r.alternate,r);break;case 24:Ll(s,r),h&2048&&$u(r.alternate,r);break;default:Ll(s,r)}i=i.sibling}}var zl=8192;function Do(t,i,s){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Mp(t,i,s),t=t.sibling}function Mp(t,i,s){switch(t.tag){case 26:Do(t,i,s),t.flags&zl&&t.memoizedState!==null&&Z_(s,_n,t.memoizedState,t.memoizedProps);break;case 5:Do(t,i,s);break;case 3:case 4:var r=_n;_n=ha(t.stateNode.containerInfo),Do(t,i,s),_n=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=zl,zl=16777216,Do(t,i,s),zl=r):Do(t,i,s));break;default:Do(t,i,s)}}function wp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];yt=r,Ip(r,t)}wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dp(t),t=t.sibling}function Dp(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&mi(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ea(t)):Hl(t);break;default:Hl(t)}}function ea(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];yt=r,Ip(r,t)}wp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:mi(8,i,i.return),ea(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ea(i));break;default:ea(i)}t=t.sibling}}function Ip(t,i){for(;yt!==null;){var s=yt;switch(s.tag){case 0:case 11:case 15:mi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_l(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,yt=r;else e:for(s=t;yt!==null;){r=yt;var h=r.sibling,g=r.return;if(Tp(r),r===s){yt=null;break e}if(h!==null){h.return=g,yt=h;break e}yt=g}}}var d_={getCacheForType:function(t){var i=xt(ft),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return xt(ft).controller.signal}},h_=typeof WeakMap=="function"?WeakMap:Map,Ye=0,je=null,Ie=null,Ue=0,Xe=0,Xt=null,gi=!1,Io=!1,Qu=!1,Xn=0,st=0,yi=0,Wi=0,Zu=0,$t=0,ko=0,Gl=null,Vt=null,Wu=!1,ta=0,kp=0,na=1/0,ia=null,vi=null,mt=0,Si=null,Uo=null,$n=0,ju=0,ec=null,Up=null,Pl=0,tc=null;function Qt(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:L.T!==null?ac():Qf()}function Lp(){if($t===0)if((Ue&536870912)===0||ze){var t=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),$t=t}else $t=536870912;return t=Jt.current,t!==null&&(t.flags|=32),$t}function qt(t,i,s){(t===je&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Lo(t,0),_i(t,Ue,$t,!1)),sl(t,s),((Ye&2)===0||t!==je)&&(t===je&&((Ye&2)===0&&(Wi|=s),st===4&&_i(t,Ue,$t,!1)),wn(t))}function zp(t,i,s){if((Ye&6)!==0)throw Error(l(327));var r=!s&&(i&127)===0&&(i&t.expiredLanes)===0||ll(t,i),h=r?g_(t,i):ic(t,i,!0),g=r;do{if(h===0){Io&&!r&&_i(t,i,0,!1);break}else{if(s=t.current.alternate,g&&!p_(s)){h=ic(t,i,!1),g=!1;continue}if(h===2){if(g=i,t.errorRecoveryDisabledLanes&g)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=t;h=Gl;var w=C.current.memoizedState.isDehydrated;if(w&&(Lo(C,E).flags|=256),E=ic(C,E,!1),E!==2){if(Qu&&!w){C.errorRecoveryDisabledLanes|=g,Wi|=g,h=4;break e}g=Vt,Vt=h,g!==null&&(Vt===null?Vt=g:Vt.push.apply(Vt,g))}h=E}if(g=!1,h!==2)continue}}if(h===1){Lo(t,0),_i(t,i,0,!0);break}e:{switch(r=t,g=h,g){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:_i(r,i,$t,!gi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=ta+300-Je(),10<h)){if(_i(r,i,$t,!gi),hs(r,0,!0)!==0)break e;$n=i,r.timeoutHandle=hm(Hp.bind(null,r,s,Vt,ia,Wu,i,$t,Wi,ko,gi,g,"Throttled",-0,0),h);break e}Hp(r,s,Vt,ia,Wu,i,$t,Wi,ko,gi,g,null,-0,0)}}break}while(!0);wn(t)}function Hp(t,i,s,r,h,g,E,C,w,J,ee,le,Q,W){if(t.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Mp(i,g,le);var ye=(g&62914560)===g?ta-Je():(g&4194048)===g?kp-Je():0;if(ye=W_(le,ye),ye!==null){$n=g,t.cancelPendingCommit=ye(Yp.bind(null,t,i,g,s,r,h,E,C,w,ee,le,null,Q,W)),_i(t,g,E,!J);return}}Yp(t,i,g,s,r,h,E,C,w)}function p_(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var h=s[r],g=h.getSnapshot;h=h.value;try{if(!Ft(g(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _i(t,i,s,r){i&=~Zu,i&=~Wi,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var h=i;0<h;){var g=31-Bt(h),E=1<<g;r[g]=-1,h&=~E}s!==0&&Kf(t,s,i)}function oa(){return(Ye&6)===0?(Vl(0),!1):!0}function nc(){if(Ie!==null){if(Xe===0)var t=Ie.return;else t=Ie,Gn=Bi=null,vu(t),Ao=null,Tl=0,t=Ie;for(;t!==null;)pp(t.alternate,t),t=t.return;Ie=null}}function Lo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,U_(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$n=0,nc(),je=t,Ie=s=zn(t.current,null),Ue=i,Xe=0,Xt=null,gi=!1,Io=ll(t,i),Qu=!1,ko=$t=Zu=Wi=yi=st=0,Vt=Gl=null,Wu=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var h=31-Bt(r),g=1<<h;i|=t[h],r&=~g}return Xn=i,As(),s}function Gp(t,i){Ne=null,L.H=wl,i===Co||i===ks?(i=eh(),Xe=3):i===su?(i=eh(),Xe=4):Xe=i===Uu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xt=i,Ie===null&&(st=1,Ks(t,sn(i,t.current)))}function Pp(){var t=Jt.current;return t===null?!0:(Ue&4194048)===Ue?cn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===cn:!1}function Vp(){var t=L.H;return L.H=wl,t===null?wl:t}function qp(){var t=L.A;return L.A=d_,t}function la(){st=4,gi||(Ue&4194048)!==Ue&&Jt.current!==null||(Io=!0),(yi&134217727)===0&&(Wi&134217727)===0||je===null||_i(je,Ue,$t,!1)}function ic(t,i,s){var r=Ye;Ye|=2;var h=Vp(),g=qp();(je!==t||Ue!==i)&&(ia=null,Lo(t,i)),i=!1;var E=st;e:do try{if(Xe!==0&&Ie!==null){var C=Ie,w=Xt;switch(Xe){case 8:nc(),E=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(i=!0);var J=Xe;if(Xe=0,Xt=null,zo(t,C,w,J),s&&Io){E=0;break e}break;default:J=Xe,Xe=0,Xt=null,zo(t,C,w,J)}}m_(),E=st;break}catch(ee){Gp(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Gn=Bi=null,Ye=r,L.H=h,L.A=g,Ie===null&&(je=null,Ue=0,As()),E}function m_(){for(;Ie!==null;)Op(Ie)}function g_(t,i){var s=Ye;Ye|=2;var r=Vp(),h=qp();je!==t||Ue!==i?(ia=null,na=Je()+500,Lo(t,i)):Io=ll(t,i);e:do try{if(Xe!==0&&Ie!==null){i=Ie;var g=Xt;t:switch(Xe){case 1:Xe=0,Xt=null,zo(t,i,g,1);break;case 2:case 9:if(Wd(g)){Xe=0,Xt=null,Bp(i);break}i=function(){Xe!==2&&Xe!==9||je!==t||(Xe=7),wn(t)},g.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Wd(g)?(Xe=0,Xt=null,Bp(i)):(Xe=0,Xt=null,zo(t,i,g,7));break;case 5:var E=null;switch(Ie.tag){case 26:E=Ie.memoizedState;case 5:case 27:var C=Ie;if(E?Nm(E):C.stateNode.complete){Xe=0,Xt=null;var w=C.sibling;if(w!==null)Ie=w;else{var J=C.return;J!==null?(Ie=J,sa(J)):Ie=null}break t}}Xe=0,Xt=null,zo(t,i,g,5);break;case 6:Xe=0,Xt=null,zo(t,i,g,6);break;case 8:nc(),st=6;break e;default:throw Error(l(462))}}y_();break}catch(ee){Gp(t,ee)}while(!0);return Gn=Bi=null,L.H=r,L.A=h,Ye=s,Ie!==null?0:(je=null,Ue=0,As(),st)}function y_(){for(;Ie!==null&&!jt();)Op(Ie)}function Op(t){var i=dp(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,i===null?sa(t):Ie=i}function Bp(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=sp(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=sp(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:vu(i);default:pp(s,i),i=Ie=qd(i,Xn),i=dp(s,i,Xn)}t.memoizedProps=t.pendingProps,i===null?sa(t):Ie=i}function zo(t,i,s,r){Gn=Bi=null,vu(i),Ao=null,Tl=0;var h=i.return;try{if(l_(t,h,i,s,Ue)){st=1,Ks(t,sn(s,t.current)),Ie=null;return}}catch(g){if(h!==null)throw Ie=h,g;st=1,Ks(t,sn(s,t.current)),Ie=null;return}i.flags&32768?(ze||r===1?t=!0:Io||(Ue&536870912)!==0?t=!1:(gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=Jt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Fp(i,t)):sa(i)}function sa(t){var i=t;do{if((i.flags&32768)!==0){Fp(i,gi);return}t=i.return;var s=r_(i.alternate,i,Xn);if(s!==null){Ie=s;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);st===0&&(st=5)}function Fp(t,i){do{var s=u_(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);st=6,Ie=null}function Yp(t,i,s,r,h,g,E,C,w){t.cancelPendingCommit=null;do aa();while(mt!==0);if((Ye&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(g=i.lanes|i.childLanes,g|=Yr,Qv(t,s,g,E,C,w),t===je&&(Ie=je=null,Ue=0),Uo=i,Si=t,$n=s,ju=g,ec=h,Up=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,E_(Ut,function(){return Qp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,h=X.p,X.p=2,E=Ye,Ye|=4;try{c_(t,i,s)}finally{Ye=E,X.p=h,L.T=r}}mt=1,Jp(),Kp(),Xp()}}function Jp(){if(mt===1){mt=0;var t=Si,i=Uo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var r=X.p;X.p=2;var h=Ye;Ye|=4;try{bp(i,t);var g=mc,E=Id(t.containerInfo),C=g.focusedElem,w=g.selectionRange;if(E!==C&&C&&C.ownerDocument&&Dd(C.ownerDocument.documentElement,C)){if(w!==null&&Vr(C)){var J=w.start,ee=w.end;if(ee===void 0&&(ee=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(ee,C.value.length);else{var le=C.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ye=C.textContent.length,Ce=Math.min(w.start,ye),We=w.end===void 0?Ce:Math.min(w.end,ye);!W.extend&&Ce>We&&(E=We,We=Ce,Ce=E);var G=wd(C,Ce),U=wd(C,We);if(G&&U&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var B=le.createRange();B.setStart(G.node,G.offset),W.removeAllRanges(),Ce>We?(W.addRange(B),W.extend(U.node,U.offset)):(B.setEnd(U.node,U.offset),W.addRange(B))}}}}for(le=[],W=C;W=W.parentNode;)W.nodeType===1&&le.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<le.length;C++){var ie=le[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Sa=!!pc,mc=pc=null}finally{Ye=h,X.p=r,L.T=s}}t.current=i,mt=2}}function Kp(){if(mt===2){mt=0;var t=Si,i=Uo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var r=X.p;X.p=2;var h=Ye;Ye|=4;try{Ep(t,i.alternate,i)}finally{Ye=h,X.p=r,L.T=s}}mt=3}}function Xp(){if(mt===4||mt===3){mt=0,Ui();var t=Si,i=Uo,s=$n,r=Up;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mt=5:(mt=0,Uo=Si=null,$p(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(vi=null),Er(s),i=i.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(vn,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=L.T,h=X.p,X.p=2,L.T=null;try{for(var g=t.onRecoverableError,E=0;E<r.length;E++){var C=r[E];g(C.value,{componentStack:C.stack})}}finally{L.T=i,X.p=h}}($n&3)!==0&&aa(),wn(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===tc?Pl++:(Pl=0,tc=t):Pl=0,Vl(0)}}function $p(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,_l(i)))}function aa(){return Jp(),Kp(),Xp(),Qp()}function Qp(){if(mt!==5)return!1;var t=Si,i=ju;ju=0;var s=Er($n),r=L.T,h=X.p;try{X.p=32>s?32:s,L.T=null,s=ec,ec=null;var g=Si,E=$n;if(mt=0,Uo=Si=null,$n=0,(Ye&6)!==0)throw Error(l(331));var C=Ye;if(Ye|=4,Dp(g.current),Np(g,g.current,E,s),Ye=C,Vl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(vn,g)}catch{}return!0}finally{X.p=h,L.T=r,$p(t,i)}}function Zp(t,i,s){i=sn(s,i),i=ku(t.stateNode,i,2),t=di(t,i,2),t!==null&&(sl(t,2),wn(t))}function $e(t,i,s){if(t.tag===3)Zp(t,t,s);else for(;i!==null;){if(i.tag===3){Zp(i,t,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=sn(s,t),s=Wh(2),r=di(i,s,2),r!==null&&(jh(s,r,i,t),sl(r,2),wn(r));break}}i=i.return}}function oc(t,i,s){var r=t.pingCache;if(r===null){r=t.pingCache=new h_;var h=new Set;r.set(i,h)}else h=r.get(i),h===void 0&&(h=new Set,r.set(i,h));h.has(s)||(Qu=!0,h.add(s),t=v_.bind(null,t,i,s),i.then(t,t))}function v_(t,i,s){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,je===t&&(Ue&s)===s&&(st===4||st===3&&(Ue&62914560)===Ue&&300>Je()-ta?(Ye&2)===0&&Lo(t,0):Zu|=s,ko===Ue&&(ko=0)),wn(t)}function Wp(t,i){i===0&&(i=Jf()),t=Vi(t,i),t!==null&&(sl(t,i),wn(t))}function S_(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Wp(t,s)}function __(t,i){var s=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),Wp(t,s)}function E_(t,i){return et(t,i)}var ra=null,Ho=null,lc=!1,ua=!1,sc=!1,Ei=0;function wn(t){t!==Ho&&t.next===null&&(Ho===null?ra=Ho=t:Ho=Ho.next=t),ua=!0,lc||(lc=!0,x_())}function Vl(t,i){if(!sc&&ua){sc=!0;do for(var s=!1,r=ra;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var g=0;else{var E=r.suspendedLanes,C=r.pingedLanes;g=(1<<31-Bt(42|t)+1)-1,g&=h&~(E&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,nm(r,g))}else g=Ue,g=hs(r,r===je?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||ll(r,g)||(s=!0,nm(r,g));r=r.next}while(s);sc=!1}}function T_(){jp()}function jp(){ua=lc=!1;var t=0;Ei!==0&&k_()&&(t=Ei);for(var i=Je(),s=null,r=ra;r!==null;){var h=r.next,g=em(r,i);g===0?(r.next=null,s===null?ra=h:s.next=h,h===null&&(Ho=s)):(s=r,(t!==0||(g&3)!==0)&&(ua=!0)),r=h}mt!==0&&mt!==5||Vl(t),Ei!==0&&(Ei=0)}function em(t,i){for(var s=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var E=31-Bt(g),C=1<<E,w=h[E];w===-1?((C&s)===0||(C&r)!==0)&&(h[E]=$v(C,i)):w<=i&&(t.expiredLanes|=C),g&=~C}if(i=je,s=Ue,s=hs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&bn(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ll(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(r!==null&&bn(r),Er(s)){case 2:case 8:s=_t;break;case 32:s=Ut;break;case 268435456:s=ol;break;default:s=Ut}return r=tm.bind(null,t),s=et(s,r),t.callbackPriority=i,t.callbackNode=s,i}return r!==null&&r!==null&&bn(r),t.callbackPriority=2,t.callbackNode=null,2}function tm(t,i){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(aa()&&t.callbackNode!==s)return null;var r=Ue;return r=hs(t,t===je?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(zp(t,r,i),em(t,Je()),t.callbackNode!=null&&t.callbackNode===s?tm.bind(null,t):null)}function nm(t,i){if(aa())return null;zp(t,i,!0)}function x_(){L_(function(){(Ye&6)!==0?et(at,T_):jp()})}function ac(){if(Ei===0){var t=To;t===0&&(t=cs,cs<<=1,(cs&261888)===0&&(cs=256)),Ei=t}return Ei}function im(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ys(""+t)}function om(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function C_(t,i,s,r,h){if(i==="submit"&&s&&s.stateNode===h){var g=im((h[Lt]||null).action),E=r.submitter;E&&(i=(i=E[Lt]||null)?im(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var C=new Es("action","action",null,r,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ei!==0){var w=E?om(h,E):new FormData(h);Ru(s,{pending:!0,data:w,method:h.method,action:g},null,w)}}else typeof g=="function"&&(C.preventDefault(),w=E?om(h,E):new FormData(h),Ru(s,{pending:!0,data:w,method:h.method,action:g},g,w))},currentTarget:h}]})}}for(var rc=0;rc<Fr.length;rc++){var uc=Fr[rc],A_=uc.toLowerCase(),b_=uc[0].toUpperCase()+uc.slice(1);Sn(A_,"on"+b_)}Sn(Ld,"onAnimationEnd"),Sn(zd,"onAnimationIteration"),Sn(Hd,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(OS,"onTransitionRun"),Sn(BS,"onTransitionStart"),Sn(FS,"onTransitionCancel"),Sn(Gd,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function lm(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],h=r.event;r=r.listeners;e:{var g=void 0;if(i)for(var E=r.length-1;0<=E;E--){var C=r[E],w=C.instance,J=C.currentTarget;if(C=C.listener,w!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=J;try{g(h)}catch(ee){Cs(ee)}h.currentTarget=null,g=w}else for(E=0;E<r.length;E++){if(C=r[E],w=C.instance,J=C.currentTarget,C=C.listener,w!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=J;try{g(h)}catch(ee){Cs(ee)}h.currentTarget=null,g=w}}}}function ke(t,i){var s=i[Tr];s===void 0&&(s=i[Tr]=new Set);var r=t+"__bubble";s.has(r)||(sm(i,t,2,!1),s.add(r))}function cc(t,i,s){var r=0;i&&(r|=4),sm(s,t,r,i)}var ca="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[ca]){t[ca]=!0,jf.forEach(function(s){s!=="selectionchange"&&(R_.has(s)||cc(s,!1,t),cc(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ca]||(i[ca]=!0,cc("selectionchange",!1,i))}}function sm(t,i,s,r){switch(Lm(i)){case 2:var h=tE;break;case 8:h=nE;break;default:h=bc}s=h.bind(null,i,s,t),h=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function dc(t,i,s,r,h){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var C=r.stateNode.containerInfo;if(C===h)break;if(E===4)for(E=r.return;E!==null;){var w=E.tag;if((w===3||w===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;C!==null;){if(E=oo(C),E===null)return;if(w=E.tag,w===5||w===6||w===26||w===27){r=g=E;continue e}C=C.parentNode}}r=r.return}fd(function(){var J=g,ee=Mr(s),le=[];e:{var Q=Pd.get(t);if(Q!==void 0){var W=Es,ye=t;switch(t){case"keypress":if(Ss(s)===0)break e;case"keydown":case"keyup":W=_S;break;case"focusin":ye="focus",W=Lr;break;case"focusout":ye="blur",W=Lr;break;case"beforeblur":case"afterblur":W=Lr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=xS;break;case Ld:case zd:case Hd:W=fS;break;case Gd:W=AS;break;case"scroll":case"scrollend":W=sS;break;case"wheel":W=RS;break;case"copy":case"cut":case"paste":W=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=gd;break;case"toggle":case"beforetoggle":W=MS}var Ce=(i&4)!==0,We=!Ce&&(t==="scroll"||t==="scrollend"),G=Ce?Q!==null?Q+"Capture":null:Q;Ce=[];for(var U=J,B;U!==null;){var ie=U;if(B=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||B===null||G===null||(ie=ul(U,G),ie!=null&&Ce.push(Ol(U,ie,B))),We)break;U=U.return}0<Ce.length&&(Q=new W(Q,ye,null,s,ee),le.push({event:Q,listeners:Ce}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Q&&s!==Nr&&(ye=s.relatedTarget||s.fromElement)&&(oo(ye)||ye[io]))break e;if((W||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ye=s.relatedTarget||s.toElement,W=J,ye=ye?oo(ye):null,ye!==null&&(We=u(ye),Ce=ye.tag,ye!==We||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(W=null,ye=J),W!==ye)){if(Ce=pd,ie="onMouseLeave",G="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=gd,ie="onPointerLeave",G="onPointerEnter",U="pointer"),We=W==null?Q:rl(W),B=ye==null?Q:rl(ye),Q=new Ce(ie,U+"leave",W,s,ee),Q.target=We,Q.relatedTarget=B,ie=null,oo(ee)===J&&(Ce=new Ce(G,U+"enter",ye,s,ee),Ce.target=B,Ce.relatedTarget=We,ie=Ce),We=ie,W&&ye)t:{for(Ce=N_,G=W,U=ye,B=0,ie=G;ie;ie=Ce(ie))B++;ie=0;for(var xe=U;xe;xe=Ce(xe))ie++;for(;0<B-ie;)G=Ce(G),B--;for(;0<ie-B;)U=Ce(U),ie--;for(;B--;){if(G===U||U!==null&&G===U.alternate){Ce=G;break t}G=Ce(G),U=Ce(U)}Ce=null}else Ce=null;W!==null&&am(le,Q,W,Ce,!1),ye!==null&&We!==null&&am(le,We,ye,Ce,!0)}}e:{if(Q=J?rl(J):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var qe=Cd;else if(Td(Q))if(Ad)qe=PS;else{qe=HS;var Se=zS}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?J&&Rr(J.elementType)&&(qe=Cd):qe=GS;if(qe&&(qe=qe(t,J))){xd(le,qe,s,ee);break e}Se&&Se(t,Q,J),t==="focusout"&&J&&Q.type==="number"&&J.memoizedProps.value!=null&&br(Q,"number",Q.value)}switch(Se=J?rl(J):window,t){case"focusin":(Td(Se)||Se.contentEditable==="true")&&(po=Se,qr=J,yl=null);break;case"focusout":yl=qr=po=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,kd(le,s,ee);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":kd(le,s,ee)}var Me;if(Hr)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ho?_d(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(yd&&s.locale!=="ko"&&(ho||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ho&&(Me=dd()):(li=ee,Ir="value"in li?li.value:li.textContent,ho=!0)),Se=fa(J,Le),0<Se.length&&(Le=new md(Le,t,null,s,ee),le.push({event:Le,listeners:Se}),Me?Le.data=Me:(Me=Ed(s),Me!==null&&(Le.data=Me)))),(Me=DS?IS(t,s):kS(t,s))&&(Le=fa(J,"onBeforeInput"),0<Le.length&&(Se=new md("onBeforeInput","beforeinput",null,s,ee),le.push({event:Se,listeners:Le}),Se.data=Me)),C_(le,t,J,s,ee)}lm(le,i)})}function Ol(t,i,s){return{instance:t,listener:i,currentTarget:s}}function fa(t,i){for(var s=i+"Capture",r=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ul(t,s),h!=null&&r.unshift(Ol(t,h,g)),h=ul(t,i),h!=null&&r.push(Ol(t,h,g))),t.tag===3)return r;t=t.return}return[]}function N_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function am(t,i,s,r,h){for(var g=i._reactName,E=[];s!==null&&s!==r;){var C=s,w=C.alternate,J=C.stateNode;if(C=C.tag,w!==null&&w===r)break;C!==5&&C!==26&&C!==27||J===null||(w=J,h?(J=ul(s,g),J!=null&&E.unshift(Ol(s,J,w))):h||(J=ul(s,g),J!=null&&E.push(Ol(s,J,w)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var M_=/\r\n?/g,w_=/\u0000|\uFFFD/g;function rm(t){return(typeof t=="string"?t:""+t).replace(M_,`
`).replace(w_,"")}function um(t,i){return i=rm(i),rm(t)===i}function Ze(t,i,s,r,h,g){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||uo(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&uo(t,""+r);break;case"className":ms(t,"class",r);break;case"tabIndex":ms(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(t,s,r);break;case"style":ud(t,r,g);break;case"data":if(i!=="object"){ms(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ys(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ys(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=Un);break;case"onScroll":r!=null&&ke("scroll",t);break;case"onScrollEnd":r!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=ys(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ps(t,"popover",r);break;case"xlinkActuate":kn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":kn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":kn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":kn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":kn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":kn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":kn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":kn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":kn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ps(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oS.get(s)||s,ps(t,s,r))}}function hc(t,i,s,r,h,g){switch(s){case"style":ud(t,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof r=="string"?uo(t,r):(typeof r=="number"||typeof r=="bigint")&&uo(t,""+r);break;case"onScroll":r!=null&&ke("scroll",t);break;case"onScrollEnd":r!=null&&ke("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ed.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),g=t[Lt]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(i,g,h),typeof r=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,r,h);break e}s in t?t[s]=r:r===!0?t.setAttribute(s,""):ps(t,s,r)}}}function At(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var r=!1,h=!1,g;for(g in s)if(s.hasOwnProperty(g)){var E=s[g];if(E!=null)switch(g){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ze(t,i,g,E,s,null)}}h&&Ze(t,i,"srcSet",s.srcSet,s,null),r&&Ze(t,i,"src",s.src,s,null);return;case"input":ke("invalid",t);var C=g=E=h=null,w=null,J=null;for(r in s)if(s.hasOwnProperty(r)){var ee=s[r];if(ee!=null)switch(r){case"name":h=ee;break;case"type":E=ee;break;case"checked":w=ee;break;case"defaultChecked":J=ee;break;case"value":g=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,i));break;default:Ze(t,i,r,ee,s,null)}}ld(t,g,C,w,J,E,h,!1);return;case"select":ke("invalid",t),r=E=g=null;for(h in s)if(s.hasOwnProperty(h)&&(C=s[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":E=C;break;case"multiple":r=C;default:Ze(t,i,h,C,s,null)}i=g,s=E,t.multiple=!!r,i!=null?ro(t,!!r,i,!1):s!=null&&ro(t,!!r,s,!0);return;case"textarea":ke("invalid",t),g=h=r=null;for(E in s)if(s.hasOwnProperty(E)&&(C=s[E],C!=null))switch(E){case"value":r=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Ze(t,i,E,C,s,null)}ad(t,r,h,g);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(r=s[w],r!=null))switch(w){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ze(t,i,w,r,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(r=0;r<ql.length;r++)ke(ql[r],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(r=s[J],r!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ze(t,i,J,r,s,null)}return;default:if(Rr(i)){for(ee in s)s.hasOwnProperty(ee)&&(r=s[ee],r!==void 0&&hc(t,i,ee,r,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(r=s[C],r!=null&&Ze(t,i,C,r,s,null))}function D_(t,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,C=null,w=null,J=null,ee=null;for(W in s){var le=s[W];if(s.hasOwnProperty(W)&&le!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":w=le;default:r.hasOwnProperty(W)||Ze(t,i,W,null,r,le)}}for(var Q in r){var W=r[Q];if(le=s[Q],r.hasOwnProperty(Q)&&(W!=null||le!=null))switch(Q){case"type":g=W;break;case"name":h=W;break;case"checked":J=W;break;case"defaultChecked":ee=W;break;case"value":E=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,i));break;default:W!==le&&Ze(t,i,Q,W,r,le)}}Ar(t,E,C,w,J,ee,g,h);return;case"select":W=E=C=Q=null;for(g in s)if(w=s[g],s.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":W=w;default:r.hasOwnProperty(g)||Ze(t,i,g,null,r,w)}for(h in r)if(g=r[h],w=s[h],r.hasOwnProperty(h)&&(g!=null||w!=null))switch(h){case"value":Q=g;break;case"defaultValue":C=g;break;case"multiple":E=g;default:g!==w&&Ze(t,i,h,g,r,w)}i=C,s=E,r=W,Q!=null?ro(t,!!s,Q,!1):!!r!=!!s&&(i!=null?ro(t,!!s,i,!0):ro(t,!!s,s?[]:"",!1));return;case"textarea":W=Q=null;for(C in s)if(h=s[C],s.hasOwnProperty(C)&&h!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ze(t,i,C,null,r,h)}for(E in r)if(h=r[E],g=s[E],r.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":Q=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==g&&Ze(t,i,E,h,r,g)}sd(t,Q,W);return;case"option":for(var ye in s)if(Q=s[ye],s.hasOwnProperty(ye)&&Q!=null&&!r.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Ze(t,i,ye,null,r,Q)}for(w in r)if(Q=r[w],W=s[w],r.hasOwnProperty(w)&&Q!==W&&(Q!=null||W!=null))switch(w){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ze(t,i,w,Q,r,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)Q=s[Ce],s.hasOwnProperty(Ce)&&Q!=null&&!r.hasOwnProperty(Ce)&&Ze(t,i,Ce,null,r,Q);for(J in r)if(Q=r[J],W=s[J],r.hasOwnProperty(J)&&Q!==W&&(Q!=null||W!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,i));break;default:Ze(t,i,J,Q,r,W)}return;default:if(Rr(i)){for(var We in s)Q=s[We],s.hasOwnProperty(We)&&Q!==void 0&&!r.hasOwnProperty(We)&&hc(t,i,We,void 0,r,Q);for(ee in r)Q=r[ee],W=s[ee],!r.hasOwnProperty(ee)||Q===W||Q===void 0&&W===void 0||hc(t,i,ee,Q,r,W);return}}for(var G in s)Q=s[G],s.hasOwnProperty(G)&&Q!=null&&!r.hasOwnProperty(G)&&Ze(t,i,G,null,r,Q);for(le in r)Q=r[le],W=s[le],!r.hasOwnProperty(le)||Q===W||Q==null&&W==null||Ze(t,i,le,Q,r,W)}function cm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var h=s[r],g=h.transferSize,E=h.initiatorType,C=h.duration;if(g&&C&&cm(E)){for(E=0,C=h.responseEnd,r+=1;r<s.length;r++){var w=s[r],J=w.startTime;if(J>C)break;var ee=w.transferSize,le=w.initiatorType;ee&&cm(le)&&(w=w.responseEnd,E+=ee*(w<C?1:(C-J)/(w-J)))}if(--r,i+=8*(g+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pc=null,mc=null;function da(t){return t.nodeType===9?t:t.ownerDocument}function fm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function gc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yc=null;function k_(){var t=window.event;return t&&t.type==="popstate"?t===yc?!1:(yc=t,!0):(yc=null,!1)}var hm=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(z_)}:hm;function z_(t){setTimeout(function(){throw t})}function Ti(t){return t==="head"}function mm(t,i){var s=i,r=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(r===0){t.removeChild(h),qo(i);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Bl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Bl(s);for(var g=s.firstChild;g;){var E=g.nextSibling,C=g.nodeName;g[al]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=E}}else s==="body"&&Bl(t.ownerDocument.body);s=h}while(s);qo(i)}function gm(t,i){var s=t;t=0;do{var r=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=r}while(s)}function vc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vc(s),xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function H_(t,i,s,r){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[al])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function G_(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=fn(t.nextSibling),t===null))return null;return t}function ym(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=fn(t.nextSibling),t===null))return null;return t}function Sc(t){return t.data==="$?"||t.data==="$~"}function _c(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function P_(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ec=null;function vm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return fn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Sm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function _m(t,i,s){switch(i=da(s),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xr(t)}var dn=new Map,Em=new Set;function ha(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qn=X.d;X.d={f:V_,r:q_,D:O_,C:B_,L:F_,m:Y_,X:K_,S:J_,M:X_};function V_(){var t=Qn.f(),i=oa();return t||i}function q_(t){var i=lo(t);i!==null&&i.tag===5&&i.type==="form"?Gh(i):Qn.r(t)}var Go=typeof document>"u"?null:document;function Tm(t,i,s){var r=Go;if(r&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Em.has(h)||(Em.add(h),t={rel:t,crossOrigin:s,href:i},r.querySelector(h)===null&&(i=r.createElement("link"),At(i,"link",t),gt(i),r.head.appendChild(i)))}}function O_(t){Qn.D(t),Tm("dns-prefetch",t,null)}function B_(t,i){Qn.C(t,i),Tm("preconnect",t,i)}function F_(t,i,s){Qn.L(t,i,s);var r=Go;if(r&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var g=h;switch(i){case"style":g=Po(t);break;case"script":g=Vo(t)}dn.has(g)||(t=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),dn.set(g,t),r.querySelector(h)!==null||i==="style"&&r.querySelector(Fl(g))||i==="script"&&r.querySelector(Yl(g))||(i=r.createElement("link"),At(i,"link",t),gt(i),r.head.appendChild(i)))}}function Y_(t,i){Qn.m(t,i);var s=Go;if(s&&t){var r=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(r)+'"][href="'+on(t)+'"]',g=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vo(t)}if(!dn.has(g)&&(t=S({rel:"modulepreload",href:t},i),dn.set(g,t),s.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(g)))return}r=s.createElement("link"),At(r,"link",t),gt(r),s.head.appendChild(r)}}}function J_(t,i,s){Qn.S(t,i,s);var r=Go;if(r&&t){var h=so(r).hoistableStyles,g=Po(t);i=i||"default";var E=h.get(g);if(!E){var C={loading:0,preload:null};if(E=r.querySelector(Fl(g)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},s),(s=dn.get(g))&&Tc(t,s);var w=E=r.createElement("link");gt(w),At(w,"link",t),w._p=new Promise(function(J,ee){w.onload=J,w.onerror=ee}),w.addEventListener("load",function(){C.loading|=1}),w.addEventListener("error",function(){C.loading|=2}),C.loading|=4,pa(E,i,r)}E={type:"stylesheet",instance:E,count:1,state:C},h.set(g,E)}}}function K_(t,i){Qn.X(t,i);var s=Go;if(s&&t){var r=so(s).hoistableScripts,h=Vo(t),g=r.get(h);g||(g=s.querySelector(Yl(h)),g||(t=S({src:t,async:!0},i),(i=dn.get(h))&&xc(t,i),g=s.createElement("script"),gt(g),At(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(h,g))}}function X_(t,i){Qn.M(t,i);var s=Go;if(s&&t){var r=so(s).hoistableScripts,h=Vo(t),g=r.get(h);g||(g=s.querySelector(Yl(h)),g||(t=S({src:t,async:!0,type:"module"},i),(i=dn.get(h))&&xc(t,i),g=s.createElement("script"),gt(g),At(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(h,g))}}function xm(t,i,s,r){var h=(h=se.current)?ha(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Po(s.href),s=so(h).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Po(s.href);var g=so(h).hoistableStyles,E=g.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,E),(g=h.querySelector(Fl(t)))&&!g._p&&(E.instance=g,E.state.loading=5),dn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},dn.set(t,s),g||$_(h,t,s,E.state))),i&&r===null)throw Error(l(528,""));return E}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(s),s=so(h).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Po(t){return'href="'+on(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Cm(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $_(t,i,s,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),At(i,"link",s),gt(i),t.head.appendChild(i))}function Vo(t){return'[src="'+on(t)+'"]'}function Yl(t){return"script[async]"+t}function Am(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+on(s.href)+'"]');if(r)return i.instance=r,gt(r),r;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),gt(r),At(r,"style",h),pa(r,s.precedence,t),i.instance=r;case"stylesheet":h=Po(s.href);var g=t.querySelector(Fl(h));if(g)return i.state.loading|=4,i.instance=g,gt(g),g;r=Cm(s),(h=dn.get(h))&&Tc(r,h),g=(t.ownerDocument||t).createElement("link"),gt(g);var E=g;return E._p=new Promise(function(C,w){E.onload=C,E.onerror=w}),At(g,"link",r),i.state.loading|=4,pa(g,s.precedence,t),i.instance=g;case"script":return g=Vo(s.src),(h=t.querySelector(Yl(g)))?(i.instance=h,gt(h),h):(r=s,(h=dn.get(g))&&(r=S({},s),xc(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),At(h,"link",r),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,pa(r,s.precedence,t));return i.instance}function pa(t,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,g=h,E=0;E<r.length;E++){var C=r[E];if(C.dataset.precedence===i)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Tc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function xc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ma=null;function bm(t,i,s){if(ma===null){var r=new Map,h=ma=new Map;h.set(s,r)}else h=ma,r=h.get(s),r||(r=new Map,h.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var g=s[h];if(!(g[al]||g[Et]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=t+E;var C=r.get(E);C?C.push(g):r.set(E,[g])}}return r}function Rm(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Q_(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Z_(t,i,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Po(r.href),g=i.querySelector(Fl(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ga.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=g,gt(g);return}g=i.ownerDocument||i,r=Cm(r),(h=dn.get(h))&&Tc(r,h),g=g.createElement("link"),gt(g);var E=g;E._p=new Promise(function(C,w){E.onload=C,E.onerror=w}),At(g,"link",r),s.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ga.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Cc=0;function W_(t,i){return t.stylesheets&&t.count===0&&va(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var r=setTimeout(function(){if(t.stylesheets&&va(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+i);0<t.imgBytes&&Cc===0&&(Cc=62500*I_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&va(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>Cc?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ya=null;function va(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ya=new Map,i.forEach(j_,t),ya=null,ga.call(t))}function j_(t,i){if(!(i.state.loading&4)){var s=ya.get(t);if(s)var r=s.get(null);else{s=new Map,ya.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),r=E)}r&&s.set(null,r)}h=i.instance,E=h.getAttribute("data-precedence"),g=s.get(E)||r,g===r&&s.set(null,h),s.set(E,h),this.count++,r=ga.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Jl={$$typeof:z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function eE(t,i,s,r,h,g,E,C,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Mm(t,i,s,r,h,g,E,C,w,J,ee,le){return t=new eE(t,i,s,E,w,J,ee,le,C),i=1,g===!0&&(i|=24),g=Yt(3,null,null,i),t.current=g,g.stateNode=t,i=iu(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:s,cache:i},au(g),t}function wm(t){return t?(t=yo,t):yo}function Dm(t,i,s,r,h,g){h=wm(h),r.context===null?r.context=h:r.pendingContext=h,r=fi(i),r.payload={element:s},g=g===void 0?null:g,g!==null&&(r.callback=g),s=di(t,r,i),s!==null&&(qt(s,t,i),Cl(s,t,i))}function Im(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Ac(t,i){Im(t,i),(t=t.alternate)&&Im(t,i)}function km(t){if(t.tag===13||t.tag===31){var i=Vi(t,67108864);i!==null&&qt(i,t,67108864),Ac(t,67108864)}}function Um(t){if(t.tag===13||t.tag===31){var i=Qt();i=_r(i);var s=Vi(t,i);s!==null&&qt(s,t,i),Ac(t,i)}}var Sa=!0;function tE(t,i,s,r){var h=L.T;L.T=null;var g=X.p;try{X.p=2,bc(t,i,s,r)}finally{X.p=g,L.T=h}}function nE(t,i,s,r){var h=L.T;L.T=null;var g=X.p;try{X.p=8,bc(t,i,s,r)}finally{X.p=g,L.T=h}}function bc(t,i,s,r){if(Sa){var h=Rc(r);if(h===null)dc(t,i,r,_a,s),zm(t,r);else if(oE(h,t,i,s,r))r.stopPropagation();else if(zm(t,r),i&4&&-1<iE.indexOf(t)){for(;h!==null;){var g=lo(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Li(g.pendingLanes);if(E!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var w=1<<31-Bt(E);C.entanglements[1]|=w,E&=~w}wn(g),(Ye&6)===0&&(na=Je()+500,Vl(0))}}break;case 31:case 13:C=Vi(g,2),C!==null&&qt(C,g,2),oa(),Ac(g,2)}if(g=Rc(r),g===null&&dc(t,i,r,_a,s),g===h)break;h=g}h!==null&&r.stopPropagation()}else dc(t,i,r,null,s)}}function Rc(t){return t=Mr(t),Nc(t)}var _a=null;function Nc(t){if(_a=null,t=oo(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=p(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return _a=t,null}function Lm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case at:return 2;case _t:return 8;case Ut:case il:return 32;case ol:return 268435456;default:return 32}default:return 32}}var Mc=!1,xi=null,Ci=null,Ai=null,Kl=new Map,Xl=new Map,bi=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zm(t,i){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function $l(t,i,s,r,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:g,targetContainers:[h]},i!==null&&(i=lo(i),i!==null&&km(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function oE(t,i,s,r,h){switch(i){case"focusin":return xi=$l(xi,t,i,s,r,h),!0;case"dragenter":return Ci=$l(Ci,t,i,s,r,h),!0;case"mouseover":return Ai=$l(Ai,t,i,s,r,h),!0;case"pointerover":var g=h.pointerId;return Kl.set(g,$l(Kl.get(g)||null,t,i,s,r,h)),!0;case"gotpointercapture":return g=h.pointerId,Xl.set(g,$l(Xl.get(g)||null,t,i,s,r,h)),!0}return!1}function Hm(t){var i=oo(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Zf(t.priority,function(){Um(s)});return}}else if(i===31){if(i=p(s),i!==null){t.blockedOn=i,Zf(t.priority,function(){Um(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ea(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Rc(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Nr=r,s.target.dispatchEvent(r),Nr=null}else return i=lo(s),i!==null&&km(i),t.blockedOn=s,!1;i.shift()}return!0}function Gm(t,i,s){Ea(t)&&s.delete(i)}function lE(){Mc=!1,xi!==null&&Ea(xi)&&(xi=null),Ci!==null&&Ea(Ci)&&(Ci=null),Ai!==null&&Ea(Ai)&&(Ai=null),Kl.forEach(Gm),Xl.forEach(Gm)}function Ta(t,i){t.blockedOn===i&&(t.blockedOn=null,Mc||(Mc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lE)))}var xa=null;function Pm(t){xa!==t&&(xa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xa===t&&(xa=null);for(var i=0;i<t.length;i+=3){var s=t[i],r=t[i+1],h=t[i+2];if(typeof r!="function"){if(Nc(r||s)===null)continue;break}var g=lo(s);g!==null&&(t.splice(i,3),i-=3,Ru(g,{pending:!0,data:h,method:s.method,action:r},r,h))}}))}function qo(t){function i(w){return Ta(w,t)}xi!==null&&Ta(xi,t),Ci!==null&&Ta(Ci,t),Ai!==null&&Ta(Ai,t),Kl.forEach(i),Xl.forEach(i);for(var s=0;s<bi.length;s++){var r=bi[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<bi.length&&(s=bi[0],s.blockedOn===null);)Hm(s),s.blockedOn===null&&bi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var h=s[r],g=s[r+1],E=h[Lt]||null;if(typeof g=="function")E||Pm(s);else if(E){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[Lt]||null)C=E.formAction;else if(Nc(h)!==null)continue}else C=E.action;typeof C=="function"?s[r+1]=C:(s.splice(r,3),r-=3),Pm(s)}}}function Vm(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function wc(t){this._internalRoot=t}Ca.prototype.render=wc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,r=Qt();Dm(s,r,t,i,null,null)},Ca.prototype.unmount=wc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dm(t.current,2,null,t,null,null),oa(),i[io]=null}};function Ca(t){this._internalRoot=t}Ca.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qf();t={blockedOn:null,target:t,priority:i};for(var s=0;s<bi.length&&i!==0&&i<bi[s].priority;s++);bi.splice(s,0,t),s===0&&Hm(t)}};var qm=e.version;if(qm!=="19.2.3")throw Error(l(527,qm,"19.2.3"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var sE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{vn=Aa.inject(sE),Rt=Aa}catch{}}return Zl.createRoot=function(t,i){if(!a(t))throw Error(l(299));var s=!1,r="",h=Xh,g=$h,E=Qh;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Mm(t,1,!1,null,null,s,r,null,h,g,E,Vm),t[io]=i.current,fc(t),new wc(i)},Zl.hydrateRoot=function(t,i,s){if(!a(t))throw Error(l(299));var r=!1,h="",g=Xh,E=$h,C=Qh,w=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),i=Mm(t,1,!0,i,s??null,r,h,w,g,E,C,Vm),i.context=wm(null),s=i.current,r=Qt(),r=_r(r),h=fi(r),h.callback=null,di(s,h,r),s=r,i.current.lanes=s,sl(i,s),wn(i),t[io]=i.current,fc(t),new Ca(i)},Zl.version="19.2.3",Zl}var Zm;function yE(){if(Zm)return kc.exports;Zm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kc.exports=gE(),kc.exports}var vE=yE(),Va={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var SE=Va.exports,Wm;function _E(){return Wm||(Wm=1,(function(n,e){((o,l)=>{n.exports=l()})(SE,function o(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},a,u=!l.document&&!!l.postMessage,f=l.IS_PAPA_WORKER||!1,p={},y=0,m={};function v(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var I=Z(A);I.chunkSize=parseInt(I.chunkSize),A.step||A.chunk||(I.chunkSize=null),this._handle=new D(I),(this._handle.streamer=this)._config=I}).call(this,R),this.parseChunk=function(A,I){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let ne=this._config.newline;ne||(j=this._config.quoteChar||'"',ne=this._handle.guessLineEndings(A,j)),A=[...A.split(ne).slice(P)].join(ne)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(A))!==void 0&&(A=j),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+A,j=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=j.meta.cursor,P=(this._finished||(this._partialLine=P.substring(A-this._baseIndex),this._baseIndex=A),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)l.postMessage({results:j,workerId:m.WORKER_ID,finished:P});else if(V(this._config.chunk)&&!I){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!P||!V(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(A){V(this._config.error)?this._config.error(A):f&&this._config.error&&l.postMessage({workerId:m.WORKER_ID,error:A,finished:!1})}}function S(R){var A;(R=R||{}).chunkSize||(R.chunkSize=m.RemoteChunkSize),v.call(this,R),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),u||(A.onload=F(this._chunkLoaded,this),A.onerror=F(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var I,P=this._config.downloadRequestHeaders;for(I in P)A.setRequestHeader(I,P[I])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+j));try{A.send(this._config.downloadRequestBody)}catch(ne){this._chunkError(ne.message)}u&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(I){I=A.statusText||I,this._sendError(new Error(I))}}function _(R){(R=R||{}).chunkSize||(R.chunkSize=m.LocalChunkSize),v.call(this,R);var A,I,P=typeof FileReader<"u";this.stream=function(j){this._input=j,I=j.slice||j.webkitSlice||j.mozSlice,P?((A=new FileReader).onload=F(this._chunkLoaded,this),A.onerror=F(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,ne=(this._config.chunkSize&&(ne=Math.min(this._start+this._config.chunkSize,this._input.size),j=I.call(j,this._start,ne)),A.readAsText(j,this._config.encoding));P||this._chunkLoaded({target:{result:ne}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(A.error)}}function x(R){var A;v.call(this,R=R||{}),this.stream=function(I){return A=I,this._nextChunk()},this._nextChunk=function(){var I,P;if(!this._finished)return I=this._config.chunkSize,A=I?(P=A.substring(0,I),A.substring(I)):(P=A,""),this._finished=!A,this.parseChunk(P)}}function b(R){v.call(this,R=R||{});var A=[],I=!0,P=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):I=!0},this._streamData=F(function(j){try{A.push(typeof j=="string"?j:j.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(ne){this._streamError(ne)}},this),this._streamError=F(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=F(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function D(R){var A,I,P,j,ne=Math.pow(2,53),oe=-ne,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,re=0,ue=0,_e=!1,N=!1,q=[],Y={data:[],errors:[],meta:{}};function H(he){return R.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function te(){if(Y&&P&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),P=!1),R.skipEmptyLines&&(Y.data=Y.data.filter(function(ve){return!H(ve)})),se()){let ve=function(Te,me){V(R.transformHeader)&&(Te=R.transformHeader(Te,me)),q.push(Te)};var ae=ve;if(Y)if(Array.isArray(Y.data[0])){for(var he=0;se()&&he<Y.data.length;he++)Y.data[he].forEach(ve);Y.data.splice(0,1)}else Y.data.forEach(ve)}function pe(ve,Te){for(var me=R.header?{}:[],fe=0;fe<ve.length;fe++){var Ee=fe,Fe=ve[fe],Fe=((De,Pe)=>(et=>(R.dynamicTypingFunction&&R.dynamicTyping[et]===void 0&&(R.dynamicTyping[et]=R.dynamicTypingFunction(et)),(R.dynamicTyping[et]||R.dynamicTyping)===!0))(De)?Pe==="true"||Pe==="TRUE"||Pe!=="false"&&Pe!=="FALSE"&&((et=>{if(K.test(et)&&(et=parseFloat(et),oe<et&&et<ne))return 1})(Pe)?parseFloat(Pe):L.test(Pe)?new Date(Pe):Pe===""?null:Pe):Pe)(Ee=R.header?fe>=q.length?"__parsed_extra":q[fe]:Ee,Fe=R.transform?R.transform(Fe,Ee):Fe);Ee==="__parsed_extra"?(me[Ee]=me[Ee]||[],me[Ee].push(Fe)):me[Ee]=Fe}return R.header&&(fe>q.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+fe,ue+Te):fe<q.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+fe,ue+Te)),me}var be;Y&&(R.header||R.dynamicTyping||R.transform)&&(be=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(pe),be=Y.data.length):Y.data=pe(Y.data,0),R.header&&Y.meta&&(Y.meta.fields=q),ue+=be)}function se(){return R.header&&q.length===0}function de(he,pe,be,ae){he={type:he,code:pe,message:be},ae!==void 0&&(he.row=ae),Y.errors.push(he)}V(R.step)&&(j=R.step,R.step=function(he){Y=he,se()?te():(te(),Y.data.length!==0&&(re+=he.data.length,R.preview&&re>R.preview?I.abort():(Y.data=Y.data[0],j(Y,X))))}),this.parse=function(he,pe,be){var ae=R.quoteChar||'"',ae=(R.newline||(R.newline=this.guessLineEndings(he,ae)),P=!1,R.delimiter?V(R.delimiter)&&(R.delimiter=R.delimiter(he),Y.meta.delimiter=R.delimiter):((ae=((ve,Te,me,fe,Ee)=>{var Fe,De,Pe,et;Ee=Ee||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var bn=0;bn<Ee.length;bn++){for(var jt,Ui=Ee[bn],Je=0,en=0,at=0,_t=(Pe=void 0,new k({comments:fe,delimiter:Ui,newline:Te,preview:10}).parse(ve)),Ut=0;Ut<_t.data.length;Ut++)me&&H(_t.data[Ut])?at++:(jt=_t.data[Ut].length,en+=jt,Pe===void 0?Pe=jt:0<jt&&(Je+=Math.abs(jt-Pe),Pe=jt));0<_t.data.length&&(en/=_t.data.length-at),(De===void 0||Je<=De)&&(et===void 0||et<en)&&1.99<en&&(De=Je,Fe=Ui,et=en)}return{successful:!!(R.delimiter=Fe),bestDelimiter:Fe}})(he,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess)).successful?R.delimiter=ae.bestDelimiter:(P=!0,R.delimiter=m.DefaultDelimiter),Y.meta.delimiter=R.delimiter),Z(R));return R.preview&&R.header&&ae.preview++,A=he,I=new k(ae),Y=I.parse(A,pe,be),te(),_e?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return _e},this.pause=function(){_e=!0,I.abort(),A=V(R.chunk)?"":A.substring(I.getCharIndex())},this.resume=function(){X.streamer._halted?(_e=!1,X.streamer.parseChunk(A,!0)):setTimeout(X.resume,3)},this.aborted=function(){return N},this.abort=function(){N=!0,I.abort(),Y.meta.aborted=!0,V(R.complete)&&R.complete(Y),A=""},this.guessLineEndings=function(ve,ae){ve=ve.substring(0,1048576);var ae=new RegExp(M(ae)+"([^]*?)"+M(ae),"gm"),be=(ve=ve.replace(ae,"")).split("\r"),ae=ve.split(`
`),ve=1<ae.length&&ae[0].length<be[0].length;if(be.length===1||ve)return`
`;for(var Te=0,me=0;me<be.length;me++)be[me][0]===`
`&&Te++;return Te>=be.length/2?`\r
`:"\r"}}function M(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(R){var A=(R=R||{}).delimiter,I=R.newline,P=R.comments,j=R.step,ne=R.preview,oe=R.fastMode,K=null,L=!1,X=R.quoteChar==null?'"':R.quoteChar,re=X;if(R.escapeChar!==void 0&&(re=R.escapeChar),(typeof A!="string"||-1<m.BAD_DELIMITERS.indexOf(A))&&(A=","),P===A)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<m.BAD_DELIMITERS.indexOf(P))&&(P=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var ue=0,_e=!1;this.parse=function(N,q,Y){if(typeof N!="string")throw new Error("Input must be a string");var H=N.length,te=A.length,se=I.length,de=P.length,he=V(j),pe=[],be=[],ae=[],ve=ue=0;if(!N)return Je();if(oe||oe!==!1&&N.indexOf(X)===-1){for(var Te=N.split(I),me=0;me<Te.length;me++){if(ae=Te[me],ue+=ae.length,me!==Te.length-1)ue+=I.length;else if(Y)return Je();if(!P||ae.substring(0,de)!==P){if(he){if(pe=[],et(ae.split(A)),en(),_e)return Je()}else et(ae.split(A));if(ne&&ne<=me)return pe=pe.slice(0,ne),Je(!0)}}return Je()}for(var fe=N.indexOf(A,ue),Ee=N.indexOf(I,ue),Fe=new RegExp(M(re)+M(X),"g"),De=N.indexOf(X,ue);;)if(N[ue]===X)for(De=ue,ue++;;){if((De=N.indexOf(X,De+1))===-1)return Y||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:ue}),jt();if(De===H-1)return jt(N.substring(ue,De).replace(Fe,X));if(X===re&&N[De+1]===re)De++;else if(X===re||De===0||N[De-1]!==re){fe!==-1&&fe<De+1&&(fe=N.indexOf(A,De+1));var Pe=bn((Ee=Ee!==-1&&Ee<De+1?N.indexOf(I,De+1):Ee)===-1?fe:Math.min(fe,Ee));if(N.substr(De+1+Pe,te)===A){ae.push(N.substring(ue,De).replace(Fe,X)),N[ue=De+1+Pe+te]!==X&&(De=N.indexOf(X,ue)),fe=N.indexOf(A,ue),Ee=N.indexOf(I,ue);break}if(Pe=bn(Ee),N.substring(De+1+Pe,De+1+Pe+se)===I){if(ae.push(N.substring(ue,De).replace(Fe,X)),Ui(De+1+Pe+se),fe=N.indexOf(A,ue),De=N.indexOf(X,ue),he&&(en(),_e))return Je();if(ne&&pe.length>=ne)return Je(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:ue}),De++}}else if(P&&ae.length===0&&N.substring(ue,ue+de)===P){if(Ee===-1)return Je();ue=Ee+se,Ee=N.indexOf(I,ue),fe=N.indexOf(A,ue)}else if(fe!==-1&&(fe<Ee||Ee===-1))ae.push(N.substring(ue,fe)),ue=fe+te,fe=N.indexOf(A,ue);else{if(Ee===-1)break;if(ae.push(N.substring(ue,Ee)),Ui(Ee+se),he&&(en(),_e))return Je();if(ne&&pe.length>=ne)return Je(!0)}return jt();function et(at){pe.push(at),ve=ue}function bn(at){var _t=0;return _t=at!==-1&&(at=N.substring(De+1,at))&&at.trim()===""?at.length:_t}function jt(at){return Y||(at===void 0&&(at=N.substring(ue)),ae.push(at),ue=H,et(ae),he&&en()),Je()}function Ui(at){ue=at,et(ae),ae=[],Ee=N.indexOf(I,ue)}function Je(at){if(R.header&&!q&&pe.length&&!L){var _t=pe[0],Ut=Object.create(null),il=new Set(_t);let ol=!1;for(let ni=0;ni<_t.length;ni++){let tn=_t[ni];if(Ut[tn=V(R.transformHeader)?R.transformHeader(tn,ni):tn]){let vn,Rt=Ut[tn];for(;vn=tn+"_"+Rt,Rt++,il.has(vn););il.add(vn),_t[ni]=vn,Ut[tn]++,ol=!0,(K=K===null?{}:K)[vn]=tn}else Ut[tn]=1,_t[ni]=tn;il.add(tn)}ol&&console.warn("Duplicate headers found and renamed."),L=!0}return{data:pe,errors:be,meta:{delimiter:A,linebreak:I,aborted:_e,truncated:!!at,cursor:ve+(q||0),renamedHeaders:K}}}function en(){j(Je()),pe=[],be=[]}},this.abort=function(){_e=!0},this.getCharIndex=function(){return ue}}function $(R){var A=R.data,I=p[A.workerId],P=!1;if(A.error)I.userError(A.error,A.file);else if(A.results&&A.results.data){var j={abort:function(){P=!0,z(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(V(I.userStep)){for(var ne=0;ne<A.results.data.length&&(I.userStep({data:A.results.data[ne],errors:A.results.errors,meta:A.results.meta},j),!P);ne++);delete A.results}else V(I.userChunk)&&(I.userChunk(A.results,j,A.file),delete A.results)}A.finished&&!P&&z(A.workerId,A.results)}function z(R,A){var I=p[R];V(I.userComplete)&&I.userComplete(A),I.terminate(),delete p[R]}function O(){throw new Error("Not implemented.")}function Z(R){if(typeof R!="object"||R===null)return R;var A,I=Array.isArray(R)?[]:{};for(A in R)I[A]=Z(R[A]);return I}function F(R,A){return function(){R.apply(A,arguments)}}function V(R){return typeof R=="function"}return m.parse=function(R,A){var I=(A=A||{}).dynamicTyping||!1;if(V(I)&&(A.dynamicTypingFunction=I,I={}),A.dynamicTyping=I,A.transform=!!V(A.transform)&&A.transform,!A.worker||!m.WORKERS_SUPPORTED)return I=null,m.NODE_STREAM_INPUT,typeof R=="string"?(R=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(R),I=new(A.download?S:x)(A)):R.readable===!0&&V(R.read)&&V(R.on)?I=new b(A):(l.File&&R instanceof File||R instanceof Object)&&(I=new _(A)),I.stream(R);(I=(()=>{var P;return!!m.WORKERS_SUPPORTED&&(P=(()=>{var j=l.URL||l.webkitURL||null,ne=o.toString();return m.BLOB_URL||(m.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))})(),(P=new l.Worker(P)).onmessage=$,P.id=y++,p[P.id]=P)})()).userStep=A.step,I.userChunk=A.chunk,I.userComplete=A.complete,I.userError=A.error,A.step=V(A.step),A.chunk=V(A.chunk),A.complete=V(A.complete),A.error=V(A.error),delete A.worker,I.postMessage({input:R,config:A,workerId:I.id})},m.unparse=function(R,A){var I=!1,P=!0,j=",",ne=`\r
`,oe='"',K=oe+oe,L=!1,X=null,re=!1,ue=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||m.BAD_DELIMITERS.filter(function(q){return A.delimiter.indexOf(q)!==-1}).length||(j=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(I=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(L=A.skipEmptyLines),typeof A.newline=="string"&&(ne=A.newline),typeof A.quoteChar=="string"&&(oe=A.quoteChar),typeof A.header=="boolean"&&(P=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");X=A.columns}A.escapeChar!==void 0&&(K=A.escapeChar+oe),A.escapeFormulae instanceof RegExp?re=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(M(oe),"g"));if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return _e(null,R,L);if(typeof R[0]=="object")return _e(X||Object.keys(R[0]),R,L)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||X),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),_e(R.fields||[],R.data||[],L);throw new Error("Unable to serialize unrecognized input");function _e(q,Y,H){var te="",se=(typeof q=="string"&&(q=JSON.parse(q)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(q)&&0<q.length),de=!Array.isArray(Y[0]);if(se&&P){for(var he=0;he<q.length;he++)0<he&&(te+=j),te+=N(q[he],he);0<Y.length&&(te+=ne)}for(var pe=0;pe<Y.length;pe++){var be=(se?q:Y[pe]).length,ae=!1,ve=se?Object.keys(Y[pe]).length===0:Y[pe].length===0;if(H&&!se&&(ae=H==="greedy"?Y[pe].join("").trim()==="":Y[pe].length===1&&Y[pe][0].length===0),H==="greedy"&&se){for(var Te=[],me=0;me<be;me++){var fe=de?q[me]:me;Te.push(Y[pe][fe])}ae=Te.join("").trim()===""}if(!ae){for(var Ee=0;Ee<be;Ee++){0<Ee&&!ve&&(te+=j);var Fe=se&&de?q[Ee]:Ee;te+=N(Y[pe][Fe],Ee)}pe<Y.length-1&&(!H||0<be&&!ve)&&(te+=ne)}}return te}function N(q,Y){var H,te;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(te=!1,re&&typeof q=="string"&&re.test(q)&&(q="'"+q,te=!0),H=q.toString().replace(ue,K),(te=te||I===!0||typeof I=="function"&&I(q,Y)||Array.isArray(I)&&I[Y]||((se,de)=>{for(var he=0;he<de.length;he++)if(-1<se.indexOf(de[he]))return!0;return!1})(H,m.BAD_DELIMITERS)||-1<H.indexOf(j)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?oe+H+oe:H)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!u&&!!l.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=k,m.ParserHandle=D,m.NetworkStreamer=S,m.FileStreamer=_,m.StringStreamer=x,m.ReadableStreamStreamer=b,l.jQuery&&((a=l.jQuery).fn.parse=function(R){var A=R.config||{},I=[];return this.each(function(ne){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var oe=0;oe<this.files.length;oe++)I.push({file:this.files[oe],inputElem:this,instanceConfig:a.extend({},A)})}),P(),this;function P(){if(I.length===0)V(R.complete)&&R.complete();else{var ne,oe,K,L,X=I[0];if(V(R.before)){var re=R.before(X.file,X.inputElem);if(typeof re=="object"){if(re.action==="abort")return ne="AbortError",oe=X.file,K=X.inputElem,L=re.reason,void(V(R.error)&&R.error({name:ne},oe,K,L));if(re.action==="skip")return void j();typeof re.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,re.config))}else if(re==="skip")return void j()}var ue=X.instanceConfig.complete;X.instanceConfig.complete=function(_e){V(ue)&&ue(_e,X.file,X.inputElem),j()},m.parse(X.file,X.instanceConfig)}}function j(){I.splice(0,1),P()}}),f&&(l.onmessage=function(R){R=R.data,m.WORKER_ID===void 0&&R&&(m.WORKER_ID=R.workerId),typeof R.input=="string"?l.postMessage({workerId:m.WORKER_ID,results:m.parse(R.input,R.config),finished:!0}):(l.File&&R.input instanceof File||R.input instanceof Object)&&(R=m.parse(R.input,R.config))&&l.postMessage({workerId:m.WORKER_ID,results:R,finished:!0})}),(S.prototype=Object.create(v.prototype)).constructor=S,(_.prototype=Object.create(v.prototype)).constructor=_,(x.prototype=Object.create(x.prototype)).constructor=x,(b.prototype=Object.create(v.prototype)).constructor=b,m})})(Va)),Va.exports}var EE=_E();const yy=gy(EE),vy="voyager_trips",Sy="voyager_settings",us=()=>{const n=localStorage.getItem(vy);return n?JSON.parse(n):[]},ur=n=>{localStorage.setItem(vy,JSON.stringify(n))},TE=n=>{const e=us();Array.isArray(n)?e.unshift(...n):e.unshift(n),ur(e)},jm=n=>{const e=us(),o=e.findIndex(l=>l.id===n.id);o!==-1&&(e[o]=n,ur(e))},Hc=n=>{const e=us().filter(o=>o.id!==n);ur(e)},_y=()=>{const n=localStorage.getItem(Sy);return n?JSON.parse(n):{}},ba=n=>{localStorage.setItem(Sy,JSON.stringify(n))},xE=()=>{const e=us().map(o=>({id:o.id,mode:o.mode,origin_name:o.origin.name,origin_code:o.origin.code,origin_lat:o.origin.coords.lat,origin_lng:o.origin.coords.lng,origin_city:o.origin.city,origin_state:o.origin.state,origin_country:o.origin.country,destination_name:o.destination.name,destination_code:o.destination.code,destination_lat:o.destination.coords.lat,destination_lng:o.destination.coords.lng,destination_city:o.destination.city,destination_state:o.destination.state,destination_country:o.destination.country,startDate:o.startDate,arrivalDate:o.arrivalDate,returnStartDate:o.returnStartDate,returnArrivalDate:o.returnArrivalDate,endDate:o.endDate,isRoundTrip:o.isRoundTrip,distanceKm:o.distanceKm,durationHours:o.durationHours,relatedDate:o.relatedDate,status:o.status||"ARRIVED"}));return yy.unparse(e)},CE=n=>yy.parse(n,{header:!0}).data.filter(l=>l.id&&l.mode).map(l=>({id:l.id,mode:l.mode,origin:{name:l.origin_name,code:l.origin_code,coords:{lat:parseFloat(l.origin_lat),lng:parseFloat(l.origin_lng)},city:l.origin_city,state:l.origin_state,country:l.origin_country},destination:{name:l.destination_name,code:l.destination_code,coords:{lat:parseFloat(l.destination_lat),lng:parseFloat(l.destination_lng)},city:l.destination_city,state:l.destination_state,country:l.destination_country},startDate:l.startDate,arrivalDate:l.arrivalDate||void 0,returnStartDate:l.returnStartDate||void 0,returnArrivalDate:l.returnArrivalDate||void 0,endDate:l.endDate||void 0,isRoundTrip:l.isRoundTrip==="true"||l.isRoundTrip===!0,distanceKm:parseInt(l.distanceKm),durationHours:parseFloat(l.durationHours),relatedDate:l.relatedDate||void 0,status:l.status||"ARRIVED"}));var Mt=(n=>(n.WALK="WALK",n.CYCLE="CYCLE",n.CAR="CAR",n.TRAIN="TRAIN",n.PLANE="PLANE",n.BOAT="BOAT",n))(Mt||{});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),e0=n=>{const e=bE(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ey=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),RE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ce.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:a="",children:u,iconNode:f,...p},y)=>ce.createElement("svg",{ref:y,...NE,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:Ey("lucide",a),...!u&&!RE(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,v])=>ce.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(n,e)=>{const o=ce.forwardRef(({className:l,...a},u)=>ce.createElement(ME,{ref:u,iconNode:e,className:Ey(`lucide-${AE(e0(n))}`,`lucide-${n}`,l),...a}));return o.displayName=e0(n),o};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],DE=we("arrow-left-right",wE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ty=we("arrow-right",IE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],UE=we("bike",kE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Mf=we("building-2",LE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jc=we("calendar",zE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],GE=we("car",HE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],VE=we("chart-pie",PE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kc=we("chevron-down",qE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BE=we("chevron-right",OE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YE=we("chevron-left",FE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],KE=we("circle-alert",JE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$E=we("circle-check-big",XE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ZE=we("cloud",QE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jE=we("credit-card",WE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tT=we("download",eT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],iT=we("ellipsis",nT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],xy=we("footprints",oT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wf=we("globe",lT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],aT=we("laptop",sT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],uT=we("layers",rT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fT=we("layout-dashboard",cT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],hT=we("list",dT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cy=we("loader-circle",pT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ay=we("map-pin",mT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ss=we("map",gT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vT=we("moon",yT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],_T=we("navigation",ST);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],TT=we("pencil",ET);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],CT=we("plane",xT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bT=we("plus",AT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ja=we("search",RT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MT=we("settings",NT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DT=we("share-2",wT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],kT=we("ship",IT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],LT=we("sparkles",UT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],t0=we("sun",zT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],GT=we("tram-front",HT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VT=we("trash-2",PT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],OT=we("upload",qT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FT=we("user",BT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],by=we("x",YT),cr={[Mt.WALK]:{icon:xy,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-100 dark:bg-emerald-500/20"},[Mt.CYCLE]:{icon:UE,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-100 dark:bg-orange-500/20"},[Mt.CAR]:{icon:GE,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100 dark:bg-blue-500/20"},[Mt.TRAIN]:{icon:GT,color:"text-purple-600 dark:text-purple-400",bg:"bg-purple-100 dark:bg-purple-500/20"},[Mt.PLANE]:{icon:CT,color:"text-sky-600 dark:text-sky-400",bg:"bg-sky-100 dark:bg-sky-500/20"},[Mt.BOAT]:{icon:kT,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-100 dark:bg-indigo-500/20"}},JT={"New York":{name:"New York",name_zh:"",name_pinyin:"NIU YUE",code:"JFK",coords:{lat:40.7128,lng:-74.006},country:"United States"},London:{name:"London",name_zh:"",name_pinyin:"LUN DUN",code:"LHR",coords:{lat:51.5074,lng:-.1278},country:"United Kingdom"},Tokyo:{name:"Tokyo",name_zh:"",name_pinyin:"DONG JING",code:"HND",coords:{lat:35.6762,lng:139.6503},country:"Japan"},Paris:{name:"Paris",name_zh:"",name_pinyin:"BA LI",code:"CDG",coords:{lat:48.8566,lng:2.3522},country:"France"},Singapore:{name:"Singapore",name_zh:"",name_pinyin:"XIN JIA PO",code:"SIN",coords:{lat:1.3521,lng:103.8198},country:"Singapore"},Sydney:{name:"Sydney",name_zh:"",name_pinyin:"XI NI",code:"SYD",coords:{lat:-33.8688,lng:151.2093},country:"Australia"},Dubai:{name:"Dubai",name_zh:"",name_pinyin:"DI BAI",code:"DXB",coords:{lat:25.2048,lng:55.2708},country:"United Arab Emirates"},"Los Angeles":{name:"Los Angeles",name_zh:"",name_pinyin:"LUO SHAN JI",code:"LAX",coords:{lat:34.0522,lng:-118.2437},country:"United States"},Shanghai:{name:"Shanghai",name_zh:"",name_pinyin:"SHANG HAI",code:"PVG",coords:{lat:31.2304,lng:121.4737},country:"China"},Beijing:{name:"Beijing",name_zh:"",name_pinyin:"BEI JING",code:"PEK",coords:{lat:39.9042,lng:116.4074},country:"China"},"Hong Kong":{name:"Hong Kong",name_zh:"",name_pinyin:"XIANG GANG",code:"HKG",coords:{lat:22.3193,lng:114.1694},country:"China"},Vancouver:{name:"Vancouver",name_zh:"",name_pinyin:"WEN GE HUA",code:"YVR",coords:{lat:49.2827,lng:-123.1207},country:"Canada"},Toronto:{name:"Toronto",name_zh:"",name_pinyin:"DUO LUN DUO",code:"YYZ",coords:{lat:43.6532,lng:-79.3832},country:"Canada"},Bangkok:{name:"Bangkok",name_zh:"",name_pinyin:"MAN GU",code:"BKK",coords:{lat:13.7563,lng:100.5018},country:"Thailand"},Seoul:{name:"Seoul",name_zh:"",name_pinyin:"SHOU ER",code:"ICN",coords:{lat:37.5665,lng:126.978},country:"South Korea"}},n0={:"China",China:"China","People's Republic of China":"China",PRC:"China",CN:"China",USA:"United States","United States":"United States","United States of America":"United States",US:"United States",:"United States",Japan:"Japan",:"Japan",JP:"Japan","United Kingdom":"United Kingdom",UK:"United Kingdom","Great Britain":"United Kingdom",:"United Kingdom",France:"France",:"France",Germany:"Germany",Deutschland:"Germany",:"Germany",Singapore:"Singapore",:"Singapore",Australia:"Australia",:"Australia",Canada:"Canada",:"Canada",Thailand:"Thailand",:"Thailand","South Korea":"South Korea",Korea:"South Korea",:"South Korea","United Arab Emirates":"United Arab Emirates",UAE:"United Arab Emirates",:"United Arab Emirates"},KT={China:"","United States":"",Japan:"","United Kingdom":"",France:"",Germany:"",Singapore:"",Australia:"",Canada:"",Thailand:"","South Korea":"","United Arab Emirates":""},XT=(n,e,o,l)=>{const u=Ra(o-n),f=Ra(l-e),p=Math.sin(u/2)*Math.sin(u/2)+Math.cos(Ra(n))*Math.cos(Ra(o))*Math.sin(f/2)*Math.sin(f/2),y=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return Math.round(6371*y)},Ra=n=>n*(Math.PI/180),Ii={en:{appTitle:"Voyager",layoutCards:"Cards",layoutList:"List",layoutCompact:"Board",layoutOverview:"Overview",descOverview:"Your personal travel dashboard and analytics.",descCards:"Immersive vertical stream of your journeys.",descList:"Clean, detailed timeline of events.",descCompact:"Airport-style flight information board.",descRoutes:"Interactive 3D globe of your flight paths.",descVisited:"Visual breakdown of your travel DNA.",searchPlaceholder:"Search places, years...",filterYear:"Year",filterCountry:"Country",filterProvince:"Province",filterCity:"City",filterAll:"All",statsDistance:"Distance",statsOrbits:"Orbits",statsShaBhy:"Shanghai  Beihai",statsEarthMoon:"Earth  Moon",statsMars:"To Mars",statsAndromeda:"Galactic Collision",statsHours:"Hours",statsTrips:"Trips",statsFootprints:"Footprints",statsCountries:"Countries",statsProvinces:"Provinces",statsCities:"Cities",comingSoon:"Coming Soon",list:"List",world:"World",viewRoutes:"Earth",viewVisited:"Footprints",allModes:"All Modes",allYears:"All Years",selectYears:"Select Years",year:"Year",noTrips:"The World is Your Canvas",startJourney:"Curate your footprints on this planet.",deleteConfirm:"Delete this trip?",displayingRoutes:"Displaying {count} routes",displayingPlaces:"Displaying {count} places visited",logJourney:"Log a Journey",editJourney:"Edit Journey",transportMode:"Transport Mode",fromPlaceholder:"From (e.g. New York)",toPlaceholder:"To (e.g. London)",roundTrip:"Round Trip",outbound:"Outbound",returnLeg:"Return",returnDate:"Return Date",outboundDate:"Outbound Date",createTrip:"Create Trip",saveChanges:"Save Changes",departure:"Departure Date",arrival:"Arrival",returnDeparture:"Return Dep.",returnArrival:"Return Arr.",duration:"Duration",fillDatesError:"Please select valid dates.",tripStatus:"Status",statusPlan:"Plan",statusTraveling:"Traveling",statusArrived:"Arrived",origin:"Origin",dest:"Dest",date:"Date",type:"Type",return:"RETURN",oneWay:"ONE-WAY",approx:"approx",relatedReturnLabel:"Return Trip:",relatedOutboundLabel:"Outbound Trip:",edit:"Edit",share:"Share",delete:"Delete",WALK:"Walk",CYCLE:"Cycle",CAR:"Car",TRAIN:"Train",PLANE:"Flight",BOAT:"Ferry",settingsTitle:"Data & Settings",tabGeneral:"General",tabData:"Import / Export",tabWebDav:"WebDAV",language:"Language",theme:"Appearance",themeSystem:"System",themeLight:"Light",themeDark:"Dark",exportTitle:"Export Data",exportDesc:"Download all your trips as a CSV file. Useful for backups or migration.",downloadCsv:"Download CSV",importTitle:"Import Data",importDesc:"Paste CSV content below to import.",importBtn:"Import CSV",webDavDesc:"Configure a WebDAV server (like Nextcloud) to sync your CSV data remotely.",serverUrl:"Server URL",username:"Username",password:"Password",saveCreds:"Save Credentials",syncNow:"Sync Now",settingsSaved:"Settings saved.",csvExported:"CSV Exported successfully.",dataImported:"Data imported successfully.",syncSimulated:"Sync simulated (WebDAV library not included in this environment).",overwriteConfirm:"Found {count} trips. This will overwrite current data. Continue?",errorNoData:"No valid trips found.",errorPaste:"Please paste CSV data.",errorCreds:"Please configure WebDAV credentials.",pullToCreate:"Pull to create trip",releaseToCreate:"Release to create",searchFooterHint:"Pull down screen to create trip"},zh:{appTitle:"",layoutCards:"",layoutList:"",layoutCompact:"",layoutOverview:"",descOverview:"",descCards:"",descList:"",descCompact:"",descRoutes:" 3D ",descVisited:"",searchPlaceholder:"...",filterYear:"",filterCountry:"",filterProvince:"",filterCity:"",filterAll:"",statsDistance:"",statsOrbits:"",statsShaBhy:"-",statsEarthMoon:"",statsMars:"",statsAndromeda:"",statsHours:"",statsTrips:"",statsFootprints:"",statsCountries:"",statsProvinces:"",statsCities:"",comingSoon:"",list:"",world:"",viewRoutes:"",viewVisited:"",allModes:"",allYears:"",selectYears:"",year:"",noTrips:"",startJourney:"",deleteConfirm:"",displayingRoutes:" {count} ",displayingPlaces:" {count} ",logJourney:"",editJourney:"",transportMode:"",fromPlaceholder:" (: )",toPlaceholder:" (: )",roundTrip:"",outbound:"",returnLeg:"",returnDate:"",outboundDate:"",createTrip:"",saveChanges:"",departure:"",arrival:"",returnDeparture:"",returnArrival:"",duration:"",fillDatesError:"",tripStatus:"",statusPlan:"",statusTraveling:"",statusArrived:"",origin:"",dest:"",date:"",type:"",return:"",oneWay:"",approx:"",relatedReturnLabel:"",relatedOutboundLabel:"",edit:"",share:"",delete:"",WALK:"",CYCLE:"",CAR:"",TRAIN:"",PLANE:"",BOAT:"",settingsTitle:"",tabGeneral:"",tabData:"/",tabWebDav:"WebDAV",language:"",theme:"",themeSystem:"",themeLight:"",themeDark:"",exportTitle:"",exportDesc:" CSV ",downloadCsv:" CSV",importTitle:"",importDesc:" CSV ",importBtn:" CSV",webDavDesc:" WebDAV  ( Nextcloud) ",serverUrl:"",username:"",password:"",saveCreds:"",syncNow:"",settingsSaved:"",csvExported:"CSV ",dataImported:"",syncSimulated:" ( WebDAV )",overwriteConfirm:" {count} ",errorNoData:"",errorPaste:" CSV ",errorCreds:" WebDAV ",pullToCreate:"",releaseToCreate:"",searchFooterHint:""}},$T="https://nominatim.openstreetmap.org/search",QT="https://photon.komoot.io/api/",ZT=async(n,e)=>{if(!n||n.length<2)return[];try{const o=new AbortController,l=setTimeout(()=>o.abort(),3e3),a=new URLSearchParams({q:n,format:"jsonv2",addressdetails:"1",limit:"10","accept-language":e==="zh"?"zh-CN,zh;q=0.9,en;q=0.8":"en-US,en;q=0.9"}),u=await fetch(`${$T}?${a.toString()}`,{method:"GET",headers:{Accept:"application/json"},signal:o.signal});if(clearTimeout(l),u.ok){const f=await u.json();if(f&&f.length>0)return f}}catch{}try{const o=new URLSearchParams({q:n,limit:"10",lang:"en"}),l=await fetch(`${QT}?${o.toString()}`);if(!l.ok)return[];const a=await l.json();return a.features?a.features.map(u=>{const f=u.properties,p=[f.name,f.city,f.state,f.country].filter(Boolean),y=[...new Set(p)];return{place_id:f.osm_id||Math.random(),lat:u.geometry.coordinates[1].toString(),lon:u.geometry.coordinates[0].toString(),display_name:y.join(", "),address:{city:f.city||f.name,state:f.state,country:f.country,town:f.town,village:f.village,county:f.county}}}):[]}catch(o){return console.error("All geocoding providers failed",o),[]}},bt=[];for(let n=0;n<256;++n)bt.push((n+256).toString(16).slice(1));function WT(n,e=0){return(bt[n[e+0]]+bt[n[e+1]]+bt[n[e+2]]+bt[n[e+3]]+"-"+bt[n[e+4]]+bt[n[e+5]]+"-"+bt[n[e+6]]+bt[n[e+7]]+"-"+bt[n[e+8]]+bt[n[e+9]]+"-"+bt[n[e+10]]+bt[n[e+11]]+bt[n[e+12]]+bt[n[e+13]]+bt[n[e+14]]+bt[n[e+15]]).toLowerCase()}let Gc;const jT=new Uint8Array(16);function ex(){if(!Gc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gc=crypto.getRandomValues.bind(crypto)}return Gc(jT)}const tx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i0={randomUUID:tx};function nx(n,e,o){var a;n=n||{};const l=n.random??((a=n.rng)==null?void 0:a.call(n))??ex();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,WT(l)}function o0(n,e,o){return i0.randomUUID&&!n?i0.randomUUID():nx(n)}const l0=({value:n,onChange:e,onClose:o,lang:l,minDate:a})=>{const[u,f]=ce.useState(()=>{if(n){const[P,j,ne]=n.split("-").map(Number);return new Date(P,j-1,ne)}return new Date}),[p,y]=ce.useState("day"),[m,v]=ce.useState(!1),S=ce.useRef(null),_=["January","February","March","April","May","June","July","August","September","October","November","December"],x=["","","","","","","","","","","",""],b=["Su","Mo","Tu","We","Th","Fr","Sa"],D=["","","","","","",""],M=u.getFullYear(),k=u.getMonth(),$=(P,j)=>new Date(P,j+1,0).getDate(),z=(P,j)=>new Date(P,j,1).getDay(),O=()=>{v(!0),setTimeout(o,300)},Z=(P,j,ne)=>{if(!a)return!1;const oe=new Date(P,j,ne),[K,L,X]=a.split("-").map(Number),re=new Date(K,L-1,X);return oe.setHours(0,0,0,0),re.setHours(0,0,0,0),oe<re},F=P=>{const j=`${M}-${(k+1).toString().padStart(2,"0")}-${P.toString().padStart(2,"0")}`;e(j),O()};ce.useEffect(()=>{if(p==="year"&&S.current){const P=S.current.querySelector('[data-selected="true"]');P&&P.scrollIntoView({block:"center",behavior:"auto"})}},[p]);const V=()=>{const P=l==="zh"?x[k]:_[k];return T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p==="day"&&T.jsx("button",{onClick:()=>f(new Date(M,k-1,1)),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500",children:T.jsx(YE,{size:24})}),T.jsxs("div",{className:"flex-1 flex justify-center space-x-2",children:[T.jsxs("button",{onClick:()=>y("month"),className:`text-xl font-bold px-3 py-1 rounded-lg transition-colors flex items-center ${p==="month"?"bg-slate-100 dark:bg-slate-800 text-blue-600":"text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[P,p==="day"&&T.jsx(Kc,{size:16,className:"ml-1 opacity-50"})]}),T.jsxs("button",{onClick:()=>y("year"),className:`text-xl font-bold px-3 py-1 rounded-lg transition-colors flex items-center ${p==="year"?"bg-slate-100 dark:bg-slate-800 text-blue-600":"text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[M,p==="day"&&T.jsx(Kc,{size:16,className:"ml-1 opacity-50"})]})]}),p==="day"?T.jsx("button",{onClick:()=>f(new Date(M,k+1,1)),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500",children:T.jsx(BE,{size:24})}):T.jsx("div",{className:"w-10"})]})},R=()=>{const P=$(M,k),j=z(M,k),ne=l==="zh"?D:b,[oe,K,L]=n?n.split("-").map(Number):[0,0,0];return T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("div",{className:"grid grid-cols-7 mb-4",children:ne.map(X=>T.jsx("div",{className:"text-center text-xs font-bold text-slate-400 uppercase",children:X},X))}),T.jsxs("div",{className:"grid grid-cols-7 gap-y-4 gap-x-1",children:[Array.from({length:j}).map((X,re)=>T.jsx("div",{},`empty-${re}`)),Array.from({length:P}).map((X,re)=>{const ue=re+1,_e=Z(M,k,ue),N=n&&oe===M&&K-1===k&&L===ue,q=new Date().toDateString()===new Date(M,k,ue).toDateString();return T.jsx("button",{onClick:()=>!_e&&F(ue),disabled:_e,className:`
                            h-12 w-12 mx-auto rounded-full flex items-center justify-center text-lg font-medium transition-all
                            ${N?"bg-blue-600 text-white shadow-lg shadow-blue-500/40 scale-105":""}
                            ${!N&&!_e?"text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800":""}
                            ${_e?"text-slate-300 dark:text-slate-600 cursor-not-allowed":""}
                            ${!N&&q?"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/20":""}
                        `,children:ue},ue)})]})]})},A=()=>{const P=l==="zh"?x:_;return T.jsx("div",{className:"grid grid-cols-3 gap-4 animate-fade-in",children:P.map((j,ne)=>{const oe=ne===k;return T.jsx("button",{onClick:()=>{f(new Date(M,ne,1)),y("day")},className:`
                            p-4 rounded-2xl text-sm font-bold transition-all
                            ${oe?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}
                        `,children:j},j)})})},I=()=>{const ne=Array.from({length:41},(oe,K)=>1990+K);return T.jsx("div",{ref:S,className:"h-[300px] overflow-y-auto grid grid-cols-4 gap-4 animate-fade-in pr-2",children:ne.map(oe=>{const K=oe===M;return T.jsx("button",{"data-selected":K,onClick:()=>{f(new Date(oe,k,1)),y("month")},className:`
                            py-3 rounded-xl text-sm font-bold transition-all
                            ${K?"bg-blue-600 text-white shadow-md":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}
                        `,children:oe},oe)})})};return T.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[T.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${m?"opacity-0":"opacity-100"}`,onClick:O}),T.jsxs("div",{className:`
                relative w-full max-w-lg bg-white dark:bg-slate-900 rounded-t-[2rem] p-6 shadow-2xl 
                transform transition-transform duration-300 ease-out
                ${m?"translate-y-full":"translate-y-0"}
            `,children:[T.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-6"}),V(),T.jsxs("div",{className:"min-h-[320px]",children:[p==="day"&&R(),p==="month"&&A(),p==="year"&&I()]}),T.jsx("button",{onClick:O,className:"w-full mt-6 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white font-bold py-4 rounded-2xl active:scale-[0.98] transition-transform",children:l==="zh"?"":"Cancel"})]})]})},ix=({isOpen:n,onClose:e,onSave:o,lang:l,initialData:a})=>{if(!n)return null;const u=Ii[l],[f,p]=ce.useState(Mt.PLANE),[y,m]=ce.useState(""),[v,S]=ce.useState(null),[_,x]=ce.useState([]),[b,D]=ce.useState(!1),[M,k]=ce.useState(!1),[$,z]=ce.useState(""),[O,Z]=ce.useState(null),[F,V]=ce.useState([]),[R,A]=ce.useState(!1),[I,P]=ce.useState(!1),j=ce.useRef(null),ne=ce.useRef(null),oe=ce.useRef(null),[K,L]=ce.useState(""),[X,re]=ce.useState(""),[ue,_e]=ce.useState(!1),[N,q]=ce.useState(!1),[Y,H]=ce.useState(!1);ce.useEffect(()=>{const ae=ve=>{oe.current&&!oe.current.contains(ve.target)&&(k(!1),P(!1))};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const te=ae=>ae?ae.split("T")[0]:"",se=ae=>{if(!ae)return l==="zh"?"":"Select Date";const[ve,Te,me]=ae.split("-").map(Number),fe=new Date(ve,Te-1,me);return l==="zh"?`${ve} ${Te} ${me}`:fe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};ce.useEffect(()=>{a?(p(a.mode),m(l==="zh"&&a.origin.name_zh?a.origin.name_zh:a.origin.name),S(a.origin),z(l==="zh"&&a.destination.name_zh?a.destination.name_zh:a.destination.name),Z(a.destination),H(a.isRoundTrip),L(te(a.startDate)),re(te(a.relatedDate||a.returnStartDate))):(p(Mt.PLANE),m(""),S(null),z(""),Z(null),H(!1),L(""),re(""))},[a,n,l]);const de=(ae,ve)=>{const Te=ae.length>=1?Object.values(JT).filter(fe=>fe.name.toLowerCase().includes(ae.toLowerCase())||fe.name_zh&&fe.name_zh.includes(ae)||fe.code&&fe.code.toLowerCase().includes(ae.toLowerCase())).map(fe=>({place_id:Math.random(),lat:fe.coords.lat.toString(),lon:fe.coords.lng.toString(),display_name:l==="zh"&&fe.name_zh||fe.name,address:{city:fe.city||fe.name,state:fe.state,country:fe.country},isMock:!0,original:fe})):[];ve==="origin"?(m(ae),x(Te),D(!0),k(!0),j.current&&clearTimeout(j.current)):(z(ae),V(Te),A(!0),P(!0),ne.current&&clearTimeout(ne.current));const me=setTimeout(async()=>{if(!ae||ae.length<2){ve==="origin"?D(!1):A(!1);return}const fe=await ZT(ae,l),Ee=new Set(Te.map(Pe=>Pe.display_name)),Fe=fe.filter(Pe=>!Ee.has(Pe.display_name)),De=[...Te,...Fe];ve==="origin"?(x(De),D(!1)):(V(De),A(!1))},500);ve==="origin"?j.current=me:ne.current=me},he=(ae,ve)=>{let Te;if(ae.isMock)Te=ae.original;else{const me=ae.address||{},fe=me.suburb||me.district||me.town||me.village||me.city||ae.display_name.split(",")[0],Ee=me.city||me.town||me.municipality||me.village||me.county||fe,Fe=me.state||me.province||me.region||me.state_district;Te={name:fe,name_zh:fe,code:fe.substring(0,3).toUpperCase(),coords:{lat:parseFloat(ae.lat),lng:parseFloat(ae.lon)},country:me.country,state:Fe,city:Ee}}ve==="origin"?(S(Te),m(l==="zh"&&Te.name_zh?Te.name_zh:Te.name),k(!1)):(Z(Te),z(l==="zh"&&Te.name_zh?Te.name_zh:Te.name),P(!1))},pe=ae=>{if(ae.preventDefault(),!v||!O){alert("Please select a valid location from the list.");return}if(!K){alert(u.fillDatesError);return}if(Y&&!X){alert(u.fillDatesError);return}const ve=XT(v.coords.lat,v.coords.lng,O.coords.lat,O.coords.lng),Te=[],me=fe=>{const Ee=new Date,Fe=Ee.getFullYear(),De=String(Ee.getMonth()+1).padStart(2,"0"),Pe=String(Ee.getDate()).padStart(2,"0"),et=`${Fe}-${De}-${Pe}`;return fe===et?"TRAVELING":fe<et?"ARRIVED":"PLAN"};if(a){const fe=me(K),Ee={...a,mode:f,origin:v,destination:O,startDate:K,distanceKm:ve,relatedDate:Y?X:void 0,isRoundTrip:Y,status:fe};Te.push(Ee)}else{const fe=me(K),Ee={id:o0(),mode:f,origin:v,destination:O,startDate:K,isRoundTrip:Y,distanceKm:ve,relatedDate:Y?X:void 0,returnStartDate:Y?X:void 0,status:fe};if(Te.push(Ee),Y){const Fe=me(X),De={id:o0(),mode:f,origin:O,destination:v,startDate:X,isRoundTrip:Y,distanceKm:ve,relatedDate:K,returnStartDate:K,status:Fe};Te.push(De)}}o(Te),e()},be=({suggestions:ae,loading:ve,onSelect:Te})=>T.jsxs("div",{className:"absolute z-50 left-0 right-0 mt-1 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-2xl overflow-hidden max-h-60 overflow-y-auto",children:[ae.map((me,fe)=>T.jsxs("button",{type:"button",onClick:()=>Te(me),className:"w-full text-left px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700 border-b border-slate-100 dark:border-slate-700/50 last:border-0 transition-colors flex items-center group",children:[T.jsx("div",{className:`p-2 rounded-lg mr-3 ${me.isMock?"bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400":"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:T.jsx(Ay,{size:16})}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:me.display_name.split(",")[0]}),T.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[200px]",children:me.display_name})]}),me.isMock&&T.jsx("div",{className:"ml-auto text-[10px] font-bold text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded",children:"PRESET"})]},fe)),ve&&T.jsxs("div",{className:"p-3 flex items-center justify-center text-xs text-slate-400 border-t border-slate-50 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[T.jsx(Cy,{className:"animate-spin mr-2",size:14}),ae.length>0?"Loading more results...":"Searching online..."]}),!ve&&ae.length===0&&T.jsx("div",{className:"p-4 text-center text-xs text-slate-400",children:"No results found"})]});return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 dark:bg-black/80 backdrop-blur-sm p-4",children:T.jsxs("div",{ref:oe,className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 w-full max-w-lg rounded-3xl overflow-hidden shadow-2xl animate-slide-up transition-colors duration-300",children:[T.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[T.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a?u.editJourney:u.logJourney}),T.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:T.jsx(by,{size:20})})]}),T.jsxs("form",{onSubmit:pe,className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[T.jsx("div",{children:T.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.values(Mt).map(ae=>{const Te=cr[ae].icon,me=f===ae;return T.jsx("button",{type:"button",onClick:()=>p(ae),className:`flex flex-col items-center justify-center p-2 rounded-xl border transition-all ${me?"bg-blue-50 border-blue-500 text-blue-700 shadow-md dark:bg-blue-600/20 dark:border-blue-500 dark:text-white":"bg-slate-100 border-transparent text-slate-500 hover:bg-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-800"}`,children:T.jsx(Te,{size:20,className:me?"text-blue-500 dark:text-blue-400":"text-slate-400 dark:text-slate-500"})},ae)})})}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:u.transportMode}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("label",{htmlFor:"roundtrip",className:`text-xs font-bold uppercase tracking-wider transition-colors cursor-pointer ${Y?"text-blue-500":"text-slate-400"}`,onClick:()=>H(!Y),children:Y?u.roundTrip:u.oneWay}),T.jsx("button",{type:"button",onClick:()=>H(!Y),className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 ${Y?"bg-blue-500":"bg-slate-200 dark:bg-slate-700"}`,children:T.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform duration-300 ${Y?"translate-x-4":"translate-x-0"}`})})]})]}),T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsxs("div",{className:"flex-1 relative group",children:[T.jsx(Ja,{className:"absolute left-3 top-3 text-slate-400 dark:text-slate-500",size:16}),T.jsx("input",{type:"text",placeholder:u.fromPlaceholder,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white dark:focus:bg-slate-800 transition-all",value:y,onChange:ae=>de(ae.target.value,"origin"),onFocus:()=>{y.length>=1&&k(!0)}}),M&&T.jsx(be,{suggestions:_,loading:b,onSelect:ae=>he(ae,"origin")})]}),T.jsx("div",{className:"flex items-center justify-center pt-2",children:T.jsx(DE,{size:16,className:"text-slate-300 dark:text-slate-600"})}),T.jsxs("div",{className:"flex-1 relative group",children:[T.jsx(Ja,{className:"absolute left-3 top-3 text-slate-400 dark:text-slate-500",size:16}),T.jsx("input",{type:"text",placeholder:u.toPlaceholder,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-2.5 pl-10 pr-4 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white dark:focus:bg-slate-800 transition-all",value:$,onChange:ae=>de(ae.target.value,"dest"),onFocus:()=>{$.length>=1&&P(!0)}}),I&&T.jsx(be,{suggestions:F,loading:R,onSelect:ae=>he(ae,"dest")})]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1.5 block",children:u.departure}),T.jsxs("button",{type:"button",onClick:()=>_e(!0),className:"w-full flex items-center justify-between bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:[T.jsx("span",{className:K?"font-medium":"text-slate-400",children:se(K)}),T.jsx(Jc,{size:16,className:"text-slate-400"})]})]}),T.jsxs("div",{className:`transition-opacity duration-300 ${Y?"opacity-100":"opacity-30 pointer-events-none"}`,children:[T.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1.5 block",children:u.returnDate}),T.jsxs("button",{type:"button",onClick:()=>q(!0),disabled:!Y,className:"w-full flex items-center justify-between bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:[T.jsx("span",{className:X?"font-medium":"text-slate-400",children:se(X)}),T.jsx(Jc,{size:16,className:"text-slate-400"})]})]})]}),T.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-[0.98] flex items-center justify-center",children:[a?u.saveChanges:u.createTrip,T.jsx(Ty,{size:20,className:"ml-2"})]})]})]})}),ue&&T.jsx(l0,{value:K,onChange:L,onClose:()=>_e(!1),lang:l}),N&&T.jsx(l0,{value:X,onChange:re,onClose:()=>q(!1),lang:l,minDate:K})]})},ox=({onDataChange:n,lang:e,onLanguageChange:o,onThemeChange:l,onUsernameChange:a})=>{const u=Ii[e],[f,p]=ce.useState({}),[y,m]=ce.useState("general"),[v,S]=ce.useState(""),[_,x]=ce.useState(null);ce.useEffect(()=>{p(_y())},[]);const b=()=>{ba(f),f.language&&f.language!==e&&o(f.language),f.username&&a(f.username),x({type:"success",text:u.settingsSaved})},D=Z=>{const F={...f,language:Z};p(F),ba(F),o(Z)},M=Z=>{const F={...f,theme:Z};p(F),ba(F),l(Z)},k=()=>{ba(f),f.username&&a(f.username)},$=()=>{const Z=xE(),F=new Blob([Z],{type:"text/csv"}),V=window.URL.createObjectURL(F),R=document.createElement("a");R.href=V,R.download=`voyager_backup_${new Date().toISOString().slice(0,10)}.csv`,R.click(),x({type:"success",text:u.csvExported})},z=()=>{try{if(!v)throw new Error(u.errorPaste);const Z=CE(v);if(Z.length===0)throw new Error(u.errorNoData);confirm(u.overwriteConfirm.replace("{count}",Z.length.toString()))&&(ur(Z),n(),x({type:"success",text:u.dataImported}))}catch(Z){x({type:"error",text:Z.message})}},O=async()=>{if(!f.webdavUrl||!f.webdavUser){x({type:"error",text:u.errorCreds});return}x({type:"success",text:u.syncSimulated})};return T.jsx("div",{className:"h-full w-full flex flex-col bg-white dark:bg-slate-900",children:T.jsxs("div",{className:"max-w-3xl mx-auto w-full flex-1 flex flex-col",children:[T.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:T.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.settingsTitle})}),T.jsxs("div",{className:"flex border-b border-slate-100 dark:border-slate-800 px-6",children:[T.jsx("button",{onClick:()=>m("general"),className:`px-6 py-4 text-sm font-medium transition-colors ${y==="general"?"text-blue-500 border-b-2 border-blue-500":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:u.tabGeneral}),T.jsx("button",{onClick:()=>m("csv"),className:`px-6 py-4 text-sm font-medium transition-colors ${y==="csv"?"text-blue-500 border-b-2 border-blue-500":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:u.tabData}),T.jsx("button",{onClick:()=>m("webdav"),className:`px-6 py-4 text-sm font-medium transition-colors ${y==="webdav"?"text-blue-500 border-b-2 border-blue-500":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:u.tabWebDav})]}),T.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[_&&T.jsxs("div",{className:`mb-4 p-4 rounded-xl flex items-center ${_.type==="success"?"bg-emerald-100 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/20":"bg-red-100 dark:bg-red-500/10 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-500/20"}`,children:[_.type==="success"?T.jsx($E,{size:18,className:"mr-2"}):T.jsx(KE,{size:18,className:"mr-2"}),_.text]}),y==="general"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-slate-900 dark:text-white font-semibold mb-4 flex items-center",children:[T.jsx(FT,{size:18,className:"mr-2"})," Username"]}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",value:f.username||"",onChange:Z=>p({...f,username:Z.target.value}),onBlur:k,placeholder:"Momo",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:outline-none"}),T.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Display name for your passport card."})]})]}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-slate-900 dark:text-white font-semibold mb-4 flex items-center",children:[T.jsx(t0,{size:18,className:"mr-2"})," ",u.theme]}),T.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{val:"light",label:u.themeLight,icon:t0},{val:"dark",label:u.themeDark,icon:vT},{val:"system",label:u.themeSystem,icon:aT}].map(Z=>{const F=(f.theme||"system")===Z.val,V=Z.icon;return T.jsxs("button",{onClick:()=>M(Z.val),className:`flex flex-col items-center justify-center p-4 rounded-xl border transition-all ${F?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-600/20 dark:border-blue-500 dark:text-white":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400 dark:hover:bg-slate-700"}`,children:[T.jsx(V,{size:20,className:"mb-2"}),T.jsx("span",{className:"text-xs font-medium",children:Z.label})]},Z.val)})})]}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-slate-900 dark:text-white font-semibold mb-4 flex items-center",children:[T.jsx(wf,{size:18,className:"mr-2"})," ",u.language]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("button",{onClick:()=>D("en"),className:`p-4 rounded-xl border text-center transition-all ${e==="en"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-600/20 dark:border-blue-500 dark:text-white":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400 dark:hover:bg-slate-700"}`,children:"English"}),T.jsx("button",{onClick:()=>D("zh"),className:`p-4 rounded-xl border text-center transition-all ${e==="zh"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-600/20 dark:border-blue-500 dark:text-white":"bg-white border-slate-200 text-slate-500 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400 dark:hover:bg-slate-700"}`,children:""})]})]})]}),y==="csv"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-slate-900 dark:text-white font-semibold mb-2 flex items-center",children:[T.jsx(tT,{size:18,className:"mr-2"})," ",u.exportTitle]}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:u.exportDesc}),T.jsx("button",{onClick:$,className:"bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm transition-colors",children:u.downloadCsv})]}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("h3",{className:"text-slate-900 dark:text-white font-semibold mb-2 flex items-center",children:[T.jsx(OT,{size:18,className:"mr-2"})," ",u.importTitle]}),T.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:u.importDesc}),T.jsx("textarea",{className:"w-full bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-xl p-3 text-xs font-mono text-slate-900 dark:text-slate-300 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none placeholder:text-slate-400 dark:placeholder:text-slate-600",rows:5,placeholder:"id,mode,origin_name...",value:v,onChange:Z=>S(Z.target.value)}),T.jsx("button",{onClick:z,className:"mt-4 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:u.importBtn})]})]}),y==="webdav"&&T.jsxs("div",{className:"space-y-4",children:[T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.webDavDesc}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:u.serverUrl}),T.jsx("input",{type:"text",value:f.webdavUrl||"",onChange:Z=>p({...f,webdavUrl:Z.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-lg p-2 text-slate-900 dark:text-white",placeholder:"https://cloud.example.com/remote.php/dav/files/user/"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:u.username}),T.jsx("input",{type:"text",value:f.webdavUser||"",onChange:Z=>p({...f,webdavUser:Z.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-lg p-2 text-slate-900 dark:text-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:u.password}),T.jsx("input",{type:"password",value:f.webdavPassword||"",onChange:Z=>p({...f,webdavPassword:Z.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-lg p-2 text-slate-900 dark:text-white"})]})]}),T.jsxs("div",{className:"flex space-x-3 mt-4",children:[T.jsx("button",{onClick:b,className:"bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-white px-4 py-2 rounded-lg text-sm",children:u.saveCreds}),T.jsxs("button",{onClick:O,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-sm flex items-center",children:[T.jsx(ZE,{size:16,className:"mr-2"})," ",u.syncNow]})]})]})]})]})})},lx=({trips:n,onFilterChange:e,lang:o,onToggle:l})=>{const a=Ii[o],[u,f]=ce.useState(!1),[p,y]=ce.useState(""),m=ce.useRef(null),[v,S]=ce.useState([]),[_,x]=ce.useState([]),[b,D]=ce.useState([]),[M,k]=ce.useState([]),$=ce.useMemo(()=>{const F=new Set,V=new Set,R=new Set,A=new Set;return n.forEach(I=>{I.startDate&&F.add(I.startDate.split("-")[0]),I.origin.country&&V.add(I.origin.country),I.destination.country&&V.add(I.destination.country),I.origin.state&&R.add(I.origin.state),I.destination.state&&R.add(I.destination.state);const P=I.origin.city||I.origin.name,j=I.destination.city||I.destination.name;A.add(P),A.add(j)}),{years:Array.from(F).sort().reverse(),countries:Array.from(V).sort(),provinces:Array.from(R).sort(),cities:Array.from(A).sort()}},[n]);ce.useEffect(()=>{const F=V=>{m.current&&!m.current.contains(V.target)&&f(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),ce.useEffect(()=>{l&&l(u)},[u,l]),ce.useEffect(()=>{e({years:v,countries:_,provinces:b,cities:M,search:p})},[v,_,b,M,p,e]);const z=(F,V,R)=>{const A=new Set(F);A.has(V)?A.delete(V):A.add(V),R(Array.from(A))},O=()=>{S([]),x([]),D([]),k([]),y("")},Z=v.length>0||_.length>0||b.length>0||M.length>0||p.length>0;return T.jsxs("div",{ref:m,className:`relative w-full mx-auto transition-all duration-300 ease-in-out ${u?"max-w-full":"max-w-lg"}`,children:[T.jsxs("div",{className:`
          flex items-center w-full h-12 px-4 bg-slate-100 dark:bg-slate-800/50 
          border border-transparent focus-within:border-blue-500/50 focus-within:bg-white dark:focus-within:bg-slate-800
          focus-within:ring-2 focus-within:ring-blue-500/20
          rounded-full transition-all duration-300
          ${u?"rounded-b-none bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700":""}
        `,onClick:()=>f(!0),children:[T.jsx(Ja,{size:18,className:"text-slate-400 mr-3"}),T.jsx("input",{type:"text",value:p,onChange:F=>y(F.target.value),placeholder:a.searchPlaceholder,className:"flex-1 bg-transparent border-none outline-none text-sm text-slate-900 dark:text-white placeholder:text-slate-400"}),Z&&T.jsx("button",{onClick:F=>{F.stopPropagation(),O()},className:"p-1 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400 hover:text-red-500",children:T.jsx(by,{size:14})})]}),u&&T.jsxs("div",{className:"absolute top-12 left-0 right-0 bg-white dark:bg-slate-800 border-x border-b border-slate-200 dark:border-slate-700 rounded-b-3xl shadow-2xl z-50 overflow-hidden animate-slide-up origin-top",children:[T.jsxs("div",{className:"max-h-[60vh] overflow-y-auto p-4 space-y-6 scrollbar-hide",children:[$.years.length>0&&T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center",children:[T.jsx(Jc,{size:14,className:"mr-1.5"})," ",a.filterYear]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:$.years.map(F=>T.jsx("button",{onClick:()=>z(new Set(v),F,S),className:`
                        px-3 py-1.5 rounded-lg text-xs font-medium border transition-all
                        ${v.includes(F)?"bg-blue-500 border-blue-500 text-white shadow-md shadow-blue-500/30":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-blue-300"}
                      `,children:F},F))})]}),$.countries.length>0&&T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center",children:[T.jsx(Ay,{size:14,className:"mr-1.5"})," ",a.filterCountry]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:$.countries.map(F=>T.jsx("button",{onClick:()=>z(new Set(_),F,x),className:`
                        px-3 py-1.5 rounded-lg text-xs font-medium border transition-all truncate max-w-[150px]
                        ${_.includes(F)?"bg-emerald-500 border-emerald-500 text-white shadow-md shadow-emerald-500/30":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-emerald-300"}
                      `,children:F},F))})]}),$.provinces.length>0&&T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center",children:[T.jsx(ss,{size:14,className:"mr-1.5"})," ",a.filterProvince]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:$.provinces.map(F=>T.jsx("button",{onClick:()=>z(new Set(b),F,D),className:`
                        px-3 py-1.5 rounded-lg text-xs font-medium border transition-all truncate max-w-[150px]
                        ${b.includes(F)?"bg-indigo-500 border-indigo-500 text-white shadow-md shadow-indigo-500/30":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-indigo-300"}
                      `,children:F},F))})]}),$.cities.length>0&&T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center",children:[T.jsx(Mf,{size:14,className:"mr-1.5"})," ",a.filterCity]}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[$.cities.slice(0,20).map(F=>T.jsx("button",{onClick:()=>z(new Set(M),F,k),className:`
                        px-3 py-1.5 rounded-lg text-xs font-medium border transition-all truncate max-w-[150px]
                        ${M.includes(F)?"bg-purple-500 border-purple-500 text-white shadow-md shadow-purple-500/30":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-purple-300"}
                      `,children:F},F)),$.cities.length>20&&T.jsxs("span",{className:"text-xs text-slate-400 self-center",children:["+",$.cities.length-20," more"]})]})]})]}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/80 p-3 text-center border-t border-slate-100 dark:border-slate-700 text-xs text-slate-400 flex items-center justify-center",children:[T.jsx(Kc,{size:12,className:"mr-1.5 animate-bounce"}),a.searchFooterHint||"Pull down screen to create trip"]})]})]})};class wi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const o=this._partials;let l=0;for(let a=0;a<this._n&&a<32;a++){const u=o[a],f=e+u,p=Math.abs(e)<Math.abs(u)?e-(f-u):u-(f-e);p&&(o[l++]=p),e=f}return o[l]=e,this._n=l+1,this}valueOf(){const e=this._partials;let o=this._n,l,a,u,f=0;if(o>0){for(f=e[--o];o>0&&(l=f,a=e[--o],f=l+a,u=a-(f-l),!u););o>0&&(u<0&&e[o-1]<0||u>0&&e[o-1]>0)&&(a=u*2,l=f+a,a==l-f&&(f=l))}return f}}function*sx(n){for(const e of n)yield*e}function Ry(n){return Array.from(sx(n))}function Yo(n,e,o){n=+n,e=+e,o=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+o;for(var l=-1,a=Math.max(0,Math.ceil((e-n)/o))|0,u=new Array(a);++l<a;)u[l]=n+l*o;return u}var Ge=1e-6,Ve=Math.PI,pn=Ve/2,s0=Ve/4,gn=Ve*2,Wt=180/Ve,ct=Ve/180,tt=Math.abs,ax=Math.atan,Wn=Math.atan2,Ke=Math.cos,Na=Math.ceil,He=Math.sin,rx=Math.sign||function(n){return n>0?1:n<0?-1:0},Cn=Math.sqrt;function ux(n){return n>1?0:n<-1?Ve:Math.acos(n)}function Di(n){return n>1?pn:n<-1?-pn:Math.asin(n)}function a0(n){return(n=He(n/2))*n}function vt(){}function Ka(n,e){n&&u0.hasOwnProperty(n.type)&&u0[n.type](n,e)}var r0={Feature:function(n,e){Ka(n.geometry,e)},FeatureCollection:function(n,e){for(var o=n.features,l=-1,a=o.length;++l<a;)Ka(o[l].geometry,e)}},u0={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var o=n.coordinates,l=-1,a=o.length;++l<a;)n=o[l],e.point(n[0],n[1],n[2])},LineString:function(n,e){Xc(n.coordinates,e,0)},MultiLineString:function(n,e){for(var o=n.coordinates,l=-1,a=o.length;++l<a;)Xc(o[l],e,0)},Polygon:function(n,e){c0(n.coordinates,e)},MultiPolygon:function(n,e){for(var o=n.coordinates,l=-1,a=o.length;++l<a;)c0(o[l],e)},GeometryCollection:function(n,e){for(var o=n.geometries,l=-1,a=o.length;++l<a;)Ka(o[l],e)}};function Xc(n,e,o){var l=-1,a=n.length-o,u;for(e.lineStart();++l<a;)u=n[l],e.point(u[0],u[1],u[2]);e.lineEnd()}function c0(n,e){var o=-1,l=n.length;for(e.polygonStart();++o<l;)Xc(n[o],e,1);e.polygonEnd()}function eo(n,e){n&&r0.hasOwnProperty(n.type)?r0[n.type](n,e):Ka(n,e)}function $c(n){return[Wn(n[1],n[0]),Di(n[2])]}function Zo(n){var e=n[0],o=n[1],l=Ke(o);return[l*Ke(e),l*He(e),He(o)]}function Ma(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Xa(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Pc(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function wa(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function Qc(n){var e=Cn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function Zc(n,e){function o(l,a){return l=n(l,a),e(l[0],l[1])}return n.invert&&e.invert&&(o.invert=function(l,a){return l=e.invert(l,a),l&&n.invert(l[0],l[1])}),o}function Wc(n,e){return tt(n)>Ve&&(n-=Math.round(n/gn)*gn),[n,e]}Wc.invert=Wc;function cx(n,e,o){return(n%=gn)?e||o?Zc(d0(n),h0(e,o)):d0(n):e||o?h0(e,o):Wc}function f0(n){return function(e,o){return e+=n,tt(e)>Ve&&(e-=Math.round(e/gn)*gn),[e,o]}}function d0(n){var e=f0(n);return e.invert=f0(-n),e}function h0(n,e){var o=Ke(n),l=He(n),a=Ke(e),u=He(e);function f(p,y){var m=Ke(y),v=Ke(p)*m,S=He(p)*m,_=He(y),x=_*o+v*l;return[Wn(S*a-x*u,v*o-_*l),Di(x*a+S*u)]}return f.invert=function(p,y){var m=Ke(y),v=Ke(p)*m,S=He(p)*m,_=He(y),x=_*a-S*u;return[Wn(S*a+_*u,v*o+x*l),Di(x*o-v*l)]},f}function fx(n,e,o,l,a,u){if(o){var f=Ke(e),p=He(e),y=l*o;a==null?(a=e+l*gn,u=e-y/2):(a=p0(f,a),u=p0(f,u),(l>0?a<u:a>u)&&(a+=l*gn));for(var m,v=a;l>0?v>u:v<u;v-=y)m=$c([f,-p*Ke(v),-p*He(v)]),n.point(m[0],m[1])}}function p0(n,e){e=Zo(e),e[0]-=n,Qc(e);var o=ux(-e[1]);return((-e[2]<0?-o:o)+gn-Ge)%gn}function Ny(){var n=[],e;return{point:function(o,l,a){e.push([o,l,a])},lineStart:function(){n.push(e=[])},lineEnd:vt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var o=n;return n=[],e=null,o}}}function qa(n,e){return tt(n[0]-e[0])<Ge&&tt(n[1]-e[1])<Ge}function Da(n,e,o,l){this.x=n,this.z=e,this.o=o,this.e=l,this.v=!1,this.n=this.p=null}function My(n,e,o,l,a){var u=[],f=[],p,y;if(n.forEach(function(b){if(!((D=b.length-1)<=0)){var D,M=b[0],k=b[D],$;if(qa(M,k)){if(!M[2]&&!k[2]){for(a.lineStart(),p=0;p<D;++p)a.point((M=b[p])[0],M[1]);a.lineEnd();return}k[0]+=2*Ge}u.push($=new Da(M,b,null,!0)),f.push($.o=new Da(M,null,$,!1)),u.push($=new Da(k,b,null,!1)),f.push($.o=new Da(k,null,$,!0))}}),!!u.length){for(f.sort(e),m0(u),m0(f),p=0,y=f.length;p<y;++p)f[p].e=o=!o;for(var m=u[0],v,S;;){for(var _=m,x=!0;_.v;)if((_=_.n)===m)return;v=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(x)for(p=0,y=v.length;p<y;++p)a.point((S=v[p])[0],S[1]);else l(_.x,_.n.x,1,a);_=_.n}else{if(x)for(v=_.p.z,p=v.length-1;p>=0;--p)a.point((S=v[p])[0],S[1]);else l(_.x,_.p.x,-1,a);_=_.p}_=_.o,v=_.z,x=!x}while(!_.v);a.lineEnd()}}}function m0(n){if(e=n.length){for(var e,o=0,l=n[0],a;++o<e;)l.n=a=n[o],a.p=l,l=a;l.n=a=n[0],a.p=l}}function Vc(n){return tt(n[0])<=Ve?n[0]:rx(n[0])*((tt(n[0])+Ve)%gn-Ve)}function dx(n,e){var o=Vc(e),l=e[1],a=He(l),u=[He(o),-Ke(o),0],f=0,p=0,y=new wi;a===1?l=pn+Ge:a===-1&&(l=-pn-Ge);for(var m=0,v=n.length;m<v;++m)if(_=(S=n[m]).length)for(var S,_,x=S[_-1],b=Vc(x),D=x[1]/2+s0,M=He(D),k=Ke(D),$=0;$<_;++$,b=O,M=F,k=V,x=z){var z=S[$],O=Vc(z),Z=z[1]/2+s0,F=He(Z),V=Ke(Z),R=O-b,A=R>=0?1:-1,I=A*R,P=I>Ve,j=M*F;if(y.add(Wn(j*A*He(I),k*V+j*Ke(I))),f+=P?R+A*gn:R,P^b>=o^O>=o){var ne=Xa(Zo(x),Zo(z));Qc(ne);var oe=Xa(u,ne);Qc(oe);var K=(P^R>=0?-1:1)*Di(oe[2]);(l>K||l===K&&(ne[0]||ne[1]))&&(p+=P^R>=0?1:-1)}}return(f<-Ge||f<Ge&&y<-1e-12)^p&1}function wy(n,e,o,l){return function(a){var u=e(a),f=Ny(),p=e(f),y=!1,m,v,S,_={point:x,lineStart:D,lineEnd:M,polygonStart:function(){_.point=k,_.lineStart=$,_.lineEnd=z,v=[],m=[]},polygonEnd:function(){_.point=x,_.lineStart=D,_.lineEnd=M,v=Ry(v);var O=dx(m,l);v.length?(y||(a.polygonStart(),y=!0),My(v,px,O,o,a)):O&&(y||(a.polygonStart(),y=!0),a.lineStart(),o(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),v=m=null},sphere:function(){a.polygonStart(),a.lineStart(),o(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function x(O,Z){n(O,Z)&&a.point(O,Z)}function b(O,Z){u.point(O,Z)}function D(){_.point=b,u.lineStart()}function M(){_.point=x,u.lineEnd()}function k(O,Z){S.push([O,Z]),p.point(O,Z)}function $(){p.lineStart(),S=[]}function z(){k(S[0][0],S[0][1]),p.lineEnd();var O=p.clean(),Z=f.result(),F,V=Z.length,R,A,I;if(S.pop(),m.push(S),S=null,!!V){if(O&1){if(A=Z[0],(R=A.length-1)>0){for(y||(a.polygonStart(),y=!0),a.lineStart(),F=0;F<R;++F)a.point((I=A[F])[0],I[1]);a.lineEnd()}return}V>1&&O&2&&Z.push(Z.pop().concat(Z.shift())),v.push(Z.filter(hx))}}return _}}function hx(n){return n.length>1}function px(n,e){return((n=n.x)[0]<0?n[1]-pn-Ge:pn-n[1])-((e=e.x)[0]<0?e[1]-pn-Ge:pn-e[1])}const g0=wy(function(){return!0},mx,yx,[-Ve,-pn]);function mx(n){var e=NaN,o=NaN,l=NaN,a;return{lineStart:function(){n.lineStart(),a=1},point:function(u,f){var p=u>0?Ve:-Ve,y=tt(u-e);tt(y-Ve)<Ge?(n.point(e,o=(o+f)/2>0?pn:-pn),n.point(l,o),n.lineEnd(),n.lineStart(),n.point(p,o),n.point(u,o),a=0):l!==p&&y>=Ve&&(tt(e-l)<Ge&&(e-=l*Ge),tt(u-p)<Ge&&(u-=p*Ge),o=gx(e,o,u,f),n.point(l,o),n.lineEnd(),n.lineStart(),n.point(p,o),a=0),n.point(e=u,o=f),l=p},lineEnd:function(){n.lineEnd(),e=o=NaN},clean:function(){return 2-a}}}function gx(n,e,o,l){var a,u,f=He(n-o);return tt(f)>Ge?ax((He(e)*(u=Ke(l))*He(o)-He(l)*(a=Ke(e))*He(n))/(a*u*f)):(e+l)/2}function yx(n,e,o,l){var a;if(n==null)a=o*pn,l.point(-Ve,a),l.point(0,a),l.point(Ve,a),l.point(Ve,0),l.point(Ve,-a),l.point(0,-a),l.point(-Ve,-a),l.point(-Ve,0),l.point(-Ve,a);else if(tt(n[0]-e[0])>Ge){var u=n[0]<e[0]?Ve:-Ve;a=o*u/2,l.point(-u,a),l.point(0,a),l.point(u,a)}else l.point(e[0],e[1])}function vx(n){var e=Ke(n),o=2*ct,l=e>0,a=tt(e)>Ge;function u(v,S,_,x){fx(x,n,o,_,v,S)}function f(v,S){return Ke(v)*Ke(S)>e}function p(v){var S,_,x,b,D;return{lineStart:function(){b=x=!1,D=1},point:function(M,k){var $=[M,k],z,O=f(M,k),Z=l?O?0:m(M,k):O?m(M+(M<0?Ve:-Ve),k):0;if(!S&&(b=x=O)&&v.lineStart(),O!==x&&(z=y(S,$),(!z||qa(S,z)||qa($,z))&&($[2]=1)),O!==x)D=0,O?(v.lineStart(),z=y($,S),v.point(z[0],z[1])):(z=y(S,$),v.point(z[0],z[1],2),v.lineEnd()),S=z;else if(a&&S&&l^O){var F;!(Z&_)&&(F=y($,S,!0))&&(D=0,l?(v.lineStart(),v.point(F[0][0],F[0][1]),v.point(F[1][0],F[1][1]),v.lineEnd()):(v.point(F[1][0],F[1][1]),v.lineEnd(),v.lineStart(),v.point(F[0][0],F[0][1],3)))}O&&(!S||!qa(S,$))&&v.point($[0],$[1]),S=$,x=O,_=Z},lineEnd:function(){x&&v.lineEnd(),S=null},clean:function(){return D|(b&&x)<<1}}}function y(v,S,_){var x=Zo(v),b=Zo(S),D=[1,0,0],M=Xa(x,b),k=Ma(M,M),$=M[0],z=k-$*$;if(!z)return!_&&v;var O=e*k/z,Z=-e*$/z,F=Xa(D,M),V=wa(D,O),R=wa(M,Z);Pc(V,R);var A=F,I=Ma(V,A),P=Ma(A,A),j=I*I-P*(Ma(V,V)-1);if(!(j<0)){var ne=Cn(j),oe=wa(A,(-I-ne)/P);if(Pc(oe,V),oe=$c(oe),!_)return oe;var K=v[0],L=S[0],X=v[1],re=S[1],ue;L<K&&(ue=K,K=L,L=ue);var _e=L-K,N=tt(_e-Ve)<Ge,q=N||_e<Ge;if(!N&&re<X&&(ue=X,X=re,re=ue),q?N?X+re>0^oe[1]<(tt(oe[0]-K)<Ge?X:re):X<=oe[1]&&oe[1]<=re:_e>Ve^(K<=oe[0]&&oe[0]<=L)){var Y=wa(A,(-I+ne)/P);return Pc(Y,V),[oe,$c(Y)]}}}function m(v,S){var _=l?n:Ve-n,x=0;return v<-_?x|=1:v>_&&(x|=2),S<-_?x|=4:S>_&&(x|=8),x}return wy(f,p,u,l?[0,-n]:[-Ve,n-Ve])}function Sx(n,e,o,l,a,u){var f=n[0],p=n[1],y=e[0],m=e[1],v=0,S=1,_=y-f,x=m-p,b;if(b=o-f,!(!_&&b>0)){if(b/=_,_<0){if(b<v)return;b<S&&(S=b)}else if(_>0){if(b>S)return;b>v&&(v=b)}if(b=a-f,!(!_&&b<0)){if(b/=_,_<0){if(b>S)return;b>v&&(v=b)}else if(_>0){if(b<v)return;b<S&&(S=b)}if(b=l-p,!(!x&&b>0)){if(b/=x,x<0){if(b<v)return;b<S&&(S=b)}else if(x>0){if(b>S)return;b>v&&(v=b)}if(b=u-p,!(!x&&b<0)){if(b/=x,x<0){if(b>S)return;b>v&&(v=b)}else if(x>0){if(b<v)return;b<S&&(S=b)}return v>0&&(n[0]=f+v*_,n[1]=p+v*x),S<1&&(e[0]=f+S*_,e[1]=p+S*x),!0}}}}}var es=1e9,Ia=-es;function _x(n,e,o,l){function a(m,v){return n<=m&&m<=o&&e<=v&&v<=l}function u(m,v,S,_){var x=0,b=0;if(m==null||(x=f(m,S))!==(b=f(v,S))||y(m,v)<0^S>0)do _.point(x===0||x===3?n:o,x>1?l:e);while((x=(x+S+4)%4)!==b);else _.point(v[0],v[1])}function f(m,v){return tt(m[0]-n)<Ge?v>0?0:3:tt(m[0]-o)<Ge?v>0?2:1:tt(m[1]-e)<Ge?v>0?1:0:v>0?3:2}function p(m,v){return y(m.x,v.x)}function y(m,v){var S=f(m,1),_=f(v,1);return S!==_?S-_:S===0?v[1]-m[1]:S===1?m[0]-v[0]:S===2?m[1]-v[1]:v[0]-m[0]}return function(m){var v=m,S=Ny(),_,x,b,D,M,k,$,z,O,Z,F,V={point:R,lineStart:j,lineEnd:ne,polygonStart:I,polygonEnd:P};function R(K,L){a(K,L)&&v.point(K,L)}function A(){for(var K=0,L=0,X=x.length;L<X;++L)for(var re=x[L],ue=1,_e=re.length,N=re[0],q,Y,H=N[0],te=N[1];ue<_e;++ue)q=H,Y=te,N=re[ue],H=N[0],te=N[1],Y<=l?te>l&&(H-q)*(l-Y)>(te-Y)*(n-q)&&++K:te<=l&&(H-q)*(l-Y)<(te-Y)*(n-q)&&--K;return K}function I(){v=S,_=[],x=[],F=!0}function P(){var K=A(),L=F&&K,X=(_=Ry(_)).length;(L||X)&&(m.polygonStart(),L&&(m.lineStart(),u(null,null,1,m),m.lineEnd()),X&&My(_,p,K,u,m),m.polygonEnd()),v=m,_=x=b=null}function j(){V.point=oe,x&&x.push(b=[]),Z=!0,O=!1,$=z=NaN}function ne(){_&&(oe(D,M),k&&O&&S.rejoin(),_.push(S.result())),V.point=R,O&&v.lineEnd()}function oe(K,L){var X=a(K,L);if(x&&b.push([K,L]),Z)D=K,M=L,k=X,Z=!1,X&&(v.lineStart(),v.point(K,L));else if(X&&O)v.point(K,L);else{var re=[$=Math.max(Ia,Math.min(es,$)),z=Math.max(Ia,Math.min(es,z))],ue=[K=Math.max(Ia,Math.min(es,K)),L=Math.max(Ia,Math.min(es,L))];Sx(re,ue,n,e,o,l)?(O||(v.lineStart(),v.point(re[0],re[1])),v.point(ue[0],ue[1]),X||v.lineEnd(),F=!1):X&&(v.lineStart(),v.point(K,L),F=!1)}$=K,z=L,O=X}return V}}var jc,ef,Oa,Ba,Wo={sphere:vt,point:vt,lineStart:Ex,lineEnd:vt,polygonStart:vt,polygonEnd:vt};function Ex(){Wo.point=xx,Wo.lineEnd=Tx}function Tx(){Wo.point=Wo.lineEnd=vt}function xx(n,e){n*=ct,e*=ct,ef=n,Oa=He(e),Ba=Ke(e),Wo.point=Cx}function Cx(n,e){n*=ct,e*=ct;var o=He(e),l=Ke(e),a=tt(n-ef),u=Ke(a),f=He(a),p=l*f,y=Ba*o-Oa*l*u,m=Oa*o+Ba*l*u;jc.add(Wn(Cn(p*p+y*y),m)),ef=n,Oa=o,Ba=l}function Ax(n){return jc=new wi,eo(n,Wo),+jc}var tf=[null,null],bx={type:"LineString",coordinates:tf};function y0(n,e){return tf[0]=n,tf[1]=e,Ax(bx)}function v0(n,e,o){var l=Yo(n,e-Ge,o).concat(e);return function(a){return l.map(function(u){return[a,u]})}}function S0(n,e,o){var l=Yo(n,e-Ge,o).concat(e);return function(a){return l.map(function(u){return[u,a]})}}function Rx(){var n,e,o,l,a,u,f,p,y=10,m=y,v=90,S=360,_,x,b,D,M=2.5;function k(){return{type:"MultiLineString",coordinates:$()}}function $(){return Yo(Na(l/v)*v,o,v).map(b).concat(Yo(Na(p/S)*S,f,S).map(D)).concat(Yo(Na(e/y)*y,n,y).filter(function(z){return tt(z%v)>Ge}).map(_)).concat(Yo(Na(u/m)*m,a,m).filter(function(z){return tt(z%S)>Ge}).map(x))}return k.lines=function(){return $().map(function(z){return{type:"LineString",coordinates:z}})},k.outline=function(){return{type:"Polygon",coordinates:[b(l).concat(D(f).slice(1),b(o).reverse().slice(1),D(p).reverse().slice(1))]}},k.extent=function(z){return arguments.length?k.extentMajor(z).extentMinor(z):k.extentMinor()},k.extentMajor=function(z){return arguments.length?(l=+z[0][0],o=+z[1][0],p=+z[0][1],f=+z[1][1],l>o&&(z=l,l=o,o=z),p>f&&(z=p,p=f,f=z),k.precision(M)):[[l,p],[o,f]]},k.extentMinor=function(z){return arguments.length?(e=+z[0][0],n=+z[1][0],u=+z[0][1],a=+z[1][1],e>n&&(z=e,e=n,n=z),u>a&&(z=u,u=a,a=z),k.precision(M)):[[e,u],[n,a]]},k.step=function(z){return arguments.length?k.stepMajor(z).stepMinor(z):k.stepMinor()},k.stepMajor=function(z){return arguments.length?(v=+z[0],S=+z[1],k):[v,S]},k.stepMinor=function(z){return arguments.length?(y=+z[0],m=+z[1],k):[y,m]},k.precision=function(z){return arguments.length?(M=+z,_=v0(u,a,90),x=S0(e,n,M),b=v0(p,f,90),D=S0(l,o,M),k):M},k.extentMajor([[-180,-90+Ge],[180,90-Ge]]).extentMinor([[-180,-80-Ge],[180,80+Ge]])}function Nx(){return Rx()()}function Mx(n,e){var o=n[0]*ct,l=n[1]*ct,a=e[0]*ct,u=e[1]*ct,f=Ke(l),p=He(l),y=Ke(u),m=He(u),v=f*Ke(o),S=f*He(o),_=y*Ke(a),x=y*He(a),b=2*Di(Cn(a0(u-l)+f*y*a0(a-o))),D=He(b),M=b?function(k){var $=He(k*=b)/D,z=He(b-k)/D,O=z*v+$*_,Z=z*S+$*x,F=z*p+$*m;return[Wn(Z,O)*Wt,Wn(F,Cn(O*O+Z*Z))*Wt]}:function(){return[o*Wt,l*Wt]};return M.distance=b,M}const nf=n=>n;var qc=new wi,of=new wi,Dy,Iy,lf,sf,Zn={point:vt,lineStart:vt,lineEnd:vt,polygonStart:function(){Zn.lineStart=wx,Zn.lineEnd=Ix},polygonEnd:function(){Zn.lineStart=Zn.lineEnd=Zn.point=vt,qc.add(tt(of)),of=new wi},result:function(){var n=qc/2;return qc=new wi,n}};function wx(){Zn.point=Dx}function Dx(n,e){Zn.point=ky,Dy=lf=n,Iy=sf=e}function ky(n,e){of.add(sf*n-lf*e),lf=n,sf=e}function Ix(){ky(Dy,Iy)}var jo=1/0,$a=jo,as=-jo,Qa=as,Za={point:kx,lineStart:vt,lineEnd:vt,polygonStart:vt,polygonEnd:vt,result:function(){var n=[[jo,$a],[as,Qa]];return as=Qa=-($a=jo=1/0),n}};function kx(n,e){n<jo&&(jo=n),n>as&&(as=n),e<$a&&($a=e),e>Qa&&(Qa=e)}var af=0,rf=0,ts=0,Wa=0,ja=0,Jo=0,uf=0,cf=0,ns=0,Uy,Ly,Dn,In,hn={point:to,lineStart:_0,lineEnd:E0,polygonStart:function(){hn.lineStart=zx,hn.lineEnd=Hx},polygonEnd:function(){hn.point=to,hn.lineStart=_0,hn.lineEnd=E0},result:function(){var n=ns?[uf/ns,cf/ns]:Jo?[Wa/Jo,ja/Jo]:ts?[af/ts,rf/ts]:[NaN,NaN];return af=rf=ts=Wa=ja=Jo=uf=cf=ns=0,n}};function to(n,e){af+=n,rf+=e,++ts}function _0(){hn.point=Ux}function Ux(n,e){hn.point=Lx,to(Dn=n,In=e)}function Lx(n,e){var o=n-Dn,l=e-In,a=Cn(o*o+l*l);Wa+=a*(Dn+n)/2,ja+=a*(In+e)/2,Jo+=a,to(Dn=n,In=e)}function E0(){hn.point=to}function zx(){hn.point=Gx}function Hx(){zy(Uy,Ly)}function Gx(n,e){hn.point=zy,to(Uy=Dn=n,Ly=In=e)}function zy(n,e){var o=n-Dn,l=e-In,a=Cn(o*o+l*l);Wa+=a*(Dn+n)/2,ja+=a*(In+e)/2,Jo+=a,a=In*n-Dn*e,uf+=a*(Dn+n),cf+=a*(In+e),ns+=a*3,to(Dn=n,In=e)}function Hy(n){this._context=n}Hy.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,gn);break}}},result:vt};var ff=new wi,Oc,Gy,Py,is,os,rs={point:vt,lineStart:function(){rs.point=Px},lineEnd:function(){Oc&&Vy(Gy,Py),rs.point=vt},polygonStart:function(){Oc=!0},polygonEnd:function(){Oc=null},result:function(){var n=+ff;return ff=new wi,n}};function Px(n,e){rs.point=Vy,Gy=is=n,Py=os=e}function Vy(n,e){is-=n,os-=e,ff.add(Cn(is*is+os*os)),is=n,os=e}let T0,er,x0,C0;class A0{constructor(e){this._append=e==null?qy:Vx(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,o){switch(this._point){case 0:{this._append`M${e},${o}`,this._point=1;break}case 1:{this._append`L${e},${o}`;break}default:{if(this._append`M${e},${o}`,this._radius!==x0||this._append!==er){const l=this._radius,a=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,x0=l,er=this._append,C0=this._,this._=a}this._+=C0;break}}}result(){const e=this._;return this._="",e.length?e:null}}function qy(n){let e=1;this._+=n[0];for(const o=n.length;e<o;++e)this._+=arguments[e]+n[e]}function Vx(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return qy;if(e!==T0){const o=10**e;T0=e,er=function(a){let u=1;this._+=a[0];for(const f=a.length;u<f;++u)this._+=Math.round(arguments[u]*o)/o+a[u]}}return er}function qx(n,e){let o=3,l=4.5,a,u;function f(p){return p&&(typeof l=="function"&&u.pointRadius(+l.apply(this,arguments)),eo(p,a(u))),u.result()}return f.area=function(p){return eo(p,a(Zn)),Zn.result()},f.measure=function(p){return eo(p,a(rs)),rs.result()},f.bounds=function(p){return eo(p,a(Za)),Za.result()},f.centroid=function(p){return eo(p,a(hn)),hn.result()},f.projection=function(p){return arguments.length?(a=p==null?(n=null,nf):(n=p).stream,f):n},f.context=function(p){return arguments.length?(u=p==null?(e=null,new A0(o)):new Hy(e=p),typeof l!="function"&&u.pointRadius(l),f):e},f.pointRadius=function(p){return arguments.length?(l=typeof p=="function"?p:(u.pointRadius(+p),+p),f):l},f.digits=function(p){if(!arguments.length)return o;if(p==null)o=null;else{const y=Math.floor(p);if(!(y>=0))throw new RangeError(`invalid digits: ${p}`);o=y}return e===null&&(u=new A0(o)),f},f.projection(n).digits(o).context(e)}function Df(n){return function(e){var o=new df;for(var l in n)o[l]=n[l];return o.stream=e,o}}function df(){}df.prototype={constructor:df,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function If(n,e,o){var l=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),l!=null&&n.clipExtent(null),eo(o,n.stream(Za)),e(Za.result()),l!=null&&n.clipExtent(l),n}function Oy(n,e,o){return If(n,function(l){var a=e[1][0]-e[0][0],u=e[1][1]-e[0][1],f=Math.min(a/(l[1][0]-l[0][0]),u/(l[1][1]-l[0][1])),p=+e[0][0]+(a-f*(l[1][0]+l[0][0]))/2,y=+e[0][1]+(u-f*(l[1][1]+l[0][1]))/2;n.scale(150*f).translate([p,y])},o)}function Ox(n,e,o){return Oy(n,[[0,0],e],o)}function Bx(n,e,o){return If(n,function(l){var a=+e,u=a/(l[1][0]-l[0][0]),f=(a-u*(l[1][0]+l[0][0]))/2,p=-u*l[0][1];n.scale(150*u).translate([f,p])},o)}function Fx(n,e,o){return If(n,function(l){var a=+e,u=a/(l[1][1]-l[0][1]),f=-u*l[0][0],p=(a-u*(l[1][1]+l[0][1]))/2;n.scale(150*u).translate([f,p])},o)}var b0=16,Yx=Ke(30*ct);function R0(n,e){return+e?Kx(n,e):Jx(n)}function Jx(n){return Df({point:function(e,o){e=n(e,o),this.stream.point(e[0],e[1])}})}function Kx(n,e){function o(l,a,u,f,p,y,m,v,S,_,x,b,D,M){var k=m-l,$=v-a,z=k*k+$*$;if(z>4*e&&D--){var O=f+_,Z=p+x,F=y+b,V=Cn(O*O+Z*Z+F*F),R=Di(F/=V),A=tt(tt(F)-1)<Ge||tt(u-S)<Ge?(u+S)/2:Wn(Z,O),I=n(A,R),P=I[0],j=I[1],ne=P-l,oe=j-a,K=$*ne-k*oe;(K*K/z>e||tt((k*ne+$*oe)/z-.5)>.3||f*_+p*x+y*b<Yx)&&(o(l,a,u,f,p,y,P,j,A,O/=V,Z/=V,F,D,M),M.point(P,j),o(P,j,A,O,Z,F,m,v,S,_,x,b,D,M))}}return function(l){var a,u,f,p,y,m,v,S,_,x,b,D,M={point:k,lineStart:$,lineEnd:O,polygonStart:function(){l.polygonStart(),M.lineStart=Z},polygonEnd:function(){l.polygonEnd(),M.lineStart=$}};function k(R,A){R=n(R,A),l.point(R[0],R[1])}function $(){S=NaN,M.point=z,l.lineStart()}function z(R,A){var I=Zo([R,A]),P=n(R,A);o(S,_,v,x,b,D,S=P[0],_=P[1],v=R,x=I[0],b=I[1],D=I[2],b0,l),l.point(S,_)}function O(){M.point=k,l.lineEnd()}function Z(){$(),M.point=F,M.lineEnd=V}function F(R,A){z(a=R,A),u=S,f=_,p=x,y=b,m=D,M.point=z}function V(){o(S,_,v,x,b,D,u,f,a,p,y,m,b0,l),M.lineEnd=O,O()}return M}}var Xx=Df({point:function(n,e){this.stream.point(n*ct,e*ct)}});function $x(n){return Df({point:function(e,o){var l=n(e,o);return this.stream.point(l[0],l[1])}})}function Qx(n,e,o,l,a){function u(f,p){return f*=l,p*=a,[e+n*f,o-n*p]}return u.invert=function(f,p){return[(f-e)/n*l,(o-p)/n*a]},u}function N0(n,e,o,l,a,u){if(!u)return Qx(n,e,o,l,a);var f=Ke(u),p=He(u),y=f*n,m=p*n,v=f/n,S=p/n,_=(p*o-f*e)/n,x=(p*e+f*o)/n;function b(D,M){return D*=l,M*=a,[y*D-m*M+e,o-m*D-y*M]}return b.invert=function(D,M){return[l*(v*D-S*M+_),a*(x-S*D-v*M)]},b}function Zx(n){return Wx(function(){return n})()}function Wx(n){var e,o=150,l=480,a=250,u=0,f=0,p=0,y=0,m=0,v,S=0,_=1,x=1,b=null,D=g0,M=null,k,$,z,O=nf,Z=.5,F,V,R,A,I;function P(K){return R(K[0]*ct,K[1]*ct)}function j(K){return K=R.invert(K[0],K[1]),K&&[K[0]*Wt,K[1]*Wt]}P.stream=function(K){return A&&I===K?A:A=Xx($x(v)(D(F(O(I=K)))))},P.preclip=function(K){return arguments.length?(D=K,b=void 0,oe()):D},P.postclip=function(K){return arguments.length?(O=K,M=k=$=z=null,oe()):O},P.clipAngle=function(K){return arguments.length?(D=+K?vx(b=K*ct):(b=null,g0),oe()):b*Wt},P.clipExtent=function(K){return arguments.length?(O=K==null?(M=k=$=z=null,nf):_x(M=+K[0][0],k=+K[0][1],$=+K[1][0],z=+K[1][1]),oe()):M==null?null:[[M,k],[$,z]]},P.scale=function(K){return arguments.length?(o=+K,ne()):o},P.translate=function(K){return arguments.length?(l=+K[0],a=+K[1],ne()):[l,a]},P.center=function(K){return arguments.length?(u=K[0]%360*ct,f=K[1]%360*ct,ne()):[u*Wt,f*Wt]},P.rotate=function(K){return arguments.length?(p=K[0]%360*ct,y=K[1]%360*ct,m=K.length>2?K[2]%360*ct:0,ne()):[p*Wt,y*Wt,m*Wt]},P.angle=function(K){return arguments.length?(S=K%360*ct,ne()):S*Wt},P.reflectX=function(K){return arguments.length?(_=K?-1:1,ne()):_<0},P.reflectY=function(K){return arguments.length?(x=K?-1:1,ne()):x<0},P.precision=function(K){return arguments.length?(F=R0(V,Z=K*K),oe()):Cn(Z)},P.fitExtent=function(K,L){return Oy(P,K,L)},P.fitSize=function(K,L){return Ox(P,K,L)},P.fitWidth=function(K,L){return Bx(P,K,L)},P.fitHeight=function(K,L){return Fx(P,K,L)};function ne(){var K=N0(o,0,0,_,x,S).apply(null,e(u,f)),L=N0(o,l-K[0],a-K[1],_,x,S);return v=cx(p,y,m),V=Zc(e,L),R=Zc(v,V),F=R0(V,Z),oe()}function oe(){return A=I=null,P}return function(){return e=n.apply(this,arguments),P.invert=e.invert&&j,ne()}}function jx(n){return function(e,o){var l=Cn(e*e+o*o),a=n(l),u=He(a),f=Ke(a);return[Wn(e*u,l*f),Di(l&&o*u/l)]}}function By(n,e){return[Ke(e)*He(n),He(e)]}By.invert=jx(Di);function e1(){return Zx(By).scale(249.5).clipAngle(90+Ge)}function t1(n){return n}function n1(n){if(n==null)return t1;var e,o,l=n.scale[0],a=n.scale[1],u=n.translate[0],f=n.translate[1];return function(p,y){y||(e=o=0);var m=2,v=p.length,S=new Array(v);for(S[0]=(e+=p[0])*l+u,S[1]=(o+=p[1])*a+f;m<v;)S[m]=p[m],++m;return S}}function i1(n,e){for(var o,l=n.length,a=l-e;a<--l;)o=n[a],n[a++]=n[l],n[l]=o}function o1(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(o){return M0(n,o)})}:M0(n,e)}function M0(n,e){var o=e.id,l=e.bbox,a=e.properties==null?{}:e.properties,u=l1(n,e);return o==null&&l==null?{type:"Feature",properties:a,geometry:u}:l==null?{type:"Feature",id:o,properties:a,geometry:u}:{type:"Feature",id:o,bbox:l,properties:a,geometry:u}}function l1(n,e){var o=n1(n.transform),l=n.arcs;function a(v,S){S.length&&S.pop();for(var _=l[v<0?~v:v],x=0,b=_.length;x<b;++x)S.push(o(_[x],x));v<0&&i1(S,b)}function u(v){return o(v)}function f(v){for(var S=[],_=0,x=v.length;_<x;++_)a(v[_],S);return S.length<2&&S.push(S[0]),S}function p(v){for(var S=f(v);S.length<4;)S.push(S[0]);return S}function y(v){return v.map(p)}function m(v){var S=v.type,_;switch(S){case"GeometryCollection":return{type:S,geometries:v.geometries.map(m)};case"Point":_=u(v.coordinates);break;case"MultiPoint":_=v.coordinates.map(u);break;case"LineString":_=f(v.arcs);break;case"MultiLineString":_=v.arcs.map(f);break;case"Polygon":_=y(v.arcs);break;case"MultiPolygon":_=v.arcs.map(y);break;default:return null}return{type:S,coordinates:_}}return m(e)}const s1="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json";let ka=null,Ua=null;const kf=ce.forwardRef(({trips:n,highlightTrip:e,className:o,viewMode:l="routes",interactionEnabled:a=!0,onZoomChange:u,enableWordCloud:f=!1,hideBackground:p=!1},y)=>{const[m,v]=ce.useState(ka),[S,_]=ce.useState([0,0]),[x,b]=ce.useState(1),[D,M]=ce.useState(!1),k=ce.useRef(null),$=ce.useRef(null),z=ce.useRef(null),[O,Z]=ce.useState({width:800,height:400}),F=ce.useRef(null),V=ce.useRef([]),R=ce.useRef(-1);ce.useImperativeHandle(y,()=>({resetView:()=>{A()}})),ce.useEffect(()=>{if(ka){v(ka);return}Ua||(Ua=fetch(s1).then(H=>H.json()).then(H=>{const te=o1(H,H.objects.countries);return ka=te,te}).catch(H=>{console.error("Failed to load map data",H),Ua=null})),Ua.then(H=>{H&&v(H)})},[]),ce.useEffect(()=>{if(!$.current)return;const H=new ResizeObserver(te=>{for(let se of te)Z({width:se.contentRect.width,height:se.contentRect.height})});return H.observe($.current),()=>H.disconnect()},[]);const A=()=>{let H=[0,0],te=1;if(e){const{origin:se,destination:de}=e,he=[se.coords.lng,se.coords.lat],pe=[de.coords.lng,de.coords.lat],ae=Mx(he,pe)(.5),ve=y0(he,pe),fe=Math.max(ve*(a?1.5:1.8),.001);let Ee=Math.PI/fe;Ee=Math.min(Math.max(Ee,1),4e3),H=[-ae[0],-ae[1]],te=Ee}else if(n.length>0){const se={};n.forEach(he=>{const pe=he.origin.name;se[pe]||(se[pe]={count:0,coords:[he.origin.coords.lng,he.origin.coords.lat]}),se[pe].count++;const be=he.destination.name;se[be]||(se[be]={count:0,coords:[he.destination.coords.lng,he.destination.coords.lat]}),se[be].count++});let de={count:-1,coords:[0,0]};Object.values(se).forEach(he=>{he.count>de.count&&(de=he)}),de.count>0?(H=[-de.coords[0],-de.coords[1]],te=1):(H=[-105,-35],te=1)}else H=[-105,-35],te=1;_(H),b(te),k.current={zoom:te,rotation:H},u&&u(!1)};ce.useEffect(()=>{if(!k.current||!u)return;const te=Math.abs(x-k.current.zoom)>.1;u(te)},[x,S,u]);const I=ce.useRef("");ce.useEffect(()=>{const H=n.map(de=>de.id).join(","),te=e?e.id:"none",se=`${H}-${te}-${l}`;I.current!==se&&(A(),I.current=se)},[n,e,l]);const P=H=>{if(!a)return;const te=x>1.1,se=H.touches[0].clientY,{innerHeight:de}=window,he=se<de*.25,pe=se>de*.75;(te||!(he||pe))&&H.stopPropagation()},j=H=>{if(!a)return;const te=x>1.1,{clientY:se}=H,{innerHeight:de}=window,he=se<de*.25||se>de*.75;if(!(!te&&he&&!e)){H.stopPropagation(),V.current.push(H),V.current.length===1&&(M(!0),F.current={x:H.clientX,y:H.clientY});try{H.target.setPointerCapture(H.pointerId)}catch{}}},ne=H=>{if(!a)return;V.current.find(se=>se.pointerId===H.pointerId)&&H.stopPropagation();const te=V.current.findIndex(se=>se.pointerId===H.pointerId);if(te!==-1&&(V.current[te]=H),V.current.length===2){const se=Math.hypot(V.current[0].clientX-V.current[1].clientX,V.current[0].clientY-V.current[1].clientY);R.current>0&&(se>R.current?b(de=>Math.min(de*1.05,4e3)):se<R.current&&b(de=>Math.max(de*.95,1))),R.current=se;return}if(D&&F.current&&V.current.length===1){const se=H.clientX-F.current.x,de=H.clientY-F.current.y,he=.25/Math.sqrt(x);_(pe=>[pe[0]+se*he,pe[1]-de*he]),F.current={x:H.clientX,y:H.clientY}}},oe=H=>{if(!a)return;const te=V.current.findIndex(de=>de.pointerId===H.pointerId);te!==-1&&V.current.splice(te,1),V.current.length<2&&(R.current=-1),V.current.length===0&&(M(!1),F.current=null);const se=H.target;if(se.hasPointerCapture(H.pointerId))try{se.releasePointerCapture(H.pointerId)}catch{}},K=H=>{if(!a)return;H.stopPropagation();const te=1.1;H.deltaY<0?b(se=>Math.min(se*te,4e3)):b(se=>Math.max(se/te,1))},L=H=>{a&&(H.stopPropagation(),X())},X=()=>b(H=>Math.min(H*1.5,4e3)),{pathGenerator:re,projection:ue,graticule:_e}=ce.useMemo(()=>{const H=Math.min(O.width,O.height)/2.2,te=e1().fitSize([O.width,O.height],{type:"Sphere"}).rotate([S[0],S[1],0]).scale(H*x).precision(.1),se=qx().projection(te),de=Nx();return{pathGenerator:se,projection:te,graticule:de}},[O,S,x]),N=ce.useMemo(()=>(e?[e]:n).map(te=>{const se={type:"LineString",coordinates:[[te.origin.coords.lng,te.origin.coords.lat],[te.destination.coords.lng,te.destination.coords.lat]]};return{id:te.id,d:re(se),isHighlight:!!e}}),[n,e,re]),q=ce.useMemo(()=>{const H=[],te=(3.5+Math.log(x)*.6)*(e&&!a?1.5:1);if(e){const se=ue([e.origin.coords.lng,e.origin.coords.lat]),de=ue([e.destination.coords.lng,e.destination.coords.lat]);se&&H.push({cx:se[0],cy:se[1],r:te,fill:"#38bdf8",key:"origin"}),de&&H.push({cx:de[0],cy:de[1],r:te,fill:"#818cf8",key:"dest"})}else(l==="routes"||l==="visited")&&n.forEach((se,de)=>{const he=ue.invert([O.width/2,O.height/2]),pe=[se.destination.coords.lng,se.destination.coords.lat],be=ue(pe);he&&be&&y0(pe,he)<Math.PI/2&&H.push({cx:be[0],cy:be[1],r:3,fill:"#60a5fa",key:`dest-${de}`})});return H},[n,e,l,ue,O,x,a]),Y=ce.useMemo(()=>{var pe,be;if(!f&&!a)return[];if(e)return[];const H={};n.forEach(ae=>{const ve=ae.destination.country||ae.origin.country;if(ve){const fe=`c-${ve}`;H[fe]||(H[fe]={type:"country",count:0,text:ve}),H[fe].count++}const Te=ae.destination.state||ae.origin.state;if(Te){const fe=`p-${Te}`;H[fe]||(H[fe]={type:"province",count:0,text:Te}),H[fe].count++}const me=ae.destination.city||ae.destination.name;if(me){const fe=`ct-${me}`;H[fe]||(H[fe]={type:"city",count:0,text:me}),H[fe].count++}});let te=Object.values(H);te.sort((ae,ve)=>ve.count-ae.count),te.length>50&&(te=te.slice(0,50));const se=((pe=te[te.length-1])==null?void 0:pe.count)||1,de=(((be=te[0])==null?void 0:be.count)||1)-se||1,he=ae=>{const ve=Math.sin(ae++)*1e4;return ve-Math.floor(ve)};return te.map((ae,ve)=>{const me=.8+(ae.count-se)/de*3,fe=15+he(ve*123)*70,Ee=20+he(ve*789)*60;let Fe="";return ae.type==="country"&&(Fe="text-sky-900/20 dark:text-sky-100/10"),ae.type==="province"&&(Fe="text-violet-900/20 dark:text-violet-100/10"),ae.type==="city"&&(Fe="text-teal-900/20 dark:text-teal-100/10"),{key:`wc-${ae.type}-${ae.text}`,text:ae.text,style:{left:`${fe}%`,top:`${Ee}%`,fontSize:`${me}rem`},colorClass:Fe}})},[n,f,a,e]);return m?T.jsxs("div",{ref:$,className:`relative overflow-hidden rounded-xl ${p?"bg-transparent":"bg-slate-100 dark:bg-[#0B1121]"} ${o} ${a&&D?"cursor-grabbing":a?"cursor-grab":""}`,onPointerDown:j,onPointerMove:ne,onPointerUp:oe,onPointerLeave:oe,onWheel:K,onDoubleClick:L,onTouchStart:P,onTouchMove:P,children:[Y.length>0&&T.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden select-none",children:Y.map(H=>T.jsx("div",{className:`absolute font-black leading-none whitespace-nowrap blur-[1px] ${H.colorClass}`,style:{...H.style,transform:"translate(-50%, -50%)"},children:H.text},H.key))}),T.jsxs("svg",{ref:z,width:O.width,height:O.height,className:`block w-full h-full touch-none relative z-10 ${a?"":"pointer-events-none"}`,children:[T.jsxs("defs",{children:[T.jsxs("radialGradient",{id:"globeGlow",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[T.jsx("stop",{offset:"80%",stopColor:"#3b82f6",stopOpacity:"0"}),T.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:"0.3"})]}),T.jsxs("linearGradient",{id:"landGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[T.jsx("stop",{offset:"0%",stopColor:"#cbd5e1",className:"dark:stop-color-slate-700"}),T.jsx("stop",{offset:"100%",stopColor:"#94a3b8",className:"dark:stop-color-slate-800"})]}),T.jsxs("linearGradient",{id:"flightGradient",gradientUnits:"userSpaceOnUse",children:[T.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),T.jsx("stop",{offset:"100%",stopColor:"#818cf8"})]})]}),T.jsx("path",{d:re({type:"Sphere"})||"",className:p?"fill-transparent":"fill-white dark:fill-slate-900"}),T.jsx("path",{d:re(_e)||"",className:"fill-none stroke-slate-200/50 dark:stroke-slate-700/30 stroke-[0.5]"}),T.jsx("path",{d:re(m)||"",fill:p?"currentColor":"url(#landGradient)",className:`${p?"text-slate-300 dark:text-slate-600":"stroke-white dark:stroke-slate-900"} stroke-[0.5]`}),!p&&T.jsx("path",{d:re({type:"Sphere"})||"",fill:"url(#globeGlow)",className:"pointer-events-none"}),N.map((H,te)=>T.jsxs("g",{children:[H.d&&T.jsx("path",{d:H.d,fill:"none",stroke:H.isHighlight?"#38bdf8":"currentColor",strokeWidth:H.isHighlight?a?3.5:4:1,strokeLinecap:"round",className:H.isHighlight?"opacity-30 blur-sm":"text-slate-300 dark:text-slate-700"}),H.d&&T.jsx("path",{d:H.d,fill:"none",stroke:H.isHighlight&&a?"url(#flightGradient)":"currentColor",strokeWidth:H.isHighlight?a?2.5:3:.5,strokeLinecap:"round",className:H.isHighlight?a?"animate-draw":"text-blue-500 dark:text-blue-400":"text-slate-400/50 dark:text-slate-600"})]},H.id+te)),q.map(H=>T.jsx("circle",{cx:H.cx,cy:H.cy,r:H.r,fill:H.fill,stroke:"white",strokeWidth:1.5,className:"dark:stroke-slate-900 drop-shadow-md"},H.key))]}),!p&&T.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-black/5 via-transparent to-transparent dark:from-[#0B1121]/80 z-20"})]}):T.jsx("div",{ref:$,className:`relative overflow-hidden rounded-xl bg-slate-100 dark:bg-[#0B1121] ${o} flex items-center justify-center`,children:a&&T.jsx("div",{className:"animate-pulse w-32 h-32 rounded-full bg-slate-200 dark:bg-slate-800"})})});function a1(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const o=document.implementation.createHTMLDocument(),l=o.createElement("base"),a=o.createElement("a");return o.head.appendChild(l),o.body.appendChild(a),e&&(l.href=e),a.href=n,a.href}const r1=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function Mi(n){const e=[];for(let o=0,l=n.length;o<l;o++)e.push(n[o]);return e}let Oo=null;function Fy(n={}){return Oo||(n.includeStyleProperties?(Oo=n.includeStyleProperties,Oo):(Oo=Mi(window.getComputedStyle(document.documentElement)),Oo))}function tr(n,e){const l=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return l?parseFloat(l.replace("px","")):0}function u1(n){const e=tr(n,"border-left-width"),o=tr(n,"border-right-width");return n.clientWidth+e+o}function c1(n){const e=tr(n,"border-top-width"),o=tr(n,"border-bottom-width");return n.clientHeight+e+o}function Yy(n,e={}){const o=e.width||u1(n),l=e.height||c1(n);return{width:o,height:l}}function f1(){let n,e;try{e=process}catch{}const o=e&&e.env?e.env.devicePixelRatio:null;return o&&(n=parseInt(o,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const Zt=16384;function d1(n){(n.width>Zt||n.height>Zt)&&(n.width>Zt&&n.height>Zt?n.width>n.height?(n.height*=Zt/n.width,n.width=Zt):(n.width*=Zt/n.height,n.height=Zt):n.width>Zt?(n.height*=Zt/n.width,n.width=Zt):(n.width*=Zt/n.height,n.height=Zt))}function nr(n){return new Promise((e,o)=>{const l=new Image;l.onload=()=>{l.decode().then(()=>{requestAnimationFrame(()=>e(l))})},l.onerror=o,l.crossOrigin="anonymous",l.decoding="async",l.src=n})}async function h1(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function p1(n,e,o){const l="http://www.w3.org/2000/svg",a=document.createElementNS(l,"svg"),u=document.createElementNS(l,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${o}`),a.setAttribute("viewBox",`0 0 ${e} ${o}`),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),a.appendChild(u),u.appendChild(n),h1(a)}const Ot=(n,e)=>{if(n instanceof e)return!0;const o=Object.getPrototypeOf(n);return o===null?!1:o.constructor.name===e.name||Ot(o,e)};function m1(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function g1(n,e){return Fy(e).map(o=>{const l=n.getPropertyValue(o),a=n.getPropertyPriority(o);return`${o}: ${l}${a?" !important":""};`}).join(" ")}function y1(n,e,o,l){const a=`.${n}:${e}`,u=o.cssText?m1(o):g1(o,l);return document.createTextNode(`${a}{${u}}`)}function w0(n,e,o,l){const a=window.getComputedStyle(n,o),u=a.getPropertyValue("content");if(u===""||u==="none")return;const f=r1();try{e.className=`${e.className} ${f}`}catch{return}const p=document.createElement("style");p.appendChild(y1(f,o,a,l)),e.appendChild(p)}function v1(n,e,o){w0(n,e,":before",o),w0(n,e,":after",o)}const D0="application/font-woff",I0="image/jpeg",S1={woff:D0,woff2:D0,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:I0,jpeg:I0,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function _1(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function Uf(n){const e=_1(n).toLowerCase();return S1[e]||""}function E1(n){return n.split(/,/)[1]}function hf(n){return n.search(/^(data:)/)!==-1}function T1(n,e){return`data:${e};base64,${n}`}async function Jy(n,e,o){const l=await fetch(n,e);if(l.status===404)throw new Error(`Resource "${l.url}" not found`);const a=await l.blob();return new Promise((u,f)=>{const p=new FileReader;p.onerror=f,p.onloadend=()=>{try{u(o({res:l,result:p.result}))}catch(y){f(y)}},p.readAsDataURL(a)})}const Bc={};function x1(n,e,o){let l=n.replace(/\?.*/,"");return o&&(l=n),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),e?`[${e}]${l}`:l}async function Lf(n,e,o){const l=x1(n,e,o.includeQueryParams);if(Bc[l]!=null)return Bc[l];o.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let a;try{const u=await Jy(n,o.fetchRequestInit,({res:f,result:p})=>(e||(e=f.headers.get("Content-Type")||""),E1(p)));a=T1(u,e)}catch(u){a=o.imagePlaceholder||"";let f=`Failed to fetch resource: ${n}`;u&&(f=typeof u=="string"?u:u.message),f&&console.warn(f)}return Bc[l]=a,a}async function C1(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):nr(e)}async function A1(n,e){if(n.currentSrc){const u=document.createElement("canvas"),f=u.getContext("2d");u.width=n.clientWidth,u.height=n.clientHeight,f==null||f.drawImage(n,0,0,u.width,u.height);const p=u.toDataURL();return nr(p)}const o=n.poster,l=Uf(o),a=await Lf(o,l,e);return nr(a)}async function b1(n,e){var o;try{if(!((o=n==null?void 0:n.contentDocument)===null||o===void 0)&&o.body)return await fr(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function R1(n,e){return Ot(n,HTMLCanvasElement)?C1(n):Ot(n,HTMLVideoElement)?A1(n,e):Ot(n,HTMLIFrameElement)?b1(n,e):n.cloneNode(Ky(n))}const N1=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",Ky=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function M1(n,e,o){var l,a;if(Ky(e))return e;let u=[];return N1(n)&&n.assignedNodes?u=Mi(n.assignedNodes()):Ot(n,HTMLIFrameElement)&&(!((l=n.contentDocument)===null||l===void 0)&&l.body)?u=Mi(n.contentDocument.body.childNodes):u=Mi(((a=n.shadowRoot)!==null&&a!==void 0?a:n).childNodes),u.length===0||Ot(n,HTMLVideoElement)||await u.reduce((f,p)=>f.then(()=>fr(p,o)).then(y=>{y&&e.appendChild(y)}),Promise.resolve()),e}function w1(n,e,o){const l=e.style;if(!l)return;const a=window.getComputedStyle(n);a.cssText?(l.cssText=a.cssText,l.transformOrigin=a.transformOrigin):Fy(o).forEach(u=>{let f=a.getPropertyValue(u);u==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),Ot(n,HTMLIFrameElement)&&u==="display"&&f==="inline"&&(f="block"),u==="d"&&e.getAttribute("d")&&(f=`path(${e.getAttribute("d")})`),l.setProperty(u,f,a.getPropertyPriority(u))})}function D1(n,e){Ot(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Ot(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function I1(n,e){if(Ot(n,HTMLSelectElement)){const l=Array.from(e.children).find(a=>n.value===a.getAttribute("value"));l&&l.setAttribute("selected","")}}function k1(n,e,o){return Ot(e,Element)&&(w1(n,e,o),v1(n,e,o),D1(n,e),I1(n,e)),e}async function U1(n,e){const o=n.querySelectorAll?n.querySelectorAll("use"):[];if(o.length===0)return n;const l={};for(let u=0;u<o.length;u++){const p=o[u].getAttribute("xlink:href");if(p){const y=n.querySelector(p),m=document.querySelector(p);!y&&m&&!l[p]&&(l[p]=await fr(m,e,!0))}}const a=Object.values(l);if(a.length){const u="http://www.w3.org/1999/xhtml",f=document.createElementNS(u,"svg");f.setAttribute("xmlns",u),f.style.position="absolute",f.style.width="0",f.style.height="0",f.style.overflow="hidden",f.style.display="none";const p=document.createElementNS(u,"defs");f.appendChild(p);for(let y=0;y<a.length;y++)p.appendChild(a[y]);n.appendChild(f)}return n}async function fr(n,e,o){return!o&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(l=>R1(l,e)).then(l=>M1(n,l,e)).then(l=>k1(n,l,e)).then(l=>U1(l,e))}const Xy=/url\((['"]?)([^'"]+?)\1\)/g,L1=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,z1=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function H1(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function G1(n){const e=[];return n.replace(Xy,(o,l,a)=>(e.push(a),o)),e.filter(o=>!hf(o))}async function P1(n,e,o,l,a){try{const u=o?a1(e,o):e,f=Uf(e);let p;return a||(p=await Lf(u,f,l)),n.replace(H1(e),`$1${p}$3`)}catch{}return n}function V1(n,{preferredFontFormat:e}){return e?n.replace(z1,o=>{for(;;){const[l,,a]=L1.exec(o)||[];if(!a)return"";if(a===e)return`src: ${l};`}}):n}function $y(n){return n.search(Xy)!==-1}async function Qy(n,e,o){if(!$y(n))return n;const l=V1(n,o);return G1(l).reduce((u,f)=>u.then(p=>P1(p,f,e,o)),Promise.resolve(l))}async function Bo(n,e,o){var l;const a=(l=e.style)===null||l===void 0?void 0:l.getPropertyValue(n);if(a){const u=await Qy(a,null,o);return e.style.setProperty(n,u,e.style.getPropertyPriority(n)),!0}return!1}async function q1(n,e){await Bo("background",n,e)||await Bo("background-image",n,e),await Bo("mask",n,e)||await Bo("-webkit-mask",n,e)||await Bo("mask-image",n,e)||await Bo("-webkit-mask-image",n,e)}async function O1(n,e){const o=Ot(n,HTMLImageElement);if(!(o&&!hf(n.src))&&!(Ot(n,SVGImageElement)&&!hf(n.href.baseVal)))return;const l=o?n.src:n.href.baseVal,a=await Lf(l,Uf(l),e);await new Promise((u,f)=>{n.onload=u,n.onerror=e.onImageErrorHandler?(...y)=>{try{u(e.onImageErrorHandler(...y))}catch(m){f(m)}}:f;const p=n;p.decode&&(p.decode=u),p.loading==="lazy"&&(p.loading="eager"),o?(n.srcset="",n.src=a):n.href.baseVal=a})}async function B1(n,e){const l=Mi(n.childNodes).map(a=>Zy(a,e));await Promise.all(l).then(()=>n)}async function Zy(n,e){Ot(n,Element)&&(await q1(n,e),await O1(n,e),await B1(n,e))}function F1(n,e){const{style:o}=n;e.backgroundColor&&(o.backgroundColor=e.backgroundColor),e.width&&(o.width=`${e.width}px`),e.height&&(o.height=`${e.height}px`);const l=e.style;return l!=null&&Object.keys(l).forEach(a=>{o[a]=l[a]}),n}const k0={};async function U0(n){let e=k0[n];if(e!=null)return e;const l=await(await fetch(n)).text();return e={url:n,cssText:l},k0[n]=e,e}async function L0(n,e){let o=n.cssText;const l=/url\(["']?([^"')]+)["']?\)/g,u=(o.match(/url\([^)]+\)/g)||[]).map(async f=>{let p=f.replace(l,"$1");return p.startsWith("https://")||(p=new URL(p,n.url).href),Jy(p,e.fetchRequestInit,({result:y})=>(o=o.replace(f,`url(${y})`),[f,y]))});return Promise.all(u).then(()=>o)}function z0(n){if(n==null)return[];const e=[],o=/(\/\*[\s\S]*?\*\/)/gi;let l=n.replace(o,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const y=a.exec(l);if(y===null)break;e.push(y[0])}l=l.replace(a,"");const u=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",p=new RegExp(f,"gi");for(;;){let y=u.exec(l);if(y===null){if(y=p.exec(l),y===null)break;u.lastIndex=p.lastIndex}else p.lastIndex=u.lastIndex;e.push(y[0])}return e}async function Y1(n,e){const o=[],l=[];return n.forEach(a=>{if("cssRules"in a)try{Mi(a.cssRules||[]).forEach((u,f)=>{if(u.type===CSSRule.IMPORT_RULE){let p=f+1;const y=u.href,m=U0(y).then(v=>L0(v,e)).then(v=>z0(v).forEach(S=>{try{a.insertRule(S,S.startsWith("@import")?p+=1:a.cssRules.length)}catch(_){console.error("Error inserting rule from remote css",{rule:S,error:_})}})).catch(v=>{console.error("Error loading remote css",v.toString())});l.push(m)}})}catch(u){const f=n.find(p=>p.href==null)||document.styleSheets[0];a.href!=null&&l.push(U0(a.href).then(p=>L0(p,e)).then(p=>z0(p).forEach(y=>{f.insertRule(y,f.cssRules.length)})).catch(p=>{console.error("Error loading remote stylesheet",p)})),console.error("Error inlining remote css file",u)}}),Promise.all(l).then(()=>(n.forEach(a=>{if("cssRules"in a)try{Mi(a.cssRules||[]).forEach(u=>{o.push(u)})}catch(u){console.error(`Error while reading CSS rules from ${a.href}`,u)}}),o))}function J1(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>$y(e.style.getPropertyValue("src")))}async function K1(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const o=Mi(n.ownerDocument.styleSheets),l=await Y1(o,e);return J1(l)}function Wy(n){return n.trim().replace(/["']/g,"")}function X1(n){const e=new Set;function o(l){(l.style.fontFamily||getComputedStyle(l).fontFamily).split(",").forEach(u=>{e.add(Wy(u))}),Array.from(l.children).forEach(u=>{u instanceof HTMLElement&&o(u)})}return o(n),e}async function $1(n,e){const o=await K1(n,e),l=X1(n);return(await Promise.all(o.filter(u=>l.has(Wy(u.style.fontFamily))).map(u=>{const f=u.parentStyleSheet?u.parentStyleSheet.href:null;return Qy(u.cssText,f,e)}))).join(`
`)}async function Q1(n,e){const o=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await $1(n,e);if(o){const l=document.createElement("style"),a=document.createTextNode(o);l.appendChild(a),n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)}}async function Z1(n,e={}){const{width:o,height:l}=Yy(n,e),a=await fr(n,e,!0);return await Q1(a,e),await Zy(a,e),F1(a,e),await p1(a,o,l)}async function W1(n,e={}){const{width:o,height:l}=Yy(n,e),a=await Z1(n,e),u=await nr(a),f=document.createElement("canvas"),p=f.getContext("2d"),y=e.pixelRatio||f1(),m=e.canvasWidth||o,v=e.canvasHeight||l;return f.width=m*y,f.height=v*y,e.skipAutoScale||d1(f),f.style.width=`${m}`,f.style.height=`${v}`,e.backgroundColor&&(p.fillStyle=e.backgroundColor,p.fillRect(0,0,f.width,f.height)),p.drawImage(u,0,0,f.width,f.height),f}async function j1(n,e={}){return(await W1(n,e)).toDataURL()}var eC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tC,nC;function iC(){return{geminiUrl:tC,vertexUrl:nC}}function oC(n,e,o,l){var a,u;if(!(n!=null&&n.baseUrl)){const f=iC();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:o:(u=f.geminiUrl)!==null&&u!==void 0?u:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei{}function ge(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(n,e,o){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(o))n[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];d(v,e.slice(u+1),o[m])}else for(const m of y)d(m,e.slice(u+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];d(y[0],e.slice(u+1),o);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=e[e.length-1],a=n[l];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return o;const a=e[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>c(p,e.slice(l+1),o)):o}else return o}else n=n[a]}return n}catch(l){if(l instanceof TypeError)return o;throw l}}function lC(n,e){for(const[o,l]of Object.entries(e)){const a=o.split("."),u=l.split("."),f=new Set;let p=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}pf(n,a,u,0,f)}}function pf(n,e,o,l,a){if(l>=e.length||typeof n!="object"||n===null)return;const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2),p=n;if(f in p&&Array.isArray(p[f]))for(const y of p[f])pf(y,e,o,l+1,a)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of p)y[m]=f[m];for(const[m,v]of Object.entries(y)){const S=[];for(const _ of o.slice(l))_==="*"?S.push(m):S.push(_);d(f,S,v)}for(const m of p)delete f[m]}}else{const f=n;u in f&&pf(f[u],e,o,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zf(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(n){const e={},o=c(n,["operationName"]);o!=null&&d(e,["operationName"],o);const l=c(n,["resourceName"]);return l!=null&&d(e,["_url","resourceName"],l),e}function aC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],uC(f)),e}function rC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],cC(f)),e}function uC(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>fC(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function cC(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>dC(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function fC(n){const e={},o=c(n,["video"]);return o!=null&&d(e,["video"],vC(o)),e}function dC(n){const e={},o=c(n,["_self"]);return o!=null&&d(e,["video"],SC(o)),e}function hC(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function pC(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function mC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],gC(f)),e}function gC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function jy(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],yC(f)),e}function yC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function vC(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],zf(l));const a=c(n,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function SC(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],zf(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var H0;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(H0||(H0={}));var G0;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(G0||(G0={}));var P0;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(P0||(P0={}));var Ni;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ni||(Ni={}));var V0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(V0||(V0={}));var q0;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(q0||(q0={}));var O0;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(O0||(O0={}));var B0;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(B0||(B0={}));var F0;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(F0||(F0={}));var Y0;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Y0||(Y0={}));var J0;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(J0||(J0={}));var K0;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(K0||(K0={}));var X0;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(X0||(X0={}));var $0;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})($0||($0={}));var Q0;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Q0||(Q0={}));var Z0;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Z0||(Z0={}));var W0;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(W0||(W0={}));var j0;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(j0||(j0={}));var eg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eg||(eg={}));var ir;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ir||(ir={}));var tg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tg||(tg={}));var ng;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ng||(ng={}));var ig;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ig||(ig={}));var mf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mf||(mf={}));var og;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(og||(og={}));var lg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lg||(lg={}));var sg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(sg||(sg={}));var ag;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ag||(ag={}));var rg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(rg||(rg={}));var ug;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ug||(ug={}));var cg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(cg||(cg={}));var fg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(fg||(fg={}));var dg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(dg||(dg={}));var hg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(hg||(hg={}));var pg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pg||(pg={}));var mg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mg||(mg={}));var gg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gg||(gg={}));var yg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yg||(yg={}));var vg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(vg||(vg={}));var Sg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Sg||(Sg={}));var _g;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(_g||(_g={}));var Eg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Eg||(Eg={}));var Tg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Tg||(Tg={}));var xg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(xg||(xg={}));var Cg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Cg||(Cg={}));var Ag;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ag||(Ag={}));var bg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bg||(bg={}));var Rg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Rg||(Rg={}));var Ng;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ng||(Ng={}));var Mg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mg||(Mg={}));var wg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wg||(wg={}));var Dg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Dg||(Dg={}));var Ig;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ig||(Ig={}));var kg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kg||(kg={}));var Ug;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ug||(Ug={}));var Ko;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ko||(Ko={}));class gf{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wl{get text(){var e,o,l,a,u,f,p,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const _ of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,b]of Object.entries(_))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&S.push(x);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,m+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,l,a,u,f,p,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[_,x]of Object.entries(S))_!=="inlineData"&&(x!==null||x!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,l,a,u,f,p,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,l,a,u,f,p,y,m;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,l,a,u,f,p,y,m;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Lg{}class zg{}class _C{}class EC{}class TC{}class xC{}class Hg{}class Gg{}class Pg{}class CC{}class or{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new or;let a;const u=e;return o?a=rC(u):a=aC(u),Object.assign(l,a),l}}class Vg{}class qg{}class Og{}class Bg{}class AC{}class bC{}class RC{}class Hf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Hf,u=mC(e);return Object.assign(l,u),l}}class NC{}class MC{}class wC{}class Fg{}class DC{get text(){var e,o,l;let a="",u=!1;const f=[];for(const p of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,o,l;let a="";const u=[];for(const f of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class IC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Gf,u=jy(e);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ev(n,e){const o=Be(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function tv(n){return Array.isArray(n)?n.map(e=>lr(e)):[lr(n)]}function lr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function nv(n){const e=lr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iv(n){const e=lr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function ov(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Yg(e)):[Yg(n)]}function yf(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Jg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Kg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function wt(n){if(n==null)throw new Error("ContentUnion is required");return yf(n)?n:{role:"user",parts:ov(n)}}function Pf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=wt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=wt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>wt(o)):[wt(e)]}function mn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Jg(n)||Kg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(n)]}const e=[],o=[],l=yf(n[0]);for(const a of n){const u=yf(a);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(Jg(a)||Kg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return l||e.push({role:"user",parts:ov(o)}),e}function kC(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Ni).includes(o[0].toUpperCase())?o[0].toUpperCase():Ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Ni).includes(l.toUpperCase())?l.toUpperCase():Ni.TYPE_UNSPECIFIED})}}function $o(n){const e={},o=["items"],l=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&kC(n.type,e);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Ni).includes(p.toUpperCase())?p.toUpperCase():Ni.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=$o(p);else if(l.includes(f)){const y=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}y.push($o(m))}e[f]=y}else if(a.includes(f)){const y={};for(const[m,v]of Object.entries(p))y[m]=$o(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=p}return e}function Vf(n){return $o(n)}function qf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Of(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function el(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$o(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$o(e.response));return n}function tl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function UC(n,e,o,l=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function ti(n,e){if(typeof e!="string")throw new Error("name must be a string");return UC(n,e,"cachedContents")}function lv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ki(n){return zf(n)}function LC(n){return n!=null&&typeof n=="object"&&"name"in n}function zC(n){return n!=null&&typeof n=="object"&&"video"in n}function HC(n){return n!=null&&typeof n=="object"&&"uri"in n}function sv(n){var e;let o;if(LC(n)&&(o=n.name),!(HC(n)&&(o=n.uri,o===void 0))&&!(zC(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function av(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function rv(n){for(const e of["models","tunedModels","publisherModels"])if(GC(n,e))return n[e];return[]}function GC(n,e){return n!==null&&typeof n=="object"&&e in n}function PC(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function VC(n,e={}){const o=[],l=new Set;for(const a of n){const u=a.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const f=PC(a,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function uv(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function qC(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cv(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let u=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function nl(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function fv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(n){const e={},o=c(n,["responsesFile"]);o!=null&&d(e,["fileName"],o);const l=c(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>TA(f))),d(e,["inlinedResponses"],u)}const a=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function BC(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&d(e,["format"],o);const l=c(n,["gcsDestination","outputUriPrefix"]);l!=null&&d(e,["gcsUri"],l);const a=c(n,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function FC(n){const e={},o=c(n,["format"]);o!=null&&d(e,["predictionsFormat"],o);const l=c(n,["gcsUri"]);l!=null&&d(e,["gcsDestination","outputUriPrefix"],l);const a=c(n,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fa(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata","displayName"]);l!=null&&d(e,["displayName"],l);const a=c(n,["metadata","state"]);a!=null&&d(e,["state"],fv(a));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const p=c(n,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const y=c(n,["metadata","model"]);y!=null&&d(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&d(e,["dest"],OC(cv(m))),e}function vf(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const a=c(n,["state"]);a!=null&&d(e,["state"],fv(a));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(e,["startTime"],p);const y=c(n,["endTime"]);y!=null&&d(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&d(e,["model"],v);const S=c(n,["inputConfig"]);S!=null&&d(e,["src"],YC(S));const _=c(n,["outputConfig"]);_!=null&&d(e,["dest"],BC(cv(_)));const x=c(n,["completionStats"]);return x!=null&&d(e,["completionStats"],x),e}function YC(n){const e={},o=c(n,["instancesFormat"]);o!=null&&d(e,["format"],o);const l=c(n,["gcsSource","uris"]);l!=null&&d(e,["gcsUri"],l);const a=c(n,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function JC(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(e,["fileName"]);l!=null&&d(o,["fileName"],l);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>EA(n,f))),d(o,["requests","requests"],u)}return o}function KC(n){const e={},o=c(n,["format"]);o!=null&&d(e,["instancesFormat"],o);const l=c(n,["gcsUri"]);l!=null&&d(e,["gcsSource","uris"],l);const a=c(n,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function XC(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function $C(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function QC(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function ZC(n){const e={},o=c(n,["content"]);o!=null&&d(e,["content"],o);const l=c(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],WC(l));const a=c(n,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>x)),d(e,["safetyRatings"],_)}const S=c(n,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function WC(n){const e={},o=c(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(e,["citations"],l)}return e}function dv(n){const e={},o=c(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>MA(u))),d(e,["parts"],a)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function jC(n,e){const o={},l=c(n,["displayName"]);if(e!==void 0&&l!=null&&d(e,["batch","displayName"],l),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function eA(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const a=c(n,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],FC(qC(a))),o}function Xg(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["src"]);a!=null&&d(o,["batch","inputConfig"],JC(n,uv(n,a)));const u=c(e,["config"]);return u!=null&&jC(u,o),o}function tA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],Be(n,l));const a=c(e,["src"]);a!=null&&d(o,["inputConfig"],KC(uv(n,a)));const u=c(e,["config"]);return u!=null&&eA(u,o),o}function nA(n,e){const o={},l=c(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["batch","displayName"],l),o}function iA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["src"]);a!=null&&d(o,["batch","inputConfig"],cA(n,a));const u=c(e,["config"]);return u!=null&&nA(u,o),o}function oA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function lA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function sA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function aA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function rA(n,e){const o={},l=c(e,["contents"]);if(l!=null){let u=Pf(n,l);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(d(o,["_self"],uA(a,o)),lC(o,{"requests[].*":"requests[].request.*"})),o}function uA(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function cA(n,e){const o={},l=c(e,["fileName"]);l!=null&&d(o,["file_name"],l);const a=c(e,["inlinedRequests"]);return a!=null&&d(o,["requests"],rA(n,a)),o}function fA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function dA(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hA(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pA(n,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],dv(wt(a)));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const x=c(e,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const b=c(e,["frequencyPenalty"]);b!=null&&d(l,["frequencyPenalty"],b);const D=c(e,["seed"]);D!=null&&d(l,["seed"],D);const M=c(e,["responseMimeType"]);M!=null&&d(l,["responseMimeType"],M);const k=c(e,["responseSchema"]);k!=null&&d(l,["responseSchema"],Vf(k));const $=c(e,["responseJsonSchema"]);if($!=null&&d(l,["responseJsonSchema"],$),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(o!==void 0&&z!=null){let ne=z;Array.isArray(ne)&&(ne=ne.map(oe=>wA(oe))),d(o,["safetySettings"],ne)}const O=c(e,["tools"]);if(o!==void 0&&O!=null){let ne=tl(O);Array.isArray(ne)&&(ne=ne.map(oe=>IA(el(oe)))),d(o,["tools"],ne)}const Z=c(e,["toolConfig"]);if(o!==void 0&&Z!=null&&d(o,["toolConfig"],DA(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);o!==void 0&&F!=null&&d(o,["cachedContent"],ti(n,F));const V=c(e,["responseModalities"]);V!=null&&d(l,["responseModalities"],V);const R=c(e,["mediaResolution"]);R!=null&&d(l,["mediaResolution"],R);const A=c(e,["speechConfig"]);if(A!=null&&d(l,["speechConfig"],qf(A)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=c(e,["thinkingConfig"]);I!=null&&d(l,["thinkingConfig"],I);const P=c(e,["imageConfig"]);P!=null&&d(l,["imageConfig"],_A(P));const j=c(e,["enableEnhancedCivicAnswers"]);return j!=null&&d(l,["enableEnhancedCivicAnswers"],j),l}function mA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>ZC(m))),d(e,["candidates"],y)}const a=c(n,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function gA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function yA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],nl(n,l)),o}function vA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function SA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function _A(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function EA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["request","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let p=mn(a);Array.isArray(p)&&(p=p.map(y=>dv(y))),d(o,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(o,["request","generationConfig"],pA(n,f,c(o,["request"],{}))),o}function TA(n){const e={},o=c(n,["response"]);o!=null&&d(e,["response"],mA(o));const l=c(n,["error"]);return l!=null&&d(e,["error"],l),e}function xA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function CA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),o}function AA(n){const e={},o=c(n,["config"]);return o!=null&&xA(o,e),e}function bA(n){const e={},o=c(n,["config"]);return o!=null&&CA(o,e),e}function RA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Fa(f))),d(e,["batchJobs"],u)}return e}function NA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>vf(f))),d(e,["batchJobs"],u)}return e}function MA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],fA(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],dA(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],XC(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function wA(n){const e={},o=c(n,["category"]);if(o!=null&&d(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function DA(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],hA(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function IA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],vA(p));const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],SA(y));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(jn||(jn={}));class no{constructor(e,o,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,a)}init(e,o,l){var a,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kA extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new no(jn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Xg(this.apiClient,e),l=o._url,a=ge("{model}:batchGenerateContent",l),p=o.batch.inputConfig.requests,y=p.requests,m=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=_,S.request=x}m.push(S)}return p.requests=m,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${a}`;else if(f)l.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=tA(this.apiClient,e);return p=ge("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>vf(v))}else{const m=Xg(this.apiClient,e);return p=ge("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Fa(v))}}async createEmbeddingsInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iA(this.apiClient,e);return u=ge("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>Fa(y))}}async get(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=yA(this.apiClient,e);return p=ge("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>vf(v))}else{const m=gA(this.apiClient,e);return p=ge("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Fa(v))}}async cancel(e){var o,l,a,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=QC(this.apiClient,e);f=ge("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=$C(this.apiClient,e);f=ge("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=bA(e);return p=ge("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=NA(v),_=new Fg;return Object.assign(_,S),_})}else{const m=AA(e);return p=ge("batches",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=RA(v),_=new Fg;return Object.assign(_,S),_})}}async delete(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=lA(this.apiClient,e);return p=ge("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>aA(v))}else{const m=oA(this.apiClient,e);return p=ge("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>sA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function $g(n){const e={},o=c(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>ib(u))),d(e,["parts"],a)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function LA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let v=mn(f);Array.isArray(v)&&(v=v.map(S=>$g(S))),d(e,["contents"],v)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],$g(wt(p)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>lb(S))),d(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],ob(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function zA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let S=mn(f);Array.isArray(S)&&(S=S.map(_=>_)),d(e,["contents"],S)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],wt(p));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>sb(_))),d(e,["tools"],S)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),o}function HA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],ev(n,l));const a=c(e,["config"]);return a!=null&&LA(a,o),o}function GA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],ev(n,l));const a=c(e,["config"]);return a!=null&&zA(a,o),o}function PA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],ti(n,l)),o}function VA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],ti(n,l)),o}function qA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function OA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function BA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function FA(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YA(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function JA(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function KA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],ti(n,l)),o}function XA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],ti(n,l)),o}function $A(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function QA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function ZA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function WA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function jA(n){const e={},o=c(n,["config"]);return o!=null&&ZA(o,e),e}function eb(n){const e={},o=c(n,["config"]);return o!=null&&WA(o,e),e}function tb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function nb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function ib(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],BA(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],FA(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],UA(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function ob(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],YA(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function lb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],$A(p));const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],QA(y));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function sb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>JA(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function ab(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),o}function rb(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),o}function ub(n,e){const o={},l=c(e,["name"]);l!=null&&d(o,["_url","name"],ti(n,l));const a=c(e,["config"]);return a!=null&&ab(a,o),o}function cb(n,e){const o={},l=c(e,["name"]);l!=null&&d(o,["_url","name"],ti(n,l));const a=c(e,["config"]);return a!=null&&rb(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fb extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new no(jn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=GA(this.apiClient,e);return p=ge("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=HA(this.apiClient,e);return p=ge("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=XA(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=KA(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=VA(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=OA(v),_=new Og;return Object.assign(_,S),_})}else{const m=PA(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=qA(v),_=new Og;return Object.assign(_,S),_})}}async update(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=cb(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=ub(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=eb(e);return p=ge("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=nb(v),_=new Bg;return Object.assign(_,S),_})}else{const m=jA(e);return p=ge("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=tb(v),_=new Bg;return Object.assign(_,S),_})}}}function sr(n,e){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(n);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(n,l[a])&&(o[l[a]]=n[l[a]]);return o}function Qg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(n){return this instanceof Ae?(this.v=n,this):new Ae(n)}function Tn(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(x){return function(b){return Promise.resolve(b).then(x,S)}}function p(x,b){l[x]&&(a[x]=function(D){return new Promise(function(M,k){u.push([x,D,M,k])>1||y(x,D)})},b&&(a[x]=b(a[x])))}function y(x,b){try{m(l[x](b))}catch(D){_(u[0][3],D)}}function m(x){x.value instanceof Ae?Promise.resolve(x.value.v).then(v,S):_(u[0][2],x)}function v(x){y("next",x)}function S(x){y("throw",x)}function _(x,b){x(b),u.shift(),u.length&&y(u[0][0],u[0][1])}}function xn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Qg=="function"?Qg(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=n[u]&&function(f){return new Promise(function(p,y){f=n[u](f),a(p,y,f.done,f.value)})}}function a(u,f,p,y){Promise.resolve(y).then(function(m){u({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function db(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:hv(o)}function hv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function hb(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Zg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const a=[];let u=!0;for(;l<o&&n[l].role==="model";)a.push(n[l]),u&&!hv(n[l])&&(u=!1),l++;u?e.push(...a):e.pop()}return e}class pb{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new mb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mb{constructor(e,o,l,a={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),hb(u)}async sendMessage(e){var o;await this.sendPromise;const l=wt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,p;const y=await a,m=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(p=v.slice(S))!==null&&p!==void 0?p:[]);const x=m?[m]:[];this.recordHistory(l,x,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const l=wt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,l)}getHistory(e=!1){const o=e?Zg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Tn(this,arguments,function*(){var a,u,f,p,y,m;const v=[];try{for(var S=!0,_=xn(e),x;x=yield Ae(_.next()),a=x.done,!a;S=!0){p=x.value,S=!1;const b=p;if(db(b)){const D=(m=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;D!==void 0&&v.push(D)}yield yield Ae(b)}}catch(b){u={error:b}}finally{try{!S&&!a&&(f=_.return)&&(yield Ae(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Zg(l)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,dr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(n){const e={},o=c(n,["file"]);return o!=null&&d(e,["file"],o),e}function yb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function vb(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],sv(o)),e}function Sb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function _b(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],sv(o)),e}function Eb(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function Tb(n){const e={},o=c(n,["config"]);return o!=null&&Eb(o,e),e}function xb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cb extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new no(jn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Tb(e);return u=ge("files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=xb(y),v=new NC;return Object.assign(v,m),v})}}async createInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gb(e);return u=ge("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=yb(y),v=new MC;return Object.assign(v,m),v})}}async get(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_b(e);return u=ge("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vb(e);return u=ge("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Sb(y),v=new wC;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ya(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Ab(n){const e={},o=c(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>qb(u))),d(e,["parts"],a)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function bb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Rb(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nb(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function Mb(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=c(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const a=c(n,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const S=c(n,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const x=c(n,["responseMimeType"]);x!=null&&d(e,["responseMimeType"],x);const b=c(n,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const D=c(n,["responseSchema"]);D!=null&&d(e,["responseSchema"],D);const M=c(n,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const k=c(n,["seed"]);k!=null&&d(e,["seed"],k);const $=c(n,["speechConfig"]);$!=null&&d(e,["speechConfig"],$);const z=c(n,["stopSequences"]);z!=null&&d(e,["stopSequences"],z);const O=c(n,["temperature"]);O!=null&&d(e,["temperature"],O);const Z=c(n,["thinkingConfig"]);Z!=null&&d(e,["thinkingConfig"],Z);const F=c(n,["topK"]);F!=null&&d(e,["topK"],F);const V=c(n,["topP"]);if(V!=null&&d(e,["topP"],V),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function Db(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function Ib(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Of(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],Ab(wt(b)));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let F=tl(D);Array.isArray(F)&&(F=F.map(V=>Bb(el(V)))),d(e,["setup","tools"],F)}const M=c(n,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],Ob(M));const k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const O=c(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function kb(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],Mb(l));const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Of(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],wt(b));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let V=tl(D);Array.isArray(V)&&(V=V.map(R=>Fb(el(R)))),d(e,["setup","tools"],V)}const M=c(n,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],M);const k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const O=c(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const Z=c(n,["proactivity"]);e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z);const F=c(n,["explicitVadSignal"]);return e!==void 0&&F!=null&&d(e,["setup","explicitVadSignal"],F),o}function Ub(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Be(n,l));const a=c(e,["config"]);return a!=null&&d(o,["config"],Ib(a,o)),o}function Lb(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Be(n,l));const a=c(e,["config"]);return a!=null&&d(o,["config"],kb(a,o)),o}function zb(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function Hb(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(e,["weightedPrompts"],l)}return e}function Gb(n){const e={},o=c(n,["media"]);if(o!=null){let m=tv(o);Array.isArray(m)&&(m=m.map(v=>Ya(v))),d(e,["mediaChunks"],m)}const l=c(n,["audio"]);l!=null&&d(e,["audio"],Ya(iv(l)));const a=c(n,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&d(e,["video"],Ya(nv(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Pb(n){const e={},o=c(n,["media"]);if(o!=null){let m=tv(o);Array.isArray(m)&&(m=m.map(v=>v)),d(e,["mediaChunks"],m)}const l=c(n,["audio"]);l!=null&&d(e,["audio"],iv(l));const a=c(n,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&d(e,["video"],nv(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function Vb(n){const e={},o=c(n,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const l=c(n,["serverContent"]);l!=null&&d(e,["serverContent"],l);const a=c(n,["toolCall"]);a!=null&&d(e,["toolCall"],a);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],Yb(f));const p=c(n,["goAway"]);p!=null&&d(e,["goAway"],p);const y=c(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);return m!=null&&d(e,["voiceActivityDetectionSignal"],m),e}function qb(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],bb(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],Rb(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Ya(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function Ob(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],wb(p));const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],Db(y));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function Fb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>Nb(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function Yb(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const l=c(n,["cachedContentTokenCount"]);l!=null&&d(e,["cachedContentTokenCount"],l);const a=c(n,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const p=c(n,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const y=c(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>b)),d(e,["promptTokensDetails"],x)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(b=>b)),d(e,["cacheTokensDetails"],x)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>b)),d(e,["responseTokensDetails"],x)}const S=c(n,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(b=>b)),d(e,["toolUsePromptTokensDetails"],x)}const _=c(n,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jb(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Kb(n){const e={},o=c(n,["content"]);o!=null&&d(e,["content"],o);const l=c(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],Xb(l));const a=c(n,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>x)),d(e,["safetyRatings"],_)}const S=c(n,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function Xb(n){const e={},o=c(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(e,["citations"],l)}return e}function $b(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let u=mn(a);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["contents"],u)}return o}function Qb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["tokensInfo"],a)}return e}function Zb(n){const e={},o=c(n,["values"]);o!=null&&d(e,["values"],o);const l=c(n,["statistics"]);return l!=null&&d(e,["statistics"],Wb(l)),e}function Wb(n){const e={},o=c(n,["truncated"]);o!=null&&d(e,["truncated"],o);const l=c(n,["token_count"]);return l!=null&&d(e,["tokenCount"],l),e}function hr(n){const e={},o=c(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>aN(u))),d(e,["parts"],a)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function jb(n){const e={},o=c(n,["controlType"]);o!=null&&d(e,["controlType"],o);const l=c(n,["enableControlImageComputation"]);return l!=null&&d(e,["computeControl"],l),e}function eR(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function tR(n,e){const o={},l=c(n,["systemInstruction"]);e!==void 0&&l!=null&&d(e,["systemInstruction"],wt(l));const a=c(n,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>yv(p))),d(e,["tools"],f)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],JR(u)),o}function nR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let f=mn(a);Array.isArray(f)&&(f=f.map(p=>hr(p))),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&eR(u),o}function iR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let f=mn(a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&tR(u,o),o}function oR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);l!=null&&d(e,["totalTokens"],l);const a=c(n,["cachedContentTokenCount"]);return a!=null&&d(e,["cachedContentTokenCount"],a),e}function lR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);return l!=null&&d(e,["totalTokens"],l),e}function sR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Be(n,l)),o}function aR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Be(n,l)),o}function rR(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function uR(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function cR(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const x=c(n,["language"]);e!==void 0&&x!=null&&d(e,["parameters","language"],x);const b=c(n,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const D=c(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&d(e,["parameters","outputOptions","compressionQuality"],D);const M=c(n,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const k=c(n,["labels"]);e!==void 0&&k!=null&&d(e,["labels"],k);const $=c(n,["editMode"]);e!==void 0&&$!=null&&d(e,["parameters","editMode"],$);const z=c(n,["baseSteps"]);return e!==void 0&&z!=null&&d(e,["parameters","editConfig","baseSteps"],z),o}function fR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>hN(y))),d(o,["instances[0]","referenceImages"],p)}const f=c(e,["config"]);return f!=null&&cR(f,o),o}function dR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>pr(u))),d(e,["generatedImages"],a)}return e}function hR(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function pR(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["instances[]","task_type"],l);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["instances[]","title"],a);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const f=c(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const p=c(n,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),o}function mR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let p=Pf(n,a);Array.isArray(p)&&(p=p.map(y=>y)),d(o,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&hR(u,o);const f=c(e,["model"]);return f!==void 0&&d(o,["requests[]","model"],Be(n,f)),o}function gR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let f=Pf(n,a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["instances[]","content"],f)}const u=c(e,["config"]);return u!=null&&pR(u,o),o}function yR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function vR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Zb(f))),d(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function SR(n){const e={},o=c(n,["endpoint"]);o!=null&&d(e,["name"],o);const l=c(n,["deployedModelId"]);return l!=null&&d(e,["deployedModelId"],l),e}function _R(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ER(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TR(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xR(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function CR(n,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],hr(wt(a)));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const x=c(e,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const b=c(e,["frequencyPenalty"]);b!=null&&d(l,["frequencyPenalty"],b);const D=c(e,["seed"]);D!=null&&d(l,["seed"],D);const M=c(e,["responseMimeType"]);M!=null&&d(l,["responseMimeType"],M);const k=c(e,["responseSchema"]);k!=null&&d(l,["responseSchema"],Vf(k));const $=c(e,["responseJsonSchema"]);if($!=null&&d(l,["responseJsonSchema"],$),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(o!==void 0&&z!=null){let ne=z;Array.isArray(ne)&&(ne=ne.map(oe=>pN(oe))),d(o,["safetySettings"],ne)}const O=c(e,["tools"]);if(o!==void 0&&O!=null){let ne=tl(O);Array.isArray(ne)&&(ne=ne.map(oe=>EN(el(oe)))),d(o,["tools"],ne)}const Z=c(e,["toolConfig"]);if(o!==void 0&&Z!=null&&d(o,["toolConfig"],_N(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);o!==void 0&&F!=null&&d(o,["cachedContent"],ti(n,F));const V=c(e,["responseModalities"]);V!=null&&d(l,["responseModalities"],V);const R=c(e,["mediaResolution"]);R!=null&&d(l,["mediaResolution"],R);const A=c(e,["speechConfig"]);if(A!=null&&d(l,["speechConfig"],qf(A)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=c(e,["thinkingConfig"]);I!=null&&d(l,["thinkingConfig"],I);const P=c(e,["imageConfig"]);P!=null&&d(l,["imageConfig"],ZR(P));const j=c(e,["enableEnhancedCivicAnswers"]);return j!=null&&d(l,["enableEnhancedCivicAnswers"],j),l}function AR(n,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],wt(a));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const x=c(e,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const b=c(e,["frequencyPenalty"]);b!=null&&d(l,["frequencyPenalty"],b);const D=c(e,["seed"]);D!=null&&d(l,["seed"],D);const M=c(e,["responseMimeType"]);M!=null&&d(l,["responseMimeType"],M);const k=c(e,["responseSchema"]);k!=null&&d(l,["responseSchema"],Vf(k));const $=c(e,["responseJsonSchema"]);$!=null&&d(l,["responseJsonSchema"],$);const z=c(e,["routingConfig"]);z!=null&&d(l,["routingConfig"],z);const O=c(e,["modelSelectionConfig"]);O!=null&&d(l,["modelConfig"],O);const Z=c(e,["safetySettings"]);if(o!==void 0&&Z!=null){let L=Z;Array.isArray(L)&&(L=L.map(X=>X)),d(o,["safetySettings"],L)}const F=c(e,["tools"]);if(o!==void 0&&F!=null){let L=tl(F);Array.isArray(L)&&(L=L.map(X=>yv(el(X)))),d(o,["tools"],L)}const V=c(e,["toolConfig"]);o!==void 0&&V!=null&&d(o,["toolConfig"],V);const R=c(e,["labels"]);o!==void 0&&R!=null&&d(o,["labels"],R);const A=c(e,["cachedContent"]);o!==void 0&&A!=null&&d(o,["cachedContent"],ti(n,A));const I=c(e,["responseModalities"]);I!=null&&d(l,["responseModalities"],I);const P=c(e,["mediaResolution"]);P!=null&&d(l,["mediaResolution"],P);const j=c(e,["speechConfig"]);j!=null&&d(l,["speechConfig"],qf(j));const ne=c(e,["audioTimestamp"]);ne!=null&&d(l,["audioTimestamp"],ne);const oe=c(e,["thinkingConfig"]);oe!=null&&d(l,["thinkingConfig"],oe);const K=c(e,["imageConfig"]);if(K!=null&&d(l,["imageConfig"],WR(K)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Wg(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let f=mn(a);Array.isArray(f)&&(f=f.map(p=>hr(p))),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(o,["generationConfig"],CR(n,u,o)),o}function jg(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["contents"]);if(a!=null){let f=mn(a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(o,["generationConfig"],AR(n,u,o)),o}function ey(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>Kb(m))),d(e,["candidates"],y)}const a=c(n,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function ty(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),d(e,["candidates"],m)}const a=c(n,["createTime"]);a!=null&&d(e,["createTime"],a);const u=c(n,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const p=c(n,["responseId"]);p!=null&&d(e,["responseId"],p);const y=c(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function bR(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const a=c(n,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const p=c(n,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const v=c(n,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const S=c(n,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const _=c(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=c(n,["imageSize"]);if(e!==void 0&&x!=null&&d(e,["parameters","sampleImageSize"],x),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function RR(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const x=c(n,["language"]);e!==void 0&&x!=null&&d(e,["parameters","language"],x);const b=c(n,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const D=c(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&d(e,["parameters","outputOptions","compressionQuality"],D);const M=c(n,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const k=c(n,["labels"]);e!==void 0&&k!=null&&d(e,["labels"],k);const $=c(n,["imageSize"]);e!==void 0&&$!=null&&d(e,["parameters","sampleImageSize"],$);const z=c(n,["enhancePrompt"]);return e!==void 0&&z!=null&&d(e,["parameters","enhancePrompt"],z),o}function NR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&bR(u,o),o}function MR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&RR(u,o),o}function wR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>OR(f))),d(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],mv(a)),e}function DR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>pr(f))),d(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],gv(a)),e}function IR(n,e){const o={},l=c(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(n,["durationSeconds"]);if(e!==void 0&&a!=null&&d(e,["parameters","durationSeconds"],a),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const p=c(n,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],mr(v));const S=c(n,["referenceImages"]);if(e!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(x=>UN(x))),d(e,["instances[0]","referenceImages"],_)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function kR(n,e){const o={},l=c(n,["numberOfVideos"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(n,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const f=c(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const p=c(n,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const m=c(n,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["pubsubTopic"]);e!==void 0&&S!=null&&d(e,["parameters","pubsubTopic"],S);const _=c(n,["negativePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","negativePrompt"],_);const x=c(n,["enhancePrompt"]);e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x);const b=c(n,["generateAudio"]);e!==void 0&&b!=null&&d(e,["parameters","generateAudio"],b);const D=c(n,["lastFrame"]);e!==void 0&&D!=null&&d(e,["instances[0]","lastFrame"],An(D));const M=c(n,["referenceImages"]);if(e!==void 0&&M!=null){let z=M;Array.isArray(z)&&(z=z.map(O=>LN(O))),d(e,["instances[0]","referenceImages"],z)}const k=c(n,["mask"]);e!==void 0&&k!=null&&d(e,["instances[0]","mask"],kN(k));const $=c(n,["compressionQuality"]);return e!==void 0&&$!=null&&d(e,["parameters","compressionQuality"],$),o}function UR(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],GR(f)),e}function LR(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],PR(f)),e}function zR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&d(o,["instances[0]","image"],mr(u));const f=c(e,["video"]);f!=null&&d(o,["instances[0]","video"],vv(f));const p=c(e,["source"]);p!=null&&VR(p,o);const y=c(e,["config"]);return y!=null&&IR(y,o),o}function HR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&d(o,["instances[0]","image"],An(u));const f=c(e,["video"]);f!=null&&d(o,["instances[0]","video"],Sv(f));const p=c(e,["source"]);p!=null&&qR(p,o);const y=c(e,["config"]);return y!=null&&kR(y,o),o}function GR(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>FR(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function PR(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>YR(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function VR(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],mr(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],vv(u)),o}function qR(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],An(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],Sv(u)),o}function OR(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["image"],jR(o));const l=c(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const a=c(n,["_self"]);return a!=null&&d(e,["safetyAttributes"],mv(a)),e}function pr(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["image"],pv(o));const l=c(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const a=c(n,["_self"]);a!=null&&d(e,["safetyAttributes"],gv(a));const u=c(n,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function BR(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["mask"],pv(o));const l=c(n,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["labels"],a)}return e}function FR(n){const e={},o=c(n,["video"]);return o!=null&&d(e,["video"],DN(o)),e}function YR(n){const e={},o=c(n,["_self"]);return o!=null&&d(e,["video"],IN(o)),e}function JR(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=c(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const a=c(n,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const S=c(n,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const x=c(n,["responseMimeType"]);x!=null&&d(e,["responseMimeType"],x);const b=c(n,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const D=c(n,["responseSchema"]);D!=null&&d(e,["responseSchema"],D);const M=c(n,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const k=c(n,["seed"]);k!=null&&d(e,["seed"],k);const $=c(n,["speechConfig"]);$!=null&&d(e,["speechConfig"],$);const z=c(n,["stopSequences"]);z!=null&&d(e,["stopSequences"],z);const O=c(n,["temperature"]);O!=null&&d(e,["temperature"],O);const Z=c(n,["thinkingConfig"]);Z!=null&&d(e,["thinkingConfig"],Z);const F=c(n,["topK"]);F!=null&&d(e,["topK"],F);const V=c(n,["topP"]);if(V!=null&&d(e,["topP"],V),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function KR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Be(n,l)),o}function XR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Be(n,l)),o}function $R(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function QR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function ZR(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function WR(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);l!=null&&d(e,["imageSize"],l);const a=c(n,["outputMimeType"]);a!=null&&d(e,["imageOutputOptions","mimeType"],a);const u=c(n,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function jR(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],ki(o));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function pv(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["imageBytes"],ki(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function mr(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],ki(o));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function An(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["imageBytes"]);l!=null&&d(e,["bytesBase64Encoded"],ki(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function eN(n,e,o){const l={},a=c(e,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(e,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],av(n,p)),l}function tN(n,e,o){const l={},a=c(e,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(e,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],av(n,p)),l}function nN(n,e){const o={},l=c(e,["config"]);return l!=null&&eN(n,l,o),o}function iN(n,e){const o={},l=c(e,["config"]);return l!=null&&tN(n,l,o),o}function oN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["_self"]);if(a!=null){let u=rv(a);Array.isArray(u)&&(u=u.map(f=>Sf(f))),d(e,["models"],u)}return e}function lN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["_self"]);if(a!=null){let u=rv(a);Array.isArray(u)&&(u=u.map(f=>_f(f))),d(e,["models"],u)}return e}function sN(n){const e={},o=c(n,["maskMode"]);o!=null&&d(e,["maskMode"],o);const l=c(n,["segmentationClasses"]);l!=null&&d(e,["maskClasses"],l);const a=c(n,["maskDilation"]);return a!=null&&d(e,["dilation"],a),e}function Sf(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const a=c(n,["description"]);a!=null&&d(e,["description"],a);const u=c(n,["version"]);u!=null&&d(e,["version"],u);const f=c(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],TN(f));const p=c(n,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const y=c(n,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const m=c(n,["supportedGenerationMethods"]);m!=null&&d(e,["supportedActions"],m);const v=c(n,["temperature"]);v!=null&&d(e,["temperature"],v);const S=c(n,["maxTemperature"]);S!=null&&d(e,["maxTemperature"],S);const _=c(n,["topP"]);_!=null&&d(e,["topP"],_);const x=c(n,["topK"]);x!=null&&d(e,["topK"],x);const b=c(n,["thinking"]);return b!=null&&d(e,["thinking"],b),e}function _f(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const a=c(n,["description"]);a!=null&&d(e,["description"],a);const u=c(n,["versionId"]);u!=null&&d(e,["version"],u);const f=c(n,["deployedModels"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(_=>SR(_))),d(e,["endpoints"],S)}const p=c(n,["labels"]);p!=null&&d(e,["labels"],p);const y=c(n,["_self"]);y!=null&&d(e,["tunedModelInfo"],xN(y));const m=c(n,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const v=c(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>_)),d(e,["checkpoints"],S)}return e}function aN(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],_R(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],ER(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Jb(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function rN(n){const e={},o=c(n,["productImage"]);return o!=null&&d(e,["image"],An(o)),e}function uN(n,e){const o={},l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const a=c(n,["baseSteps"]);e!==void 0&&a!=null&&d(e,["parameters","baseSteps"],a);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const p=c(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&d(e,["parameters","addWatermark"],m);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const S=c(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S);const _=c(n,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const x=c(n,["labels"]);return e!==void 0&&x!=null&&d(e,["labels"],x),o}function cN(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["source"]);a!=null&&dN(a,o);const u=c(e,["config"]);return u!=null&&uN(u,o),o}function fN(n){const e={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>pr(a))),d(e,["generatedImages"],l)}return e}function dN(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const a=c(n,["personImage"]);e!==void 0&&a!=null&&d(e,["instances[0]","personImage","image"],An(a));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>rN(p))),d(e,["instances[0]","productImages"],f)}return o}function hN(n){const e={},o=c(n,["referenceImage"]);o!=null&&d(e,["referenceImage"],An(o));const l=c(n,["referenceId"]);l!=null&&d(e,["referenceId"],l);const a=c(n,["referenceType"]);a!=null&&d(e,["referenceType"],a);const u=c(n,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],sN(u));const f=c(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],jb(f));const p=c(n,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const y=c(n,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],y),e}function mv(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const a=c(n,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function gv(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const a=c(n,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function pN(n){const e={},o=c(n,["category"]);if(o!=null&&d(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function mN(n){const e={},o=c(n,["image"]);return o!=null&&d(e,["image"],An(o)),e}function gN(n,e){const o={},l=c(n,["mode"]);e!==void 0&&l!=null&&d(e,["parameters","mode"],l);const a=c(n,["maxPredictions"]);e!==void 0&&a!=null&&d(e,["parameters","maxPredictions"],a);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const f=c(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const p=c(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const y=c(n,["labels"]);return e!==void 0&&y!=null&&d(e,["labels"],y),o}function yN(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["source"]);a!=null&&SN(a,o);const u=c(e,["config"]);return u!=null&&gN(u,o),o}function vN(n){const e={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>BR(a))),d(e,["generatedMasks"],l)}return e}function SN(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],An(a));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],mN(u)),o}function _N(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],TR(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function EN(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],$R(p));const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],QR(y));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function yv(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>xR(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const y=c(n,["googleMaps"]);y!=null&&d(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function TN(n){const e={},o=c(n,["baseModel"]);o!=null&&d(e,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&d(e,["createTime"],l);const a=c(n,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function xN(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(e,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&d(e,["createTime"],l);const a=c(n,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function CN(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const a=c(n,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function AN(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const a=c(n,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function bN(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","name"],Be(n,l));const a=c(e,["config"]);return a!=null&&CN(a,o),o}function RN(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["config"]);return a!=null&&AN(a,o),o}function NN(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const a=c(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const f=c(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const p=c(n,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(n,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const _=c(n,["numberOfImages"]);e!==void 0&&_!=null&&d(e,["parameters","sampleCount"],_);const x=c(n,["mode"]);return e!==void 0&&x!=null&&d(e,["parameters","mode"],x),o}function MN(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Be(n,l));const a=c(e,["image"]);a!=null&&d(o,["instances[0]","image"],An(a));const u=c(e,["upscaleFactor"]);u!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(e,["config"]);return f!=null&&NN(f,o),o}function wN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>pr(u))),d(e,["generatedImages"],a)}return e}function DN(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],ki(l));const a=c(n,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function IN(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],ki(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function kN(n){const e={},o=c(n,["image"]);o!=null&&d(e,["_self"],An(o));const l=c(n,["maskMode"]);return l!=null&&d(e,["maskMode"],l),e}function UN(n){const e={},o=c(n,["image"]);o!=null&&d(e,["image"],mr(o));const l=c(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function LN(n){const e={},o=c(n,["image"]);o!=null&&d(e,["image"],An(o));const l=c(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function vv(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["videoBytes"]);l!=null&&d(e,["encodedVideo"],ki(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["encoding"],a),e}function Sv(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["videoBytes"]);l!=null&&d(e,["bytesBase64Encoded"],ki(l));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zN(n,e){const o={},l=c(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["displayName"],l),o}function HN(n){const e={},o=c(n,["config"]);return o!=null&&zN(o,e),e}function GN(n,e){const o={},l=c(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function PN(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=c(n,["config"]);return l!=null&&GN(l,e),e}function VN(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function qN(n,e){const o={},l=c(n,["customMetadata"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const a=c(n,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),o}function ON(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],FN(f)),e}function BN(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=c(n,["fileName"]);l!=null&&d(e,["fileName"],l);const a=c(n,["config"]);return a!=null&&qN(a,e),e}function FN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function YN(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function JN(n){const e={},o=c(n,["config"]);return o!=null&&YN(o,e),e}function KN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function _v(n,e){const o={},l=c(n,["mimeType"]);e!==void 0&&l!=null&&d(e,["mimeType"],l);const a=c(n,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),d(e,["customMetadata"],p)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function XN(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=c(n,["config"]);return l!=null&&_v(l,e),e}function $N(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QN="Content-Type",ZN="X-Server-Timeout",WN="User-Agent",Ef="x-goog-api-client",jN="1.34.0",eM=`google-genai-sdk/${jN}`,tM="v1beta1",nM="v1beta";class iM{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:tM,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:nM,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const a=[this.getRequestUrlInternal(o)];return l&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))a.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(o))typeof u=="object"?l[a]=Object.assign(Object.assign({},l[a]),u):u!==void 0&&(l[a]=u);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,a){if(o&&o.timeout||a){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=f}return o&&o.extraBody!==null&&oM(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await ny(a),new gf(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await ny(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Tn(this,arguments,function*(){var l;const a=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Ae(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=u.decode(v,{stream:!0});try{const b=JSON.parse(S);if("error"in b){const D=JSON.parse(JSON.stringify(b.error)),M=D.status,k=D.code,$=`got status: ${M}. ${JSON.stringify(b)}`;if(k>=400&&k<600)throw new dr({message:$,status:k})}}catch(b){if(b.name==="ApiError")throw b}f+=S;let _=-1,x=0;for(;;){_=-1,x=0;for(const M of y){const k=f.indexOf(M);k!==-1&&(_===-1||k<_)&&(_=k,x=M.length)}if(_===-1)break;const b=f.substring(0,_);f=f.substring(_+x);const D=b.trim();if(D.startsWith(p)){const M=D.substring(p.length).trim();try{const k=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ae(new gf(k))}catch(k){throw new Error(`exception parsing stream chunk ${M}. ${k}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=eM+" "+this.clientOptions.userAgentExtra;return e[WN]=o,e[Ef]=o,e[QN]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))l.append(a,u);e.timeout&&e.timeout>0&&l.append(ZN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);a.sizeBytes=String(f.size);const p=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y={file:a},m=this.getFileName(e),v=ge("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(e,S,this)}async uploadFileToFileSearchStore(e,o,l){var a;const u=this.clientOptions.uploader,f=await u.stat(o),p=String(f.size),y=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),S={};l!=null&&_v(l,S);const _=await this.fetchUploadUrl(m,p,y,v,S,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,a,u,f){var p;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ny(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(l);throw o>=400&&o<600?new dr({message:a,status:o}):new Error(a)}}function oM(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,f){const p=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const m=f[y],v=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=l(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const a=l(o,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lM="mcp_used/unknown";let sM=!1;function Ev(n){for(const e of n)if(aM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sM}function Tv(n){var e;const o=(e=n[Ef])!==null&&e!==void 0?e:"";n[Ef]=(o+` ${lM}`).trimStart()}function aM(n){return n!==null&&typeof n=="object"&&n instanceof Bf}function rM(n){return Tn(this,arguments,function*(o,l=100){let a,u=0;for(;u<l;){const f=yield Ae(o.listTools({cursor:a}));for(const p of f.tools)yield yield Ae(p),u++;if(!f.nextCursor)break;a=f.nextCursor}})}class Bf{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Bf(e,o)}async initialize(){var e,o,l,a;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,y=(o=void 0,xn(rM(v))),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const S=a;f.push(S);const _=S.name;if(u[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);u[_]=v}}catch(S){o={error:S}}finally{try{!p&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),VC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await a.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uM(n,e,o){const l=new IC;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(l,a),e(l)}class cM{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=hM(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(z=>{m=z}),S=e.callbacks,_=function(){m({})},x=this.apiClient,b={onopen:_,onmessage:z=>{uM(x,S.onmessage,z)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(z){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(z){}},D=this.webSocketFactory.create(y,dM(f),b);D.connect(),await v;const $={setup:{model:Be(this.apiClient,e.model)}};return D.send(JSON.stringify($)),new fM(D,this.apiClient)}}class fM{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Hb(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=zb(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ko.PLAY)}pause(){this.sendPlaybackControl(Ko.PAUSE)}stop(){this.sendPlaybackControl(Ko.STOP)}resetContext(){this.sendPlaybackControl(Ko.RESET_CONTEXT)}close(){this.conn.close()}}function dM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function hM(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mM(n,e,o){const l=new DC;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(n.isVertexAI()){const f=Vb(u);Object.assign(l,f)}else Object.assign(l,u);e(l)}class gM{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new cM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,a,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&Ev(e.config.tools)&&Tv(S);const _=_M(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const A=this.apiClient.getApiKey();let I="BidiGenerateContent",P="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",P="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${I}?${P}=${A}`}let x=()=>{};const b=new Promise(A=>{x=A}),D=e.callbacks,M=function(){var A;(A=D==null?void 0:D.onopen)===null||A===void 0||A.call(D),x({})},k=this.apiClient,$={onopen:M,onmessage:A=>{mM(k,D.onmessage,A)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(A){},onclose:(l=D==null?void 0:D.onclose)!==null&&l!==void 0?l:function(A){}},z=this.webSocketFactory.create(v,SM(_),$);z.connect(),await b;let O=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const A=this.apiClient.getProject(),I=this.apiClient.getLocation();O=`projects/${A}/locations/${I}/`+O}let Z={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ir.AUDIO]}:e.config.responseModalities=[ir.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],V=[];for(const A of F)if(this.isCallableTool(A)){const I=A;V.push(await I.tool())}else V.push(A);V.length>0&&(e.config.tools=V);const R={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=Lb(this.apiClient,R):Z=Ub(this.apiClient,R),delete Z.config,z.send(JSON.stringify(Z)),new vM(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yM={turnComplete:!0};class vM{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=mn(o.turns),e.isVertexAI()||(l=l.map(a=>hr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(pM)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},yM),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Pb(e)}:o={realtimeInput:Gb(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function SM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function _M(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iy=10;function oy(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Qo(f)){a=!0;break}if(!a)return!0;const u=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Qo(n){return"callTool"in n&&typeof n.callTool=="function"}function EM(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>Qo(a)))!==null&&l!==void 0?l:!1}function ly(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,a)=>{if(Qo(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function sy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TM extends ei{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,a,u,f,p;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!EM(o)||oy(o.config))return await this.generateContentInternal(y);const m=ly(o);if(m.length>0){const D=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let v,S;const _=mn(y.contents),x=(u=(a=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:iy;let b=0;for(;b<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const D=v.candidates[0].content,M=[];for(const k of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Qo(k)){const z=await k.callTool(v.functionCalls);M.push(...z)}b++,S={role:"user",parts:M},y.contents=mn(y.contents),y.contents.push(D),y.contents.push(S),sy(y.config)&&(_.push(D),_.push(S))}return sy(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var l,a,u,f,p;if(this.maybeMoveToResponseJsonSchem(o),oy(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=ly(o);if(y.length>0){const S=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var a;let u;const f=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async o=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new no(jn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var l,a,u,f,p,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(p=o.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,a;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const f=await Promise.all(u.map(async y=>Qo(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&Ev(e.config.tools)){const y=(a=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Tv(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var o,l,a;const u=new Map;for(const f of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Qo(f)){const p=f,y=await p.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,p)}}return u}async processAfcStream(e){var o,l,a;const u=(a=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:iy;let f=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(m,v,S){return Tn(this,arguments,function*(){for(var _,x,b,D,M,k;p<u;){f&&(p++,f=!1);const Z=yield Ae(m.processParamsMaybeAddMcpUsage(S)),F=yield Ae(m.generateContentStreamInternal(Z)),V=[],R=[];try{for(var $=!0,z=(x=void 0,xn(F)),O;O=yield Ae(z.next()),_=O.done,!_;$=!0){D=O.value,$=!1;const A=D;if(yield yield Ae(A),A.candidates&&(!((M=A.candidates[0])===null||M===void 0)&&M.content)){R.push(A.candidates[0].content);for(const I of(k=A.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(p<u&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(I.functionCall.name)){const P=yield Ae(v.get(I.functionCall.name).callTool([I.functionCall]));V.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(A){x={error:A}}finally{try{!$&&!_&&(b=z.return)&&(yield Ae(b.call(z)))}finally{if(x)throw x.error}}if(V.length>0){f=!0;const A=new Wl;A.candidates=[{content:{role:"user",parts:V}}],yield yield Ae(A);const I=[];I.push(...R),I.push({role:"user",parts:V});const P=mn(S.contents).concat(I);S.contents=P}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=jg(this.apiClient,e);return p=ge("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=ty(v),_=new Wl;return Object.assign(_,S),_})}else{const m=Wg(this.apiClient,e);return p=ge("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=ey(v),_=new Wl;return Object.assign(_,S),_})}}async generateContentStreamInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=jg(this.apiClient,e);return p=ge("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(S){return Tn(this,arguments,function*(){var _,x,b,D;try{for(var M=!0,k=xn(S),$;$=yield Ae(k.next()),_=$.done,!_;M=!0){D=$.value,M=!1;const z=D,O=ty(yield Ae(z.json()));O.sdkHttpResponse={headers:z.headers};const Z=new Wl;Object.assign(Z,O),yield yield Ae(Z)}}catch(z){x={error:z}}finally{try{!M&&!_&&(b=k.return)&&(yield Ae(b.call(k)))}finally{if(x)throw x.error}}})})}else{const m=Wg(this.apiClient,e);return p=ge("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(S){return Tn(this,arguments,function*(){var _,x,b,D;try{for(var M=!0,k=xn(S),$;$=yield Ae(k.next()),_=$.done,!_;M=!0){D=$.value,M=!1;const z=D,O=ey(yield Ae(z.json()));O.sdkHttpResponse={headers:z.headers};const Z=new Wl;Object.assign(Z,O),yield yield Ae(Z)}}catch(z){x={error:z}}finally{try{!M&&!_&&(b=k.return)&&(yield Ae(b.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=gR(this.apiClient,e);return p=ge("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=vR(v),_=new Lg;return Object.assign(_,S),_})}else{const m=mR(this.apiClient,e);return p=ge("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=yR(v),_=new Lg;return Object.assign(_,S),_})}}async generateImagesInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=MR(this.apiClient,e);return p=ge("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=DR(v),_=new zg;return Object.assign(_,S),_})}else{const m=NR(this.apiClient,e);return p=ge("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=wR(v),_=new zg;return Object.assign(_,S),_})}}async editImageInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=fR(this.apiClient,e);return u=ge("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=dR(y),v=new _C;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=MN(this.apiClient,e);return u=ge("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=wN(y),v=new EC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=cN(this.apiClient,e);return u=ge("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=fN(y),v=new TC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=yN(this.apiClient,e);return u=ge("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=vN(y),v=new xC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=XR(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>_f(v))}else{const m=KR(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Sf(v))}}async listInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=iN(this.apiClient,e);return p=ge("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=lN(v),_=new Hg;return Object.assign(_,S),_})}else{const m=nN(this.apiClient,e);return p=ge("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=oN(v),_=new Hg;return Object.assign(_,S),_})}}async update(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=RN(this.apiClient,e);return p=ge("{model}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>_f(v))}else{const m=bN(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Sf(v))}}async delete(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=aR(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=uR(v),_=new Gg;return Object.assign(_,S),_})}else{const m=sR(this.apiClient,e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=rR(v),_=new Gg;return Object.assign(_,S),_})}}async countTokens(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=iR(this.apiClient,e);return p=ge("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=lR(v),_=new Pg;return Object.assign(_,S),_})}else{const m=nR(this.apiClient,e);return p=ge("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=oR(v),_=new Pg;return Object.assign(_,S),_})}}async computeTokens(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=$b(this.apiClient,e);return u=ge("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Qb(y),v=new CC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=HR(this.apiClient,e);return p=ge("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const S=LR(v),_=new or;return Object.assign(_,S),_})}else{const m=zR(this.apiClient,e);return p=ge("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const S=UR(v),_=new or;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xM extends ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=pC(e);return p=ge("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f}else{const m=hC(e);return p=ge("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=sC(e);return u=ge("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function AM(n){const e={},o=c(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>UM(u))),d(e,["parts"],a)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function bM(n,e,o){const l={},a=c(e,["expireTime"]);o!==void 0&&a!=null&&d(o,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const p=c(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&d(o,["bidiGenerateContentSetup"],kM(n,p));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),l}function RM(n,e){const o={},l=c(e,["config"]);return l!=null&&d(o,["config"],bM(n,l,o)),o}function NM(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function MM(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wM(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function DM(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function IM(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Of(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],AM(wt(b)));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let F=tl(D);Array.isArray(F)&&(F=F.map(V=>zM(el(V)))),d(e,["setup","tools"],F)}const M=c(n,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],LM(M));const k=c(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const O=c(n,["contextWindowCompression"]);e!==void 0&&O!=null&&d(e,["setup","contextWindowCompression"],O);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function kM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Be(n,l));const a=c(e,["config"]);return a!=null&&d(o,["config"],IM(a,o)),o}function UM(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],NM(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],MM(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],CM(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function LM(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zM(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],wM(p));const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],DM(y));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(u=>`${o}.${u}`);e.push(...a)}else e.push(o)}return e.join(",")}function GM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(o){const u=HM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class PM extends ei{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=RM(this.apiClient,e);u=ge("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=GM(p,e.config);return a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VM(n,e){const o={},l=c(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function qM(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=c(n,["config"]);return l!=null&&VM(l,e),e}function OM(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function BM(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function FM(n){const e={},o=c(n,["parent"]);o!=null&&d(e,["_url","parent"],o);const l=c(n,["config"]);return l!=null&&BM(l,e),e}function YM(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const a=c(n,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JM extends ei{constructor(e){super(),this.apiClient=e,this.list=async o=>new no(jn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=OM(e);return u=ge("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=qM(e);a=ge("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FM(e);return u=ge("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=YM(y),v=new AC;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KM extends ei{constructor(e,o=new JM(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new no(jn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=HN(e);return u=ge("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VN(e);return u=ge("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=PN(e);a=ge("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JN(e);return u=ge("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=KN(y),v=new bC;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XN(e);return u=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=$N(y),v=new RC;return Object.assign(v,m),v})}}async importFile(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=BN(e);return u=ge("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=ON(y),v=new Hf;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return xv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const XM=()=>xv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const xf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class kt extends yn{constructor(e,o,l,a){super(`${kt.makeMessage(e,o,l)}`),this.status=e,this.headers=a,this.error=o}static makeMessage(e,o,l){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,o,l,a){if(!e||!a)return new gr({message:l,cause:xf(o)});const u=o;return e===400?new Av(e,u,l,a):e===401?new bv(e,u,l,a):e===403?new Rv(e,u,l,a):e===404?new Nv(e,u,l,a):e===409?new Mv(e,u,l,a):e===422?new wv(e,u,l,a):e===429?new Dv(e,u,l,a):e>=500?new Iv(e,u,l,a):new kt(e,u,l,a)}}class Cf extends kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gr extends kt{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Cv extends gr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Av extends kt{}class bv extends kt{}class Rv extends kt{}class Nv extends kt{}class Mv extends kt{}class wv extends kt{}class Dv extends kt{}class Iv extends kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $M=/^[a-z][a-z0-9+.-]*:/i,QM=n=>$M.test(n);let Af=n=>(Af=Array.isArray,Af(n));const ZM=Af;let WM=ZM;const ay=WM;function jM(n){if(!n)return!0;for(const e in n)return!1;return!0}function ew(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const tw=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yn(`${n} must be an integer`);if(e<0)throw new yn(`${n} must be a positive integer`);return e},nw=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iw=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ow(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lw=()=>{var n,e,o,l,a;const u=ow();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fo,"X-Stainless-OS":uy(Deno.build.os),"X-Stainless-Arch":ry(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fo,"X-Stainless-OS":uy((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":ry((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=sw();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sw(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const l=o.exec(navigator.userAgent);if(l){const a=l[1]||0,u=l[2]||0,f=l[3]||0;return{browser:e,version:`${a}.${u}.${f}`}}}return null}const ry=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",uy=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let La;const aw=()=>La??(La=lw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function uw(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return kv({start(){},async pull(o){const{done:l,value:a}=await e.next();l?o.close():o.enqueue(a)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Uv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cw(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const l=n.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fw=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fc(n,e,o){return Lv(),new File(n,e??"unknown_file",o)}function dw(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const hw=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",pw=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&zv(n),mw=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function gw(n,e,o){if(Lv(),n=await n,pw(n))return n instanceof File?n:Fc([await n.arrayBuffer()],n.name);if(mw(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Fc(await bf(a),e,o)}const l=await bf(n);if(e||(e=dw(n)),!(o!=null&&o.type)){const a=l.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return Fc(l,e,o)}async function bf(n){var e,o,l,a,u;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(zv(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(hw(n))try{for(var p=!0,y=xn(n),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const v=a;f.push(...await bf(v))}}catch(v){o={error:v}}finally{try{!p&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${yw(n)}`)}return f}function yw(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv{constructor(e){this._client=e}}Hv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cy=Object.freeze(Object.create(null)),vw=(n=Gv)=>(function(o,...l){if(o.length===1)return o[0];let a=!1;const u=[],f=o.reduce((v,S,_)=>{var x,b,D;/[?#]/.test(S)&&(a=!0);const M=l[_];let k=(a?encodeURIComponent:n)(""+M);return _!==l.length&&(M==null||typeof M=="object"&&M.toString===((D=Object.getPrototypeOf((b=Object.getPrototypeOf((x=M.hasOwnProperty)!==null&&x!==void 0?x:cy))!==null&&b!==void 0?b:cy))===null||D===void 0?void 0:D.toString))&&(k=M+"",u.push({start:v.length+S.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+S+(_===l.length?"":k)},""),p=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(p))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,S)=>v.start-S.start),u.length>0){let v=0;const S=u.reduce((_,x)=>{const b=" ".repeat(x.start-v),D="^".repeat(x.length);return v=x.start+x.length,_+b+D},"");throw new yn(`Path parameters result in path with invalid segments:
${u.map(_=>_.error).join(`
`)}
${f}
${S}`)}return f}),za=vw(Gv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pv extends Hv{create(e,o){var l;const{api_version:a=this._client.apiVersion}=e,u=sr(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(za`/${a}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,o={},l){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(za`/${a}/interactions/${e}`,l)}cancel(e,o={},l){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(za`/${a}/interactions/${e}/cancel`,l)}get(e,o={},l){var a;const u=o??{},{api_version:f=this._client.apiVersion}=u,p=sr(u,["api_version"]);return this._client.get(za`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},l),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}Pv._key=Object.freeze(["interactions"]);class Vv extends Pv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(n){let e=0;for(const a of n)e+=a.length;const o=new Uint8Array(e);let l=0;for(const a of n)o.set(a,l),l+=a.length;return o}let Ha;function Ff(n){let e;return(Ha??(e=new globalThis.TextEncoder,Ha=e.encode.bind(e)))(n)}let Ga;function fy(n){let e;return(Ga??(e=new globalThis.TextDecoder,Ga=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ff(e):e;this.buffer=Sw([this.buffer,o]);const l=[];let a;for(;(a=_w(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(fy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=fy(this.buffer.subarray(0,u));l.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}yr.NEWLINE_CHARS=new Set([`
`,"\r"]);yr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _w(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Ew(n){for(let l=0;l<n.length-1;l++){if(n[l]===10&&n[l+1]===10||n[l]===13&&n[l+1]===13)return l+2;if(n[l]===13&&n[l+1]===10&&l+3<n.length&&n[l+2]===13&&n[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ar={off:0,error:200,warn:300,info:400,debug:500},dy=(n,e,o)=>{if(n){if(ew(ar,n))return n;It(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(ar))}`)}};function ls(){}function Pa(n,e,o){return!e||ar[n]>ar[o]?ls:e[n].bind(e)}const Tw={error:ls,warn:ls,info:ls,debug:ls};let hy=new WeakMap;function It(n){var e;const o=n.logger,l=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Tw;const a=hy.get(o);if(a&&a[0]===l)return a[1];const u={error:Pa("error",o,l),warn:Pa("warn",o,l),info:Pa("info",o,l),debug:Pa("debug",o,l)};return hy.set(o,[l,u]),u}const ji=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xo{constructor(e,o,l){this.iterator=e,this.controller=o,this.client=l}static fromSSEResponse(e,o,l){let a=!1;const u=l?It(l):console;function f(){return Tn(this,arguments,function*(){var y,m,v,S;if(a)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let _=!1;try{try{for(var x=!0,b=xn(xw(e,o)),D;D=yield Ae(b.next()),y=D.done,!y;x=!0){S=D.value,x=!1;const M=S;if(!_)if(M.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield Ae(JSON.parse(M.data))}catch(k){throw u.error("Could not parse message into JSON:",M.data),u.error("From chunk:",M.raw),k}}}catch(M){m={error:M}}finally{try{!x&&!y&&(v=b.return)&&(yield Ae(v.call(b)))}finally{if(m)throw m.error}}_=!0}catch(M){if(Tf(M))return yield Ae(void 0);throw M}finally{_||o.abort()}})}return new Xo(f,o,l)}static fromReadableStream(e,o,l){let a=!1;function u(){return Tn(this,arguments,function*(){var y,m,v,S;const _=new yr,x=Uv(e);try{for(var b=!0,D=xn(x),M;M=yield Ae(D.next()),y=M.done,!y;b=!0){S=M.value,b=!1;const k=S;for(const $ of _.decode(k))yield yield Ae($)}}catch(k){m={error:k}}finally{try{!b&&!y&&(v=D.return)&&(yield Ae(v.call(D)))}finally{if(m)throw m.error}}for(const k of _.flush())yield yield Ae(k)})}function f(){return Tn(this,arguments,function*(){var y,m,v,S;if(a)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let _=!1;try{try{for(var x=!0,b=xn(u()),D;D=yield Ae(b.next()),y=D.done,!y;x=!0){S=D.value,x=!1;const M=S;_||M&&(yield yield Ae(JSON.parse(M)))}}catch(M){m={error:M}}finally{try{!x&&!y&&(v=b.return)&&(yield Ae(v.call(b)))}finally{if(m)throw m.error}}_=!0}catch(M){if(Tf(M))return yield Ae(void 0);throw M}finally{_||o.abort()}})}return new Xo(f,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],l=this.iterator(),a=u=>({next:()=>{if(u.length===0){const f=l.next();e.push(f),o.push(f)}return u.shift()}});return[new Xo(()=>a(e),this.controller,this.client),new Xo(()=>a(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return kv({async start(){o=e[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:u}=await o.next();if(u)return l.close();const f=Ff(JSON.stringify(a)+`
`);l.enqueue(f)}catch(a){l.error(a)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function xw(n,e){return Tn(this,arguments,function*(){var l,a,u,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const p=new Aw,y=new yr,m=Uv(n.body);try{for(var v=!0,S=xn(Cw(m)),_;_=yield Ae(S.next()),l=_.done,!l;v=!0){f=_.value,v=!1;const x=f;for(const b of y.decode(x)){const D=p.decode(b);D&&(yield yield Ae(D))}}}catch(x){a={error:x}}finally{try{!v&&!l&&(u=S.return)&&(yield Ae(u.call(S)))}finally{if(a)throw a.error}}for(const x of y.flush()){const b=p.decode(x);b&&(yield yield Ae(b))}})}function Cw(n){return Tn(this,arguments,function*(){var o,l,a,u;let f=new Uint8Array;try{for(var p=!0,y=xn(n),m;m=yield Ae(y.next()),o=m.done,!o;p=!0){u=m.value,p=!1;const v=u;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ff(v):v;let _=new Uint8Array(f.length+S.length);_.set(f),_.set(S,f.length),f=_;let x;for(;(x=Ew(f))!==-1;)yield yield Ae(f.slice(0,x)),f=f.slice(x)}}catch(v){l={error:v}}finally{try{!p&&!o&&(a=y.return)&&(yield Ae(a.call(y)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Ae(f))})}class Aw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,l,a]=bw(e,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function bw(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rw(n,e){const{response:o,requestLogID:l,retryOfRequestLogID:a,startTime:u}=e,f=await(async()=>{var p;if(e.options.stream)return It(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Xo.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return It(n).debug(`[${l}] response parsed`,ji({retryOfRequestLogID:a,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yf extends Promise{constructor(e,o,l=Rw){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new Yf(this.client,this.responsePromise,async(o,l)=>e(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qv=Symbol("brand.privateNullableHeaders");function*Nw(n){if(!n)return;if(qv in n){const{values:l,nulls:a}=n;yield*l.entries();for(const u of a)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():ay(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let l of o){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=ay(l[1])?l[1]:[l[1]];let f=!1;for(const p of u)p!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,p])}}const jl=n=>{const e=new Headers,o=new Set;for(const l of n){const a=new Set;for(const[u,f]of Nw(l)){const p=u.toLowerCase();a.has(p)||(e.delete(u),a.add(p)),f===null?(e.delete(u),o.add(p)):(e.append(u,f),o.delete(p))}}return{[qv]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yc=n=>{var e,o,l,a,u,f;if(typeof globalThis.process<"u")return(l=(o=(e=eC)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ov;class vr{constructor(e){var o,l,a,u,f,p,y,{baseURL:m=Yc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Yc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=e,_=sr(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:S},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(l=x.timeout)!==null&&l!==void 0?l:vr.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=dy(x.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:dy(Yc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(p=x.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:rw(),this.encoder=fw,this._options=x,this.apiKey=v,this.apiVersion=S,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=jl([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return jl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new yn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Fo}`}defaultIdempotencyKey(){return`stainless-node-retry-${XM()}`}makeStatusError(e,o,l,a){return kt.generate(e,o,l,a)}buildURL(e,o,l){const a=!this.baseURLOverridden()&&l||this.baseURL,u=QM(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return jM(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:l}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:e,path:o},a)))}request(e,o=null){return new Yf(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,l){var a,u,f;const p=await e,y=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=y),await this.prepareOptions(p);const{req:m,url:v,timeout:S}=await this.buildRequest(p,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:p});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=l===void 0?"":`, retryOf: ${l}`,b=Date.now();if(It(this).debug(`[${_}] sending request`,ji({retryOfRequestLogID:l,method:p.method,url:v,options:p,headers:m.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new Cf;const D=new AbortController,M=await this.fetchWithTimeout(v,m,S,D).catch(xf),k=Date.now();if(M instanceof globalThis.Error){const z=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new Cf;const O=Tf(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(o)return It(this).info(`[${_}] connection ${O?"timed out":"failed"} - ${z}`),It(this).debug(`[${_}] connection ${O?"timed out":"failed"} (${z})`,ji({retryOfRequestLogID:l,url:v,durationMs:k-b,message:M.message})),this.retryRequest(p,o,l??_);throw It(this).info(`[${_}] connection ${O?"timed out":"failed"} - error; no more retries left`),It(this).debug(`[${_}] connection ${O?"timed out":"failed"} (error; no more retries left)`,ji({retryOfRequestLogID:l,url:v,durationMs:k-b,message:M.message})),O?new Cv:new gr({cause:M})}const $=`[${_}${x}] ${m.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${k-b}ms`;if(!M.ok){const z=await this.shouldRetry(M);if(o&&z){const A=`retrying, ${o} attempts remaining`;return await cw(M.body),It(this).info(`${$} - ${A}`),It(this).debug(`[${_}] response error (${A})`,ji({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,durationMs:k-b})),this.retryRequest(p,o,l??_,M.headers)}const O=z?"error; no more retries left":"error; not retryable";It(this).info(`${$} - ${O}`);const Z=await M.text().catch(A=>xf(A).message),F=nw(Z),V=F?void 0:Z;throw It(this).debug(`[${_}] response error (${O})`,ji({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,message:V,durationMs:Date.now()-b})),this.makeStatusError(M.status,F,V,M.headers)}return It(this).info($),It(this).debug(`[${_}] response start`,ji({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,durationMs:k-b})),{response:M,options:p,controller:D,requestLogID:_,retryOfRequestLogID:l,startTime:b}}async fetchWithTimeout(e,o,l,a){const u=o||{},{signal:f,method:p}=u,y=sr(u,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),l),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(S.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,l,a){var u;let f;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(f=m)}const y=a==null?void 0:a.get("retry-after");if(y&&!f){const m=parseFloat(y);Number.isNaN(m)?f=Date.parse(y)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await iw(f),this.makeRequest(e,o-1,l)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:o=0}={}){var l,a,u;const f=Object.assign({},e),{method:p,path:y,query:m,defaultBaseURL:v}=f,S=this.buildURL(y,m,v);"timeout"in f&&tw("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:_,body:x}=this.buildBody({options:f}),b=await this.buildHeaders({options:e,method:p,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:S,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:a}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=jl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),aw()),this._options.defaultHeaders,l,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=jl([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:uw(e)}:this.encoder({body:e,headers:l})}}vr.DEFAULT_TIMEOUT=6e4;class St extends vr{constructor(){super(...arguments),this.interactions=new Vv(this)}}Ov=St;St.GeminiNextGenAPIClient=Ov;St.GeminiNextGenAPIClientError=yn;St.APIError=kt;St.APIConnectionError=gr;St.APIConnectionTimeoutError=Cv;St.APIUserAbortError=Cf;St.NotFoundError=Nv;St.ConflictError=Mv;St.RateLimitError=Dv;St.BadRequestError=Av;St.AuthenticationError=bv;St.InternalServerError=Iv;St.PermissionDeniedError=Rv;St.UnprocessableEntityError=wv;St.toFile=gw;St.Interactions=Vv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function ww(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function Dw(n,e){const o={},l=c(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function Iw(n,e){const o={},l=c(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function kw(n,e,o){const l={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(n,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function Uw(n,e,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=c(n,["validationDataset"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec"],py(x))}else if(a==="PREFERENCE_TUNING"){const x=c(n,["validationDataset"]);e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec"],py(x))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let p=c(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const x=c(n,["epochCount"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(p==="PREFERENCE_TUNING"){const x=c(n,["epochCount"]);e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=c(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=c(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=c(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=c(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=c(n,["adapterSize"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=c(n,["adapterSize"]);e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(n,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const _=c(n,["beta"]);return e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),l}function Lw(n,e){const o={},l=c(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=c(n,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&Jw(u);const f=c(n,["config"]);return f!=null&&kw(f,o),o}function zw(n,e){const o={},l=c(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=c(n,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&Kw(u,o,e);const f=c(n,["config"]);return f!=null&&Uw(f,o,e),o}function Hw(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function Gw(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function Pw(n,e,o){const l={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function Vw(n,e,o){const l={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function qw(n,e){const o={},l=c(n,["config"]);return l!=null&&Pw(l,o),o}function Ow(n,e){const o={},l=c(n,["config"]);return l!=null&&Vw(l,o),o}function Bw(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(n,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Bv(p))),d(o,["tuningJobs"],f)}return o}function Fw(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(n,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Rf(p))),d(o,["tuningJobs"],f)}return o}function Yw(n,e){const o={},l=c(n,["name"]);l!=null&&d(o,["model"],l);const a=c(n,["name"]);return a!=null&&d(o,["endpoint"],a),o}function Jw(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(n,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(o,["examples","examples"],a)}return o}function Kw(n,e,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function Bv(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(n,["name"]);a!=null&&d(o,["name"],a);const u=c(n,["state"]);u!=null&&d(o,["state"],lv(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(n,["tuningTask","startTime"]);p!=null&&d(o,["startTime"],p);const y=c(n,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&d(o,["description"],v);const S=c(n,["baseModel"]);S!=null&&d(o,["baseModel"],S);const _=c(n,["_self"]);return _!=null&&d(o,["tunedModel"],Yw(_)),o}function Rf(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(n,["name"]);a!=null&&d(o,["name"],a);const u=c(n,["state"]);u!=null&&d(o,["state"],lv(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(o,["startTime"],p);const y=c(n,["endTime"]);y!=null&&d(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&d(o,["error"],v);const S=c(n,["description"]);S!=null&&d(o,["description"],S);const _=c(n,["baseModel"]);_!=null&&d(o,["baseModel"],_);const x=c(n,["tunedModel"]);x!=null&&d(o,["tunedModel"],x);const b=c(n,["preTunedModel"]);b!=null&&d(o,["preTunedModel"],b);const D=c(n,["supervisedTuningSpec"]);D!=null&&d(o,["supervisedTuningSpec"],D);const M=c(n,["preferenceOptimizationSpec"]);M!=null&&d(o,["preferenceOptimizationSpec"],M);const k=c(n,["tuningDataStats"]);k!=null&&d(o,["tuningDataStats"],k);const $=c(n,["encryptionSpec"]);$!=null&&d(o,["encryptionSpec"],$);const z=c(n,["partnerModelTuningSpec"]);z!=null&&d(o,["partnerModelTuningSpec"],z);const O=c(n,["customBaseModel"]);O!=null&&d(o,["customBaseModel"],O);const Z=c(n,["experiment"]);Z!=null&&d(o,["experiment"],Z);const F=c(n,["labels"]);F!=null&&d(o,["labels"],F);const V=c(n,["outputUri"]);V!=null&&d(o,["outputUri"],V);const R=c(n,["pipelineJob"]);R!=null&&d(o,["pipelineJob"],R);const A=c(n,["serviceAccount"]);A!=null&&d(o,["serviceAccount"],A);const I=c(n,["tunedModelDisplayName"]);I!=null&&d(o,["tunedModelDisplayName"],I);const P=c(n,["veoTuningSpec"]);return P!=null&&d(o,["veoTuningSpec"],P),o}function Xw(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(n,["name"]);a!=null&&d(o,["name"],a);const u=c(n,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(n,["done"]);f!=null&&d(o,["done"],f);const p=c(n,["error"]);return p!=null&&d(o,["error"],p),o}function py(n,e){const o={},l=c(n,["gcsUri"]);l!=null&&d(o,["validationDatasetUri"],l);const a=c(n,["vertexDatasetResource"]);return a!=null&&d(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $w extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new no(jn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:mf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Gw(e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Rf(v))}else{const m=Hw(e);return p=ge("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Bv(v))}}async listInternal(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Ow(e);return p=ge("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=Fw(v),_=new Vg;return Object.assign(_,S),_})}else{const m=qw(e);return p=ge("tunedModels",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=Bw(v),_=new Vg;return Object.assign(_,S),_})}}async cancel(e){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=ww(e);return p=ge("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=Iw(v),_=new qg;return Object.assign(_,S),_})}else{const m=Mw(e);return p=ge("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=Dw(v),_=new qg;return Object.assign(_,S),_})}}async tuneInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=zw(e,e);return u=ge("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Rf(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Lw(e);return u=ge("tunedModels",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Xw(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Zw=1024*1024*8,Ww=3,jw=1e3,e2=2,rr="x-goog-upload-status";async function t2(n,e,o){var l;const a=await Fv(n,e,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function n2(n,e,o){var l;const a=await Fv(n,e,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=jy(u),p=new Gf;return Object.assign(p,f),p}async function Fv(n,e,o){var l,a;let u=0,f=0,p=new gf(new Response),y="upload";for(u=n.size;f<u;){const m=Math.min(Zw,u-f),v=n.slice(f,f+m);f+m>=u&&(y+=", finalize");let S=0,_=jw;for(;S<Ww&&(p=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[rr]));)S++,await o2(_),_=_*e2;if(f+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[rr])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function i2(n){return{size:n.size,type:n.type}}function o2(n){return new Promise(e=>setTimeout(e,n))}class l2{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t2(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n2(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s2{create(e,o,l){return new a2(e,o,l)}}class a2{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const my="x-goog-api-key";class r2{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(my)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(my,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u2="gl-node/";class c2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=oC(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new r2(this.apiKey);this.apiClient=new iM({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:u2+"web",uploader:new l2,downloader:new Qw}),this.models=new TM(this.apiClient),this.live=new gM(this.apiClient,a,new s2),this.batches=new kA(this.apiClient),this.chats=new pb(this.models,this.apiClient),this.caches=new fb(this.apiClient),this.files=new Cb(this.apiClient),this.operations=new xM(this.apiClient),this.authTokens=new PM(this.apiClient),this.tunings=new $w(this.apiClient),this.fileSearchStores=new KM(this.apiClient)}}const f2=({trip:n,onDelete:e,onEdit:o,onCardClick:l,onModeClick:a,onUpdateTrip:u,lang:f,className:p,username:y="MOMO"})=>{const m=Ii[f],v=ce.useRef(null),[S,_]=ce.useState(!1),[x,b]=ce.useState(!1),D=cr[n.mode],M=D.icon,k=A=>A?new Date(A).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/-/g,"/"):"",$=A=>{const I=A.name,P=A.name_zh||I;return{code:A.code||I.substring(0,3).toUpperCase(),name:f==="zh"?P:I,city:A.city||A.name}},z=$(n.origin),O=$(n.destination),Z=k(n.startDate),F=ce.useMemo(()=>{const I=(y||"TRAVELER").toUpperCase().replace(/[^A-Z]/g,"X").substring(0,10).padEnd(10,"<"),P="VOYAGER".padEnd(10,"<"),j="UTO";let ne="X";switch(n.mode){case Mt.PLANE:ne="P";break;case Mt.TRAIN:ne="T";break;case Mt.CAR:ne="C";break;case Mt.BOAT:ne="S";break;case Mt.WALK:ne="W";break;case Mt.CYCLE:ne="B";break}const oe=`P<${j}${I}<<${P}<<<<<<<<<<<<`.substring(0,44),K=n.id.replace(/-/g,"").substring(0,9).toUpperCase(),L=z.code.substring(0,3).padEnd(3,"<"),X=O.code.substring(0,3).padEnd(3,"<"),re=`${K}<${L}800101M300101${X}<${ne}<<<<<<<<<<<<<<`.substring(0,44);return{line1:oe,line2:re}},[n,y,z.code,O.code]),V=async A=>{if(A.stopPropagation(),!(x||!u)){b(!0);try{const I=new c2({apiKey:""}),P=`A highly aesthetic, minimalist, cinematic digital art illustration of ${O.city}, focusing on its unique landmark or vibe, moody lighting, soft pastel colors, suitable for a premium travel application cover. No text.`,j=await I.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:P}]},config:{imageConfig:{aspectRatio:"16:9"}}});for(const ne of j.candidates[0].content.parts)if(ne.inlineData){const K=`data:image/png;base64,${ne.inlineData.data}`;u({...n,aiImage:K});break}}catch(I){console.error("AI Generation failed",I)}finally{b(!1)}}},R=async()=>{if(v.current){_(!1);try{const A=await j1(v.current,{pixelRatio:3}),I=document.createElement("a");I.download=`voyager-${n.startDate}.png`,I.href=A,I.click()}catch(A){console.error("Failed to export",A)}}};return T.jsx("div",{className:`relative mb-6 select-none ${p}`,children:T.jsxs("div",{ref:v,className:"w-full bg-[#fdfbf7] dark:bg-[#1a1f2e] rounded-2xl shadow-2xl border border-slate-200/60 dark:border-white/5 overflow-hidden relative group transition-all duration-500 hover:-translate-y-1 active:scale-[0.98]",onClick:()=>l?l(n):o(n),children:[T.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none transition-opacity duration-700",children:n.aiImage?T.jsx("img",{src:n.aiImage,alt:"Travel Scenery",className:"w-full h-full object-cover opacity-[0.15] dark:opacity-[0.25] mix-blend-multiply dark:mix-blend-overlay"}):T.jsx("div",{className:"w-full h-full opacity-[0.12] grayscale sepia-[0.3]",children:T.jsx(kf,{trips:[n],highlightTrip:n,viewMode:"routes",interactionEnabled:!1,hideBackground:!0,className:"w-full h-full"})})}),T.jsx("div",{className:"absolute inset-0 opacity-[0.05] dark:opacity-[0.08] pointer-events-none z-10",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/natural-paper.png')"}}),T.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-dashed border-slate-200 dark:border-white/10 bg-white/40 dark:bg-black/20 backdrop-blur-md relative z-20",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"}),T.jsx("span",{className:"text-[9px] font-black tracking-[0.25em] text-slate-400 dark:text-slate-500 uppercase",children:"Universal Travel Document"})]}),T.jsxs("div",{className:"flex items-center space-x-3 relative",children:[T.jsx("span",{className:"text-[10px] font-mono font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:y}),T.jsxs("div",{className:"relative flex items-center gap-1",children:[T.jsx("button",{onClick:V,disabled:x,className:"text-slate-300 hover:text-blue-500 dark:text-slate-600 dark:hover:text-blue-400 p-1 transition-all",children:x?T.jsx(Cy,{size:14,className:"animate-spin"}):T.jsx(LT,{size:14})}),T.jsx("button",{onClick:A=>{A.stopPropagation(),_(!S)},className:"text-slate-300 hover:text-slate-600 dark:text-slate-600 dark:hover:text-slate-300 p-1",children:T.jsx(iT,{size:16})}),S&&T.jsxs("div",{className:"absolute right-full top-0 mr-2 flex items-center bg-white dark:bg-slate-800 rounded-full shadow-2xl border border-slate-200 dark:border-slate-700 animate-slide-up h-8 px-1",children:[T.jsx("button",{onClick:A=>{A.stopPropagation(),o(n),_(!1)},className:"p-2 text-slate-600 dark:text-slate-300 hover:text-blue-500 transition-colors",children:T.jsx(TT,{size:12})}),T.jsx("button",{onClick:A=>{A.stopPropagation(),R()},className:"p-2 text-slate-600 dark:text-slate-300 hover:text-blue-500 transition-colors",children:T.jsx(DT,{size:12})}),T.jsx("button",{onClick:A=>{A.stopPropagation(),e(n.id),_(!1)},className:"p-2 text-red-500 hover:text-red-600 transition-colors",children:T.jsx(VT,{size:12})})]})]})]})]}),T.jsxs("div",{className:"p-6 relative z-20",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"text-[8px] text-slate-400 font-black uppercase mb-1 tracking-[0.2em]",children:m.origin}),T.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-slate-50 tracking-tighter leading-none",children:z.code}),T.jsx("div",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 mt-2 truncate max-w-[120px]",children:z.city})]}),T.jsxs("div",{className:"flex flex-col items-center justify-center px-4 opacity-40 group-hover:opacity-80 transition-opacity",children:[T.jsx(M,{size:20,className:"text-blue-500 mb-2"}),T.jsx("div",{className:"w-16 h-[1.5px] bg-gradient-to-r from-transparent via-slate-300 dark:via-slate-600 to-transparent relative",children:T.jsx("div",{className:"absolute inset-0 bg-blue-500/50 animate-pulse"})}),T.jsxs("div",{className:"text-[8px] font-mono font-bold text-slate-400 mt-2",children:[n.distanceKm,"KM"]})]}),T.jsxs("div",{className:"flex-1 text-right",children:[T.jsx("div",{className:"text-[8px] text-slate-400 font-black uppercase mb-1 tracking-[0.2em]",children:m.dest}),T.jsx("div",{className:"text-4xl font-black text-slate-800 dark:text-slate-50 tracking-tighter leading-none",children:O.code}),T.jsx("div",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 mt-2 truncate max-w-[120px] ml-auto",children:O.city})]})]}),T.jsxs("div",{className:"flex items-end justify-between border-t border-slate-100 dark:border-white/5 pt-4",children:[T.jsxs("div",{className:"flex space-x-8",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] text-slate-400 font-black uppercase tracking-[0.2em] mb-1",children:m.date}),T.jsx("div",{className:"text-xs font-mono font-black text-slate-700 dark:text-slate-300",children:Z})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] text-slate-400 font-black uppercase tracking-[0.2em] mb-1",children:m.transportMode}),T.jsx("div",{className:`text-xs font-black uppercase tracking-tight ${D.color}`,children:m[n.mode]})]})]}),T.jsx("div",{className:"relative group/stamp",children:T.jsx("div",{className:`
                             border-2 border-dashed rounded-lg px-2 py-0.5 transform -rotate-6
                             ${n.status==="PLAN"?"border-amber-500/40 text-amber-600/60":"border-emerald-500/40 text-emerald-600/60"}
                         `,children:T.jsx("span",{className:"text-[10px] font-black tracking-widest uppercase",children:n.status||"ARRIVED"})})})]})]}),T.jsx("div",{className:"bg-[#f0f0f0]/50 dark:bg-black/30 px-6 py-4 border-t border-slate-200/50 dark:border-white/5 relative z-20",children:T.jsxs("div",{className:"font-mono text-[9px] sm:text-[10px] leading-relaxed text-slate-400 dark:text-slate-600 tracking-[0.25em] break-all uppercase opacity-80",children:[F.line1,T.jsx("br",{}),F.line2]})})]})})},d2=({className:n})=>T.jsxs("svg",{className:n,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("pattern",{id:"waves",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:T.jsx("path",{d:"M0 10 Q5 5 10 10 T20 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#waves)"})]}),h2=({className:n})=>T.jsxs("svg",{className:n,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("pattern",{id:"dots",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:T.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"currentColor"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#dots)"})]}),p2=({className:n})=>T.jsxs("svg",{className:n,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("pattern",{id:"grid",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:T.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),m2=({className:n})=>T.jsxs("svg",{className:n,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("pattern",{id:"hex",x:"0",y:"0",width:"20",height:"34",patternUnits:"userSpaceOnUse",children:T.jsx("path",{d:"M10 0 L20 5 L20 15 L10 20 L0 15 L0 5 Z",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#hex)"})]}),g2=({className:n})=>T.jsxs("svg",{className:n,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsx("pattern",{id:"lines",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:T.jsx("path",{d:"M0 10 L10 0",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#lines)"})]}),Yv=(n,e)=>ce.useMemo(()=>{const o=new Set,l=new Set,a=new Set,u={},f={},p={},y={};let m=0,v=0;const S=x=>{if(x)return n0[x]?n0[x]:x};n.forEach(x=>{const b=S(x.origin.country),D=S(x.destination.country);b&&o.add(b),D&&o.add(D),x.origin.state&&l.add(x.origin.state),x.destination.state&&l.add(x.destination.state);const M=x.origin.city||x.origin.name,k=x.destination.city||x.destination.name;a.add(M),a.add(k),m+=x.distanceKm,v+=x.isRoundTrip?1.5:2,u[x.mode]=(u[x.mode]||0)+1,D&&(f[D]=(f[D]||0)+1),b&&(f[b]=(f[b]||0)+1),x.destination.state&&(p[x.destination.state]=(p[x.destination.state]||0)+1),x.origin.state&&(p[x.origin.state]=(p[x.origin.state]||0)+1),y[k]=(y[k]||0)+1,y[M]=(y[M]||0)+1});const _=(x,b)=>{const D=Object.entries(x).sort((M,k)=>k[1]-M[1]);return e==="zh"&&b==="country"?D.map(([M,k])=>[KT[M]||M,k]):D};return{countries:o.size,provinces:l.size,cities:a.size,distance:m,trips:n.length,footprints:Math.ceil(v),modeStats:_(u,"other"),countryStats:_(f,"country"),provinceStats:_(p,"other"),cityStats:_(y,"other")}},[n,e]),y2=({trips:n,lang:e,onAddTrip:o,onViewChange:l})=>{const a=Yv(n,e),u=Ii[e],[f,p]=ce.useState(0),m=(S=>{const _=[{label:u.statsOrbits,div:40075,unit:e==="zh"?"":"ORBITS",decimals:2},{label:u.statsShaBhy,div:3316,unit:e==="zh"?"":"TIMES",decimals:1},{label:u.statsEarthMoon,div:768800,unit:e==="zh"?"":"TRIPS",decimals:4},{label:u.statsMars,div:546e5,unit:e==="zh"?"":"TIMES",decimals:6},{label:u.statsAndromeda,div:2365e16,unit:"%",decimals:2}],x=_[f%_.length];let b=S/x.div,D=b.toFixed(x.decimals);return x.unit==="%"&&(b=b*100,D=b.toExponential(4)),{...x,value:D}})(a.distance),v=S=>{l&&l(S)};return T.jsxs("div",{className:"max-w-2xl mx-auto px-4 pb-32 pt-4 space-y-4 relative",children:[T.jsxs("div",{onClick:S=>{S.stopPropagation(),p(_=>_+1)},className:"relative w-full aspect-[2/1] sm:aspect-[2.5/1] rounded-[2rem] overflow-hidden cursor-pointer shadow-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 transition-all duration-500 hover:shadow-xl active:scale-[0.99] group",children:[T.jsx("div",{className:"absolute inset-0 opacity-10 grayscale mix-blend-multiply dark:mix-blend-overlay pointer-events-none scale-110",children:T.jsx(kf,{trips:n,className:"w-full h-full bg-transparent",interactionEnabled:!1,viewMode:"visited",hideBackground:!0})}),T.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:[T.jsx("div",{className:"absolute w-48 h-48 border border-blue-500/20 rounded-full animate-[ping_3s_cubic-bezier(0,0,0.2,1)_infinite]"}),T.jsx("div",{className:"absolute w-72 h-72 border border-blue-500/10 rounded-full animate-[ping_3s_cubic-bezier(0,0,0.2,1)_infinite_1s]"})]}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 p-6",children:[T.jsx("div",{className:"mb-2 px-3 py-1 rounded-full bg-white/50 dark:bg-white/5 backdrop-blur-sm border border-slate-200 dark:border-white/10 text-[10px] font-bold uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400 pointer-events-auto cursor-pointer hover:bg-white/80 dark:hover:bg-white/10",children:m.label}),T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"font-mono font-black text-6xl sm:text-7xl tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-slate-800 to-slate-600 dark:from-white dark:to-slate-400 drop-shadow-sm select-none",children:m.value}),T.jsx("div",{className:"text-sm sm:text-lg font-bold text-slate-400 dark:text-slate-500 tracking-[0.3em] uppercase mt-2",children:m.unit})]})]})]}),T.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[T.jsxs("div",{onClick:()=>v("cards"),className:"col-span-3 relative rounded-[2rem] overflow-hidden h-40 shadow-sm border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 cursor-pointer transition-transform active:scale-95 hover:bg-slate-100 dark:hover:bg-slate-800/80 group",children:[T.jsx("div",{className:"absolute inset-0 opacity-5 text-slate-900 dark:text-white pointer-events-none",children:T.jsx(d2,{})}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-5 z-10",children:[T.jsx("div",{className:"flex items-center justify-between",children:T.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center",children:[u.statsDistance,T.jsx("span",{className:"ml-2 w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"})]})}),T.jsxs("div",{className:"flex items-baseline",children:[T.jsx("div",{className:"text-2xl sm:text-3xl font-black font-mono text-slate-900 dark:text-white tracking-tight truncate",children:a.distance.toLocaleString()}),T.jsx("div",{className:"ml-1 text-[8px] font-bold text-slate-400 uppercase",children:"KM"})]}),T.jsx(_T,{size:48,className:"absolute bottom-2 right-2 text-slate-900 dark:text-white opacity-5 rotate-[-15deg] group-hover:scale-110 transition-transform"})]})]}),T.jsxs("div",{onClick:()=>v("list"),className:"col-span-3 relative rounded-[2rem] overflow-hidden h-40 shadow-sm border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 cursor-pointer transition-transform active:scale-95 hover:bg-slate-100 dark:hover:bg-slate-800/80 group",children:[T.jsx("div",{className:"absolute inset-0 opacity-5 text-slate-900 dark:text-white pointer-events-none",children:T.jsx(h2,{})}),T.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-5 z-10",children:[T.jsx("div",{className:"flex items-center justify-between",children:T.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center",children:[u.statsTrips,T.jsx("span",{className:"ml-2 w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"})]})}),T.jsxs("div",{className:"flex items-baseline",children:[T.jsx("div",{className:"text-3xl sm:text-4xl font-black font-mono text-slate-900 dark:text-white tracking-tight",children:a.trips}),T.jsx("div",{className:"ml-1 text-[8px] font-bold text-slate-400 uppercase",children:e==="zh"?"":"TRIPS"})]}),T.jsx(uT,{size:48,className:"absolute bottom-2 right-2 text-slate-900 dark:text-white opacity-5 rotate-[15deg] group-hover:scale-110 transition-transform"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[T.jsxs("div",{onClick:()=>v("compact"),className:"col-span-2 relative aspect-[3/4] sm:aspect-[1/1] rounded-[2rem] overflow-hidden shadow-sm border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 cursor-pointer transition-transform active:scale-95 hover:bg-slate-50 dark:hover:bg-slate-800/80 group",children:[T.jsx("div",{className:"absolute inset-0 opacity-5 text-slate-900 dark:text-white pointer-events-none",children:T.jsx(p2,{})}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-100/50 via-transparent to-transparent dark:from-slate-950/50"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 z-10",children:[T.jsx("div",{className:"mb-2 p-2.5 bg-slate-100 dark:bg-slate-800 rounded-full group-hover:scale-110 transition-transform",children:T.jsx(wf,{size:18,className:"text-emerald-500"})}),T.jsx("div",{className:"text-2xl sm:text-3xl font-black font-mono text-slate-900 dark:text-white leading-none mb-1",children:a.countries}),T.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 text-center",children:u.statsCountries})]})]}),T.jsxs("div",{onClick:()=>v("routes"),className:"col-span-2 relative aspect-[3/4] sm:aspect-[1/1] rounded-[2rem] overflow-hidden shadow-sm border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 cursor-pointer transition-transform active:scale-95 hover:bg-slate-50 dark:hover:bg-slate-800/80 group",children:[T.jsx("div",{className:"absolute inset-0 opacity-5 text-slate-900 dark:text-white pointer-events-none",children:T.jsx(g2,{})}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-100/50 via-transparent to-transparent dark:from-slate-950/50"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 z-10",children:[T.jsx("div",{className:"mb-2 p-2.5 bg-slate-100 dark:bg-slate-800 rounded-full group-hover:scale-110 transition-transform",children:T.jsx(ss,{size:18,className:"text-indigo-500"})}),T.jsx("div",{className:"text-2xl sm:text-3xl font-black font-mono text-slate-900 dark:text-white leading-none mb-1",children:a.provinces}),T.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 text-center",children:u.statsProvinces})]})]}),T.jsxs("div",{onClick:()=>v("visited"),className:"col-span-2 relative aspect-[3/4] sm:aspect-[1/1] rounded-[2rem] overflow-hidden shadow-sm border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 cursor-pointer transition-transform active:scale-95 hover:bg-slate-50 dark:hover:bg-slate-800/80 group",children:[T.jsx("div",{className:"absolute inset-0 opacity-5 text-slate-900 dark:text-white pointer-events-none",children:T.jsx(m2,{})}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-100/50 via-transparent to-transparent dark:from-slate-950/50"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 z-10",children:[T.jsx("div",{className:"mb-2 p-2.5 bg-slate-100 dark:bg-slate-800 rounded-full group-hover:scale-110 transition-transform",children:T.jsx(Mf,{size:18,className:"text-purple-500"})}),T.jsx("div",{className:"text-2xl sm:text-3xl font-black font-mono text-slate-900 dark:text-white leading-none mb-1",children:a.cities}),T.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-widest text-slate-400 text-center",children:u.statsCities})]})]})]})]})},v2=({trips:n,lang:e})=>{const o=Ii[e],l=Yv(n,e),{modeStats:a,countryStats:u,provinceStats:f,cityStats:p}=l,y=({title:m,icon:v,colorClass:S,bgClass:_,data:x})=>T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx("div",{className:`p-2 rounded-xl mr-3 ${_} ${S}`,children:T.jsx(v,{size:18})}),T.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:m})]}),T.jsx("div",{className:"space-y-3 flex-1",children:x.slice(0,5).map(([b,D],M)=>T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:`text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full mr-2 ${M<3?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:M+1}),T.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 truncate max-w-[100px]",children:b})]}),T.jsx("span",{className:"text-xs font-mono font-bold text-slate-400",children:D})]},b))})]});return T.jsx("div",{className:"max-w-2xl mx-auto px-4 pb-20 pt-4",children:T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-blue-600 dark:text-blue-400 mr-3",children:T.jsx(VE,{size:18})}),T.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:e==="zh"?"":"Transport DNA"})]}),T.jsx("div",{className:"space-y-4 flex-1",children:a.slice(0,5).map(([m,v])=>{const S=cr[m],_=S.icon;return T.jsxs("div",{className:"space-y-1",children:[T.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-slate-500",children:[T.jsxs("span",{className:"flex items-center",children:[T.jsx(_,{size:12,className:"mr-1"})," ",o[m]]}),T.jsx("span",{children:v})]}),T.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full rounded-full ${S.bg.replace("/20","")} ${S.color.replace("text-","bg-")}`,style:{width:`${v/n.length*100}%`}})})]},m)})})]}),T.jsx(y,{title:o.statsCountries,icon:wf,colorClass:"text-emerald-600 dark:text-emerald-400",bgClass:"bg-emerald-50 dark:bg-emerald-900/20",data:u}),T.jsx(y,{title:o.statsProvinces,icon:ss,colorClass:"text-indigo-600 dark:text-indigo-400",bgClass:"bg-indigo-50 dark:bg-indigo-900/20",data:f}),T.jsx(y,{title:o.statsCities,icon:Mf,colorClass:"text-purple-600 dark:text-purple-400",bgClass:"bg-purple-50 dark:bg-purple-900/20",data:p})]})})},S2=n=>{const e=ce.useMemo(()=>[...n.trips].sort((l,a)=>a.startDate.localeCompare(l.startDate)),[n.trips]),o=ce.useMemo(()=>{const l={};return e.forEach(a=>{const u=a.startDate.split("-")[0];l[u]||(l[u]=[]),l[u].push(a)}),Object.entries(l).sort((a,u)=>Number(u[0])-Number(a[0]))},[e]);return e.length===0?null:T.jsx("div",{className:"relative w-full max-w-md mx-auto pb-24 px-4",children:o.map(([l,a])=>T.jsxs("div",{className:"relative mb-16 group/year",children:[T.jsx("div",{className:"sticky top-24 z-0 pointer-events-none select-none h-0 overflow-visible flex flex-col",children:T.jsx("div",{className:`
                        absolute -left-6 -top-14 sm:-left-12
                        text-[9rem] sm:text-[13rem] 
                        leading-none font-black italic tracking-tighter 
                        text-slate-900/5 dark:text-white/5 
                        mix-blend-multiply dark:mix-blend-overlay
                        transform -rotate-2 origin-top-left
                        transition-transform duration-700 ease-out
                        group-hover/year:translate-x-2 group-hover/year:scale-105
                    `,children:l})}),T.jsx("div",{className:"space-y-1 relative z-10 pt-4",children:a.map(u=>T.jsx("div",{className:"relative z-10 animate-slide-up",children:T.jsx(f2,{...n,onDelete:n.onDelete||(()=>{}),onEdit:n.onEdit||(()=>{}),onModeClick:n.onModeClick||(()=>{}),trip:u,username:n.username,onCardClick:n.onTripClick})},u.id))})]},l))})},_2=({trips:n,onEdit:e,lang:o})=>{const l=Ii[o],a=u=>o==="zh"&&u.name_zh||u.name;return T.jsx("div",{className:"space-y-2 pb-20",children:n.map(u=>{const f=cr[u.mode],p=f.icon,y=u.status||"ARRIVED";let m="text-emerald-500",v=l.statusArrived;return y==="PLAN"&&(m="text-amber-500",v=l.statusPlan),y==="TRAVELING"&&(m="text-blue-500",v=l.statusTraveling),T.jsxs("div",{onClick:()=>e&&e(u),className:"flex items-center p-4 bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors cursor-pointer group",children:[T.jsx("div",{className:`p-3 rounded-xl ${f.bg} mr-4`,children:T.jsx(p,{size:18,className:f.color})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center text-base font-bold text-slate-900 dark:text-white mb-0.5",children:[T.jsx("span",{className:"truncate",children:a(u.origin)}),T.jsx(Ty,{size:14,className:"mx-2 text-slate-300"}),T.jsx("span",{className:"truncate",children:a(u.destination)})]}),T.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:[u.startDate,"  ",u.distanceKm.toLocaleString()," km"]})]}),T.jsxs("div",{className:"flex flex-col items-end ml-4 text-right",children:[T.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest ${m} flex items-center`,children:v}),T.jsxs("div",{className:"text-[10px] font-mono text-slate-300 dark:text-slate-600 mt-1",children:[u.origin.code," - ",u.destination.code]})]})]},u.id)})})},E2=()=>{const[n,e]=ce.useState([]),[o,l]=ce.useState(!1),[a,u]=ce.useState("overview"),[f,p]=ce.useState(void 0),[y,m]=ce.useState(!1),[v,S]=ce.useState(!1),[_,x]=ce.useState({years:[],countries:[],provinces:[],cities:[],search:""}),[b,D]=ce.useState("zh"),[M,k]=ce.useState("system"),[$,z]=ce.useState("Momo"),[O,Z]=ce.useState(void 0),[F,V]=ce.useState(!0),R=ce.useRef(null),A=()=>{e(us())};ce.useEffect(()=>{const oe=_y();oe.language&&D(oe.language),oe.theme&&k(oe.theme),oe.username&&z(oe.username),A()},[]),ce.useEffect(()=>{const oe=window.document.documentElement,K=window.matchMedia("(prefers-color-scheme: dark)"),L=()=>{const X=K.matches,re=M==="dark"||M==="system"&&X;V(re),re?oe.classList.add("dark"):oe.classList.remove("dark")};return L(),K.addEventListener("change",L),()=>K.removeEventListener("change",L)},[M]);const I=Ii[b],P=oe=>{jm(oe),A()},j=ce.useMemo(()=>n.filter(oe=>{if(_.search){const K=_.search.toLowerCase();return oe.origin.name.toLowerCase().includes(K)||oe.destination.name.toLowerCase().includes(K)}return!0}).sort((oe,K)=>K.startDate.localeCompare(oe.startDate)),[n,_]),ne=({mode:oe,icon:K,label:L})=>T.jsxs("button",{onClick:()=>u(oe),className:`flex flex-col items-center justify-center flex-1 py-3 transition-all ${a===oe?"text-blue-500 scale-110":"text-slate-400 dark:text-slate-600"}`,children:[T.jsx(K,{size:20,strokeWidth:a===oe?3:2}),T.jsx("span",{className:"text-[10px] font-bold mt-1 uppercase tracking-tighter",children:L})]});return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-[#0b0f1a] text-slate-900 dark:text-slate-100 selection:bg-blue-500/30 font-sans pb-24",children:[T.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 z-50 bg-white/80 dark:bg-[#0b0f1a]/80 backdrop-blur-2xl border-b border-slate-200/50 dark:border-white/5 px-6 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:T.jsx(ss,{size:18,className:"text-white"})}),T.jsx("h1",{className:"text-lg font-black tracking-tighter uppercase italic",children:I.appTitle})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:()=>l(!0),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",children:T.jsx(bT,{size:22,strokeWidth:2.5})}),T.jsx("button",{onClick:()=>S(!v),className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:T.jsx(Ja,{size:20})}),T.jsx("button",{onClick:()=>m(!y),className:"p-2 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:T.jsx(MT,{size:20})})]})]}),T.jsxs("main",{className:"max-w-2xl mx-auto pt-20 px-4",children:[v&&T.jsx("div",{className:"mb-6 animate-slide-up",children:T.jsx(lx,{trips:n,onFilterChange:x,lang:b})}),T.jsxs("div",{className:"animate-fade-in",children:[a==="overview"&&T.jsx(y2,{trips:j,lang:b,onAddTrip:()=>l(!0),onViewChange:u}),a==="cards"&&T.jsx(S2,{trips:j,lang:b,onDelete:Hc,onEdit:Z,onModeClick:()=>{},onTripClick:p,username:$,onUpdateTrip:P}),a==="list"&&T.jsx(_2,{trips:j,lang:b,onDelete:Hc,onEdit:Z,onModeClick:()=>{}}),a==="routes"&&T.jsx("div",{className:"fixed inset-0 top-16 bottom-24 bg-white dark:bg-black",children:T.jsx(kf,{ref:R,trips:j,highlightTrip:f,viewMode:"routes",interactionEnabled:!0})}),a==="visited"&&T.jsx(v2,{trips:j,lang:b,onDelete:Hc,onEdit:Z,onModeClick:()=>{}})]})]}),T.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 h-20 bg-white/90 dark:bg-[#0b0f1a]/95 backdrop-blur-xl border-t border-slate-200/50 dark:border-white/5 z-50 px-2 flex items-center justify-around max-w-2xl mx-auto rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.05)]",children:[T.jsx(ne,{mode:"overview",icon:fT,label:I.layoutOverview}),T.jsx(ne,{mode:"cards",icon:jE,label:I.layoutCards}),T.jsx(ne,{mode:"routes",icon:ss,label:I.viewRoutes}),T.jsx(ne,{mode:"visited",icon:xy,label:I.viewVisited}),T.jsx(ne,{mode:"list",icon:hT,label:I.layoutList})]}),y&&T.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-[#0b0f1a] animate-slide-up overflow-y-auto",children:[T.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/5",children:[T.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter",children:I.settingsTitle}),T.jsx("button",{onClick:()=>m(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:""})]}),T.jsx(ox,{onDataChange:A,lang:b,onLanguageChange:D,onThemeChange:k,onUsernameChange:z})]}),T.jsx(ix,{isOpen:o||!!O,onClose:()=>{l(!1),Z(void 0)},onSave:oe=>{O?jm(oe[0]):TE(oe),A(),Z(void 0),l(!1)},lang:b,initialData:O})]})},T2=vE.createRoot(document.getElementById("root"));T2.render(T.jsx(fE.StrictMode,{children:T.jsx(E2,{})}));
